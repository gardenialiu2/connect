var b3=Object.defineProperty;var S3=(t,e,n)=>e in t?b3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hb=(t,e,n)=>(S3(t,typeof e!="symbol"?e+"":e,n),n),V0=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var B=(t,e,n)=>(V0(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ge=(t,e,n,r)=>(V0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Ih=(t,e,n,r)=>({set _(i){ge(t,e,i,n)},get _(){return B(t,e,r)}}),at=(t,e,n)=>(V0(t,e,"access private method"),n);function T3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function hl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function I3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _x={exports:{}},Og={},Ex={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),x3=Symbol.for("react.portal"),C3=Symbol.for("react.fragment"),A3=Symbol.for("react.strict_mode"),k3=Symbol.for("react.profiler"),R3=Symbol.for("react.provider"),P3=Symbol.for("react.context"),O3=Symbol.for("react.forward_ref"),N3=Symbol.for("react.suspense"),D3=Symbol.for("react.memo"),M3=Symbol.for("react.lazy"),pb=Symbol.iterator;function L3(t){return t===null||typeof t!="object"?null:(t=pb&&t[pb]||t["@@iterator"],typeof t=="function"?t:null)}var bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sx=Object.assign,Tx={};function wc(t,e,n){this.props=t,this.context=e,this.refs=Tx,this.updater=n||bx}wc.prototype.isReactComponent={};wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ix(){}Ix.prototype=wc.prototype;function a1(t,e,n){this.props=t,this.context=e,this.refs=Tx,this.updater=n||bx}var l1=a1.prototype=new Ix;l1.constructor=a1;Sx(l1,wc.prototype);l1.isPureReactComponent=!0;var mb=Array.isArray,xx=Object.prototype.hasOwnProperty,u1={current:null},Cx={key:!0,ref:!0,__self:!0,__source:!0};function Ax(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xx.call(e,r)&&!Cx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zd,type:t,key:s,ref:o,props:i,_owner:u1.current}}function $3(t,e){return{$$typeof:zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c1(t){return typeof t=="object"&&t!==null&&t.$$typeof===zd}function V3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gb=/\/+/g;function F0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V3(""+t.key):e.toString(36)}function wp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zd:case x3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+F0(o,0):r,mb(i)?(n="",t!=null&&(n=t.replace(gb,"$&/")+"/"),wp(i,e,n,"",function(c){return c})):i!=null&&(c1(i)&&(i=$3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+F0(s,a);o+=wp(s,e,n,l,i)}else if(l=L3(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+F0(s,a++),o+=wp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xh(t,e,n){if(t==null)return t;var r=[],i=0;return wp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function F3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cr={current:null},_p={transition:null},U3={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:_p,ReactCurrentOwner:u1};function kx(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:xh,forEach:function(t,e,n){xh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xh(t,function(){e++}),e},toArray:function(t){return xh(t,function(e){return e})||[]},only:function(t){if(!c1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ht.Component=wc;ht.Fragment=C3;ht.Profiler=k3;ht.PureComponent=a1;ht.StrictMode=A3;ht.Suspense=N3;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U3;ht.act=kx;ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=u1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xx.call(e,l)&&!Cx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zd,type:t.type,key:i,ref:s,props:r,_owner:o}};ht.createContext=function(t){return t={$$typeof:P3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R3,_context:t},t.Consumer=t};ht.createElement=Ax;ht.createFactory=function(t){var e=Ax.bind(null,t);return e.type=t,e};ht.createRef=function(){return{current:null}};ht.forwardRef=function(t){return{$$typeof:O3,render:t}};ht.isValidElement=c1;ht.lazy=function(t){return{$$typeof:M3,_payload:{_status:-1,_result:t},_init:F3}};ht.memo=function(t,e){return{$$typeof:D3,type:t,compare:e===void 0?null:e}};ht.startTransition=function(t){var e=_p.transition;_p.transition={};try{t()}finally{_p.transition=e}};ht.unstable_act=kx;ht.useCallback=function(t,e){return cr.current.useCallback(t,e)};ht.useContext=function(t){return cr.current.useContext(t)};ht.useDebugValue=function(){};ht.useDeferredValue=function(t){return cr.current.useDeferredValue(t)};ht.useEffect=function(t,e){return cr.current.useEffect(t,e)};ht.useId=function(){return cr.current.useId()};ht.useImperativeHandle=function(t,e,n){return cr.current.useImperativeHandle(t,e,n)};ht.useInsertionEffect=function(t,e){return cr.current.useInsertionEffect(t,e)};ht.useLayoutEffect=function(t,e){return cr.current.useLayoutEffect(t,e)};ht.useMemo=function(t,e){return cr.current.useMemo(t,e)};ht.useReducer=function(t,e,n){return cr.current.useReducer(t,e,n)};ht.useRef=function(t){return cr.current.useRef(t)};ht.useState=function(t){return cr.current.useState(t)};ht.useSyncExternalStore=function(t,e,n){return cr.current.useSyncExternalStore(t,e,n)};ht.useTransition=function(){return cr.current.useTransition()};ht.version="18.3.1";Ex.exports=ht;var x=Ex.exports;const lt=hl(x),j3=T3({__proto__:null,default:lt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3=x,z3=Symbol.for("react.element"),W3=Symbol.for("react.fragment"),H3=Object.prototype.hasOwnProperty,q3=B3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G3={key:!0,ref:!0,__self:!0,__source:!0};function Rx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)H3.call(e,r)&&!G3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:z3,type:t,key:s,ref:o,props:i,_owner:q3.current}}Og.Fragment=W3;Og.jsx=Rx;Og.jsxs=Rx;_x.exports=Og;var q=_x.exports,Ky={},Px={exports:{}},Vr={},Ox={exports:{}},Nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,Z){var de=ne.length;ne.push(Z);e:for(;0<de;){var Me=de-1>>>1,De=ne[Me];if(0<i(De,Z))ne[Me]=Z,ne[de]=De,de=Me;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var Z=ne[0],de=ne.pop();if(de!==Z){ne[0]=de;e:for(var Me=0,De=ne.length,Ce=De>>>1;Me<Ce;){var ct=2*(Me+1)-1,_e=ne[ct],tt=ct+1,Ot=ne[tt];if(0>i(_e,de))tt<De&&0>i(Ot,_e)?(ne[Me]=Ot,ne[tt]=de,Me=tt):(ne[Me]=_e,ne[ct]=de,Me=ct);else if(tt<De&&0>i(Ot,de))ne[Me]=Ot,ne[tt]=de,Me=tt;else break e}}return Z}function i(ne,Z){var de=ne.sortIndex-Z.sortIndex;return de!==0?de:ne.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,g=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ne){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=ne)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function N(ne){if(v=!1,T(ne),!y)if(n(l)!==null)y=!0,ut(F);else{var Z=n(c);Z!==null&&Oe(N,Z.startTime-ne)}}function F(ne,Z){y=!1,v&&(v=!1,b(I),I=-1),g=!0;var de=h;try{for(T(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||ne&&!V());){var Me=d.callback;if(typeof Me=="function"){d.callback=null,h=d.priorityLevel;var De=Me(d.expirationTime<=Z);Z=t.unstable_now(),typeof De=="function"?d.callback=De:d===n(l)&&r(l),T(Z)}else r(l);d=n(l)}if(d!==null)var Ce=!0;else{var ct=n(c);ct!==null&&Oe(N,ct.startTime-Z),Ce=!1}return Ce}finally{d=null,h=de,g=!1}}var j=!1,A=null,I=-1,R=5,D=-1;function V(){return!(t.unstable_now()-D<R)}function U(){if(A!==null){var ne=t.unstable_now();D=ne;var Z=!0;try{Z=A(!0,ne)}finally{Z?M():(j=!1,A=null)}}else j=!1}var M;if(typeof w=="function")M=function(){w(U)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ne=xe.port2;xe.port1.onmessage=U,M=function(){Ne.postMessage(null)}}else M=function(){S(U,0)};function ut(ne){A=ne,j||(j=!0,M())}function Oe(ne,Z){I=S(function(){ne(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ut(F))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var de=h;h=Z;try{return ne()}finally{h=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,Z){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var de=h;h=ne;try{return Z()}finally{h=de}},t.unstable_scheduleCallback=function(ne,Z,de){var Me=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Me+de:Me):de=Me,ne){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=de+De,ne={id:f++,callback:Z,priorityLevel:ne,startTime:de,expirationTime:De,sortIndex:-1},de>Me?(ne.sortIndex=de,e(c,ne),n(l)===null&&ne===n(c)&&(v?(b(I),I=-1):v=!0,Oe(N,de-Me))):(ne.sortIndex=De,e(l,ne),y||g||(y=!0,ut(F))),ne},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ne){var Z=h;return function(){var de=h;h=Z;try{return ne.apply(this,arguments)}finally{h=de}}}})(Nx);Ox.exports=Nx;var K3=Ox.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3=x,Lr=K3;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dx=new Set,qf={};function pl(t,e){Yu(t,e),Yu(t+"Capture",e)}function Yu(t,e){for(qf[t]=e,t=0;t<e.length;t++)Dx.add(e[t])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qy=Object.prototype.hasOwnProperty,Y3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yb={},vb={};function X3(t){return Qy.call(vb,t)?!0:Qy.call(yb,t)?!1:Y3.test(t)?vb[t]=!0:(yb[t]=!0,!1)}function J3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z3(t,e,n,r){if(e===null||typeof e>"u"||J3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var f1=/[\-:]([a-z])/g;function d1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(f1,d1);Fn[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(f1,d1);Fn[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(f1,d1);Fn[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function h1(t,e,n,r){var i=Fn.hasOwnProperty(e)?Fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z3(e,n,i,r)&&(n=null),r||i===null?X3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zs=Q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),p1=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),Mx=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),g1=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),$x=Symbol.for("react.offscreen"),wb=Symbol.iterator;function qc(t){return t===null||typeof t!="object"?null:(t=wb&&t[wb]||t["@@iterator"],typeof t=="function"?t:null)}var Xt=Object.assign,U0;function uf(t){if(U0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);U0=e&&e[1]||""}return`
`+U0+t}var j0=!1;function B0(t,e){if(!t||j0)return"";j0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{j0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uf(t):""}function e6(t){switch(t.tag){case 5:return uf(t.type);case 16:return uf("Lazy");case 13:return uf("Suspense");case 19:return uf("SuspenseList");case 0:case 2:case 15:return t=B0(t.type,!1),t;case 11:return t=B0(t.type.render,!1),t;case 1:return t=B0(t.type,!0),t;default:return""}}function Zy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eu:return"Fragment";case Zl:return"Portal";case Yy:return"Profiler";case p1:return"StrictMode";case Xy:return"Suspense";case Jy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lx:return(t.displayName||"Context")+".Consumer";case Mx:return(t._context.displayName||"Context")+".Provider";case m1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g1:return e=t.displayName||null,e!==null?e:Zy(t.type)||"Memo";case po:e=t._payload,t=t._init;try{return Zy(t(e))}catch{}}return null}function t6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zy(e);case 8:return e===p1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n6(t){var e=Vx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ah(t){t._valueTracker||(t._valueTracker=n6(t))}function Fx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ev(t,e){var n=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _b(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ux(t,e){e=e.checked,e!=null&&h1(t,"checked",e,!1)}function tv(t,e){Ux(t,e);var n=Qo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nv(t,e.type,n):e.hasOwnProperty("defaultValue")&&nv(t,e.type,Qo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Eb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nv(t,e,n){(e!=="number"||gm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cf=Array.isArray;function yu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(cf(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qo(n)}}function jx(t,e){var n=Qo(e.value),r=Qo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kh,zx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kh=kh||document.createElement("div"),kh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r6=["Webkit","ms","Moz","O"];Object.keys(Sf).forEach(function(t){r6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sf[e]=Sf[t]})});function Wx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sf.hasOwnProperty(t)&&Sf[t]?(""+e).trim():e+"px"}function Hx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var i6=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sv(t,e){if(e){if(i6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=null;function y1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lv=null,vu=null,wu=null;function Tb(t){if(t=qd(t)){if(typeof lv!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=$g(e),lv(t.stateNode,t.type,e))}}function qx(t){vu?wu?wu.push(t):wu=[t]:vu=t}function Gx(){if(vu){var t=vu,e=wu;if(wu=vu=null,Tb(t),e)for(t=0;t<e.length;t++)Tb(e[t])}}function Kx(t,e){return t(e)}function Qx(){}var z0=!1;function Yx(t,e,n){if(z0)return t(e,n);z0=!0;try{return Kx(t,e,n)}finally{z0=!1,(vu!==null||wu!==null)&&(Qx(),Gx())}}function Kf(t,e){var n=t.stateNode;if(n===null)return null;var r=$g(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var uv=!1;if(Ns)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){uv=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{uv=!1}function s6(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Tf=!1,ym=null,vm=!1,cv=null,o6={onError:function(t){Tf=!0,ym=t}};function a6(t,e,n,r,i,s,o,a,l){Tf=!1,ym=null,s6.apply(o6,arguments)}function l6(t,e,n,r,i,s,o,a,l){if(a6.apply(this,arguments),Tf){if(Tf){var c=ym;Tf=!1,ym=null}else throw Error(oe(198));vm||(vm=!0,cv=c)}}function ml(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ib(t){if(ml(t)!==t)throw Error(oe(188))}function u6(t){var e=t.alternate;if(!e){if(e=ml(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ib(i),t;if(s===r)return Ib(i),e;s=s.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function Jx(t){return t=u6(t),t!==null?Zx(t):null}function Zx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zx(t);if(e!==null)return e;t=t.sibling}return null}var e2=Lr.unstable_scheduleCallback,xb=Lr.unstable_cancelCallback,c6=Lr.unstable_shouldYield,f6=Lr.unstable_requestPaint,an=Lr.unstable_now,d6=Lr.unstable_getCurrentPriorityLevel,v1=Lr.unstable_ImmediatePriority,t2=Lr.unstable_UserBlockingPriority,wm=Lr.unstable_NormalPriority,h6=Lr.unstable_LowPriority,n2=Lr.unstable_IdlePriority,Ng=null,Ui=null;function p6(t){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Ng,t,void 0,(t.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:y6,m6=Math.log,g6=Math.LN2;function y6(t){return t>>>=0,t===0?32:31-(m6(t)/g6|0)|0}var Rh=64,Ph=4194304;function ff(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _m(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ff(a):(s&=o,s!==0&&(r=ff(s)))}else o=n&~i,o!==0?r=ff(o):s!==0&&(r=ff(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vi(e),i=1<<n,r|=t[n],e&=~i;return r}function v6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=v6(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r2(){var t=Rh;return Rh<<=1,!(Rh&4194240)&&(Rh=64),t}function W0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vi(e),t[e]=n}function _6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function w1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pt=0;function i2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s2,_1,o2,a2,l2,dv=!1,Oh=[],Mo=null,Lo=null,$o=null,Qf=new Map,Yf=new Map,go=[],E6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cb(t,e){switch(t){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":Qf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(e.pointerId)}}function Kc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=qd(e),e!==null&&_1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b6(t,e,n,r,i){switch(e){case"focusin":return Mo=Kc(Mo,t,e,n,r,i),!0;case"dragenter":return Lo=Kc(Lo,t,e,n,r,i),!0;case"mouseover":return $o=Kc($o,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qf.set(s,Kc(Qf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yf.set(s,Kc(Yf.get(s)||null,t,e,n,r,i)),!0}return!1}function u2(t){var e=Na(t.target);if(e!==null){var n=ml(e);if(n!==null){if(e=n.tag,e===13){if(e=Xx(n),e!==null){t.blockedOn=e,l2(t.priority,function(){o2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ep(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);av=r,n.target.dispatchEvent(r),av=null}else return e=qd(n),e!==null&&_1(e),t.blockedOn=n,!1;e.shift()}return!0}function Ab(t,e,n){Ep(t)&&n.delete(e)}function S6(){dv=!1,Mo!==null&&Ep(Mo)&&(Mo=null),Lo!==null&&Ep(Lo)&&(Lo=null),$o!==null&&Ep($o)&&($o=null),Qf.forEach(Ab),Yf.forEach(Ab)}function Qc(t,e){t.blockedOn===e&&(t.blockedOn=null,dv||(dv=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,S6)))}function Xf(t){function e(i){return Qc(i,t)}if(0<Oh.length){Qc(Oh[0],t);for(var n=1;n<Oh.length;n++){var r=Oh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mo!==null&&Qc(Mo,t),Lo!==null&&Qc(Lo,t),$o!==null&&Qc($o,t),Qf.forEach(e),Yf.forEach(e),n=0;n<go.length;n++)r=go[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<go.length&&(n=go[0],n.blockedOn===null);)u2(n),n.blockedOn===null&&go.shift()}var _u=zs.ReactCurrentBatchConfig,Em=!0;function T6(t,e,n,r){var i=Pt,s=_u.transition;_u.transition=null;try{Pt=1,E1(t,e,n,r)}finally{Pt=i,_u.transition=s}}function I6(t,e,n,r){var i=Pt,s=_u.transition;_u.transition=null;try{Pt=4,E1(t,e,n,r)}finally{Pt=i,_u.transition=s}}function E1(t,e,n,r){if(Em){var i=hv(t,e,n,r);if(i===null)ey(t,e,r,bm,n),Cb(t,r);else if(b6(i,t,e,n,r))r.stopPropagation();else if(Cb(t,r),e&4&&-1<E6.indexOf(t)){for(;i!==null;){var s=qd(i);if(s!==null&&s2(s),s=hv(t,e,n,r),s===null&&ey(t,e,r,bm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ey(t,e,r,null,n)}}var bm=null;function hv(t,e,n,r){if(bm=null,t=y1(r),t=Na(t),t!==null)if(e=ml(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bm=t,null}function c2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d6()){case v1:return 1;case t2:return 4;case wm:case h6:return 16;case n2:return 536870912;default:return 16}default:return 16}}var Ro=null,b1=null,bp=null;function f2(){if(bp)return bp;var t,e=b1,n=e.length,r,i="value"in Ro?Ro.value:Ro.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bp=i.slice(t,1<r?1-r:void 0)}function Sp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nh(){return!0}function kb(){return!1}function Fr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nh:kb,this.isPropagationStopped=kb,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),e}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S1=Fr(_c),Hd=Xt({},_c,{view:0,detail:0}),x6=Fr(Hd),H0,q0,Yc,Dg=Xt({},Hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yc&&(Yc&&t.type==="mousemove"?(H0=t.screenX-Yc.screenX,q0=t.screenY-Yc.screenY):q0=H0=0,Yc=t),H0)},movementY:function(t){return"movementY"in t?t.movementY:q0}}),Rb=Fr(Dg),C6=Xt({},Dg,{dataTransfer:0}),A6=Fr(C6),k6=Xt({},Hd,{relatedTarget:0}),G0=Fr(k6),R6=Xt({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),P6=Fr(R6),O6=Xt({},_c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N6=Fr(O6),D6=Xt({},_c,{data:0}),Pb=Fr(D6),M6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$6[t])?!!e[t]:!1}function T1(){return V6}var F6=Xt({},Hd,{key:function(t){if(t.key){var e=M6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T1,charCode:function(t){return t.type==="keypress"?Sp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U6=Fr(F6),j6=Xt({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ob=Fr(j6),B6=Xt({},Hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T1}),z6=Fr(B6),W6=Xt({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),H6=Fr(W6),q6=Xt({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G6=Fr(q6),K6=[9,13,27,32],I1=Ns&&"CompositionEvent"in window,If=null;Ns&&"documentMode"in document&&(If=document.documentMode);var Q6=Ns&&"TextEvent"in window&&!If,d2=Ns&&(!I1||If&&8<If&&11>=If),Nb=String.fromCharCode(32),Db=!1;function h2(t,e){switch(t){case"keyup":return K6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tu=!1;function Y6(t,e){switch(t){case"compositionend":return p2(e);case"keypress":return e.which!==32?null:(Db=!0,Nb);case"textInput":return t=e.data,t===Nb&&Db?null:t;default:return null}}function X6(t,e){if(tu)return t==="compositionend"||!I1&&h2(t,e)?(t=f2(),bp=b1=Ro=null,tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d2&&e.locale!=="ko"?null:e.data;default:return null}}var J6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J6[t.type]:e==="textarea"}function m2(t,e,n,r){qx(r),e=Sm(e,"onChange"),0<e.length&&(n=new S1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xf=null,Jf=null;function Z6(t){x2(t,0)}function Mg(t){var e=iu(t);if(Fx(e))return t}function eN(t,e){if(t==="change")return e}var g2=!1;if(Ns){var K0;if(Ns){var Q0="oninput"in document;if(!Q0){var Lb=document.createElement("div");Lb.setAttribute("oninput","return;"),Q0=typeof Lb.oninput=="function"}K0=Q0}else K0=!1;g2=K0&&(!document.documentMode||9<document.documentMode)}function $b(){xf&&(xf.detachEvent("onpropertychange",y2),Jf=xf=null)}function y2(t){if(t.propertyName==="value"&&Mg(Jf)){var e=[];m2(e,Jf,t,y1(t)),Yx(Z6,e)}}function tN(t,e,n){t==="focusin"?($b(),xf=e,Jf=n,xf.attachEvent("onpropertychange",y2)):t==="focusout"&&$b()}function nN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mg(Jf)}function rN(t,e){if(t==="click")return Mg(e)}function iN(t,e){if(t==="input"||t==="change")return Mg(e)}function sN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _i=typeof Object.is=="function"?Object.is:sN;function Zf(t,e){if(_i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qy.call(e,i)||!_i(t[i],e[i]))return!1}return!0}function Vb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fb(t,e){var n=Vb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vb(n)}}function v2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w2(){for(var t=window,e=gm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gm(t.document)}return e}function x1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oN(t){var e=w2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v2(n.ownerDocument.documentElement,n)){if(r!==null&&x1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Fb(n,s);var o=Fb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aN=Ns&&"documentMode"in document&&11>=document.documentMode,nu=null,pv=null,Cf=null,mv=!1;function Ub(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mv||nu==null||nu!==gm(r)||(r=nu,"selectionStart"in r&&x1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cf&&Zf(Cf,r)||(Cf=r,r=Sm(pv,"onSelect"),0<r.length&&(e=new S1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nu)))}function Dh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ru={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},Y0={},_2={};Ns&&(_2=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Lg(t){if(Y0[t])return Y0[t];if(!ru[t])return t;var e=ru[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _2)return Y0[t]=e[n];return t}var E2=Lg("animationend"),b2=Lg("animationiteration"),S2=Lg("animationstart"),T2=Lg("transitionend"),I2=new Map,jb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){I2.set(t,e),pl(e,[t])}for(var X0=0;X0<jb.length;X0++){var J0=jb[X0],lN=J0.toLowerCase(),uN=J0[0].toUpperCase()+J0.slice(1);ia(lN,"on"+uN)}ia(E2,"onAnimationEnd");ia(b2,"onAnimationIteration");ia(S2,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(T2,"onTransitionEnd");Yu("onMouseEnter",["mouseout","mouseover"]);Yu("onMouseLeave",["mouseout","mouseover"]);Yu("onPointerEnter",["pointerout","pointerover"]);Yu("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("cancel close invalid load scroll toggle".split(" ").concat(df));function Bb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,l6(r,e,void 0,t),t.currentTarget=null}function x2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bb(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bb(i,a,c),s=l}}}if(vm)throw t=cv,vm=!1,cv=null,t}function jt(t,e){var n=e[_v];n===void 0&&(n=e[_v]=new Set);var r=t+"__bubble";n.has(r)||(C2(e,t,2,!1),n.add(r))}function Z0(t,e,n){var r=0;e&&(r|=4),C2(n,t,r,e)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[Mh]){t[Mh]=!0,Dx.forEach(function(n){n!=="selectionchange"&&(cN.has(n)||Z0(n,!1,t),Z0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mh]||(e[Mh]=!0,Z0("selectionchange",!1,e))}}function C2(t,e,n,r){switch(c2(e)){case 1:var i=T6;break;case 4:i=I6;break;default:i=E1}n=i.bind(null,e,n,t),i=void 0,!uv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ey(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Na(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Yx(function(){var c=s,f=y1(n),d=[];e:{var h=I2.get(t);if(h!==void 0){var g=S1,y=t;switch(t){case"keypress":if(Sp(n)===0)break e;case"keydown":case"keyup":g=U6;break;case"focusin":y="focus",g=G0;break;case"focusout":y="blur",g=G0;break;case"beforeblur":case"afterblur":g=G0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=A6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=z6;break;case E2:case b2:case S2:g=P6;break;case T2:g=H6;break;case"scroll":g=x6;break;case"wheel":g=G6;break;case"copy":case"cut":case"paste":g=N6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ob}var v=(e&4)!==0,S=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var w=c,T;w!==null;){T=w;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,b!==null&&(N=Kf(w,b),N!=null&&v.push(td(w,N,T)))),S)break;w=w.return}0<v.length&&(h=new g(h,y,null,n,f),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==av&&(y=n.relatedTarget||n.fromElement)&&(Na(y)||y[Ds]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?Na(y):null,y!==null&&(S=ml(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(v=Rb,N="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ob,N="onPointerLeave",b="onPointerEnter",w="pointer"),S=g==null?h:iu(g),T=y==null?h:iu(y),h=new v(N,w+"leave",g,n,f),h.target=S,h.relatedTarget=T,N=null,Na(f)===c&&(v=new v(b,w+"enter",y,n,f),v.target=T,v.relatedTarget=S,N=v),S=N,g&&y)t:{for(v=g,b=y,w=0,T=v;T;T=Nl(T))w++;for(T=0,N=b;N;N=Nl(N))T++;for(;0<w-T;)v=Nl(v),w--;for(;0<T-w;)b=Nl(b),T--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=Nl(v),b=Nl(b)}v=null}else v=null;g!==null&&zb(d,h,g,v,!1),y!==null&&S!==null&&zb(d,S,y,v,!0)}}e:{if(h=c?iu(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var F=eN;else if(Mb(h))if(g2)F=iN;else{F=nN;var j=tN}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(F=rN);if(F&&(F=F(t,c))){m2(d,F,n,f);break e}j&&j(t,h,c),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&nv(h,"number",h.value)}switch(j=c?iu(c):window,t){case"focusin":(Mb(j)||j.contentEditable==="true")&&(nu=j,pv=c,Cf=null);break;case"focusout":Cf=pv=nu=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,Ub(d,n,f);break;case"selectionchange":if(aN)break;case"keydown":case"keyup":Ub(d,n,f)}var A;if(I1)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else tu?h2(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(d2&&n.locale!=="ko"&&(tu||I!=="onCompositionStart"?I==="onCompositionEnd"&&tu&&(A=f2()):(Ro=f,b1="value"in Ro?Ro.value:Ro.textContent,tu=!0)),j=Sm(c,I),0<j.length&&(I=new Pb(I,t,null,n,f),d.push({event:I,listeners:j}),A?I.data=A:(A=p2(n),A!==null&&(I.data=A)))),(A=Q6?Y6(t,n):X6(t,n))&&(c=Sm(c,"onBeforeInput"),0<c.length&&(f=new Pb("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=A))}x2(d,e)})}function td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Kf(t,n),s!=null&&r.unshift(td(t,s,i)),s=Kf(t,e),s!=null&&r.push(td(t,s,i))),t=t.return}return r}function Nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Kf(n,s),l!=null&&o.unshift(td(n,l,a))):i||(l=Kf(n,s),l!=null&&o.push(td(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function Wb(t){return(typeof t=="string"?t:""+t).replace(fN,`
`).replace(dN,"")}function Lh(t,e,n){if(e=Wb(e),Wb(t)!==e&&n)throw Error(oe(425))}function Tm(){}var gv=null,yv=null;function vv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wv=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(t){return Hb.resolve(null).then(t).catch(mN)}:wv;function mN(t){setTimeout(function(){throw t})}function ty(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xf(e)}function Vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ec=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Ec,nd="__reactProps$"+Ec,Ds="__reactContainer$"+Ec,_v="__reactEvents$"+Ec,gN="__reactListeners$"+Ec,yN="__reactHandles$"+Ec;function Na(t){var e=t[Mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ds]||n[Mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qb(t);t!==null;){if(n=t[Mi])return n;t=qb(t)}return e}t=n,n=t.parentNode}return null}function qd(t){return t=t[Mi]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function $g(t){return t[nd]||null}var Ev=[],su=-1;function sa(t){return{current:t}}function zt(t){0>su||(t.current=Ev[su],Ev[su]=null,su--)}function Vt(t,e){su++,Ev[su]=t.current,t.current=e}var Yo={},Xn=sa(Yo),wr=sa(!1),Za=Yo;function Xu(t,e){var n=t.type.contextTypes;if(!n)return Yo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _r(t){return t=t.childContextTypes,t!=null}function Im(){zt(wr),zt(Xn)}function Gb(t,e,n){if(Xn.current!==Yo)throw Error(oe(168));Vt(Xn,e),Vt(wr,n)}function A2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,t6(t)||"Unknown",i));return Xt({},n,r)}function xm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yo,Za=Xn.current,Vt(Xn,t),Vt(wr,wr.current),!0}function Kb(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=A2(t,e,Za),r.__reactInternalMemoizedMergedChildContext=t,zt(wr),zt(Xn),Vt(Xn,t)):zt(wr),Vt(wr,n)}var _s=null,Vg=!1,ny=!1;function k2(t){_s===null?_s=[t]:_s.push(t)}function vN(t){Vg=!0,k2(t)}function oa(){if(!ny&&_s!==null){ny=!0;var t=0,e=Pt;try{var n=_s;for(Pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_s=null,Vg=!1}catch(i){throw _s!==null&&(_s=_s.slice(t+1)),e2(v1,oa),i}finally{Pt=e,ny=!1}}return null}var ou=[],au=0,Cm=null,Am=0,Wr=[],Hr=0,el=null,Is=1,xs="";function Sa(t,e){ou[au++]=Am,ou[au++]=Cm,Cm=t,Am=e}function R2(t,e,n){Wr[Hr++]=Is,Wr[Hr++]=xs,Wr[Hr++]=el,el=t;var r=Is;t=xs;var i=32-vi(r)-1;r&=~(1<<i),n+=1;var s=32-vi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Is=1<<32-vi(e)+i|n<<i|r,xs=s+t}else Is=1<<s|n<<i|r,xs=t}function C1(t){t.return!==null&&(Sa(t,1),R2(t,1,0))}function A1(t){for(;t===Cm;)Cm=ou[--au],ou[au]=null,Am=ou[--au],ou[au]=null;for(;t===el;)el=Wr[--Hr],Wr[Hr]=null,xs=Wr[--Hr],Wr[Hr]=null,Is=Wr[--Hr],Wr[Hr]=null}var Or=null,kr=null,Gt=!1,di=null;function P2(t,e){var n=Yr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Or=t,kr=Vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Or=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=el!==null?{id:Is,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Or=t,kr=null,!0):!1;default:return!1}}function bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sv(t){if(Gt){var e=kr;if(e){var n=e;if(!Qb(t,e)){if(bv(t))throw Error(oe(418));e=Vo(n.nextSibling);var r=Or;e&&Qb(t,e)?P2(r,n):(t.flags=t.flags&-4097|2,Gt=!1,Or=t)}}else{if(bv(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Gt=!1,Or=t}}}function Yb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Or=t}function $h(t){if(t!==Or)return!1;if(!Gt)return Yb(t),Gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vv(t.type,t.memoizedProps)),e&&(e=kr)){if(bv(t))throw O2(),Error(oe(418));for(;e;)P2(t,e),e=Vo(e.nextSibling)}if(Yb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kr=Vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Or?Vo(t.stateNode.nextSibling):null;return!0}function O2(){for(var t=kr;t;)t=Vo(t.nextSibling)}function Ju(){kr=Or=null,Gt=!1}function k1(t){di===null?di=[t]:di.push(t)}var wN=zs.ReactCurrentBatchConfig;function Xc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function Vh(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xb(t){var e=t._init;return e(t._payload)}function N2(t){function e(b,w){if(t){var T=b.deletions;T===null?(b.deletions=[w],b.flags|=16):T.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Bo(b,w),b.index=0,b.sibling=null,b}function s(b,w,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<w?(b.flags|=2,w):T):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,T,N){return w===null||w.tag!==6?(w=uy(T,b.mode,N),w.return=b,w):(w=i(w,T),w.return=b,w)}function l(b,w,T,N){var F=T.type;return F===eu?f(b,w,T.props.children,N,T.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===po&&Xb(F)===w.type)?(N=i(w,T.props),N.ref=Xc(b,w,T),N.return=b,N):(N=Rp(T.type,T.key,T.props,null,b.mode,N),N.ref=Xc(b,w,T),N.return=b,N)}function c(b,w,T,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=cy(T,b.mode,N),w.return=b,w):(w=i(w,T.children||[]),w.return=b,w)}function f(b,w,T,N,F){return w===null||w.tag!==7?(w=Ga(T,b.mode,N,F),w.return=b,w):(w=i(w,T),w.return=b,w)}function d(b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=uy(""+w,b.mode,T),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ch:return T=Rp(w.type,w.key,w.props,null,b.mode,T),T.ref=Xc(b,null,w),T.return=b,T;case Zl:return w=cy(w,b.mode,T),w.return=b,w;case po:var N=w._init;return d(b,N(w._payload),T)}if(cf(w)||qc(w))return w=Ga(w,b.mode,T,null),w.return=b,w;Vh(b,w)}return null}function h(b,w,T,N){var F=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return F!==null?null:a(b,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ch:return T.key===F?l(b,w,T,N):null;case Zl:return T.key===F?c(b,w,T,N):null;case po:return F=T._init,h(b,w,F(T._payload),N)}if(cf(T)||qc(T))return F!==null?null:f(b,w,T,N,null);Vh(b,T)}return null}function g(b,w,T,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(T)||null,a(w,b,""+N,F);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ch:return b=b.get(N.key===null?T:N.key)||null,l(w,b,N,F);case Zl:return b=b.get(N.key===null?T:N.key)||null,c(w,b,N,F);case po:var j=N._init;return g(b,w,T,j(N._payload),F)}if(cf(N)||qc(N))return b=b.get(T)||null,f(w,b,N,F,null);Vh(w,N)}return null}function y(b,w,T,N){for(var F=null,j=null,A=w,I=w=0,R=null;A!==null&&I<T.length;I++){A.index>I?(R=A,A=null):R=A.sibling;var D=h(b,A,T[I],N);if(D===null){A===null&&(A=R);break}t&&A&&D.alternate===null&&e(b,A),w=s(D,w,I),j===null?F=D:j.sibling=D,j=D,A=R}if(I===T.length)return n(b,A),Gt&&Sa(b,I),F;if(A===null){for(;I<T.length;I++)A=d(b,T[I],N),A!==null&&(w=s(A,w,I),j===null?F=A:j.sibling=A,j=A);return Gt&&Sa(b,I),F}for(A=r(b,A);I<T.length;I++)R=g(A,b,I,T[I],N),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?I:R.key),w=s(R,w,I),j===null?F=R:j.sibling=R,j=R);return t&&A.forEach(function(V){return e(b,V)}),Gt&&Sa(b,I),F}function v(b,w,T,N){var F=qc(T);if(typeof F!="function")throw Error(oe(150));if(T=F.call(T),T==null)throw Error(oe(151));for(var j=F=null,A=w,I=w=0,R=null,D=T.next();A!==null&&!D.done;I++,D=T.next()){A.index>I?(R=A,A=null):R=A.sibling;var V=h(b,A,D.value,N);if(V===null){A===null&&(A=R);break}t&&A&&V.alternate===null&&e(b,A),w=s(V,w,I),j===null?F=V:j.sibling=V,j=V,A=R}if(D.done)return n(b,A),Gt&&Sa(b,I),F;if(A===null){for(;!D.done;I++,D=T.next())D=d(b,D.value,N),D!==null&&(w=s(D,w,I),j===null?F=D:j.sibling=D,j=D);return Gt&&Sa(b,I),F}for(A=r(b,A);!D.done;I++,D=T.next())D=g(A,b,I,D.value,N),D!==null&&(t&&D.alternate!==null&&A.delete(D.key===null?I:D.key),w=s(D,w,I),j===null?F=D:j.sibling=D,j=D);return t&&A.forEach(function(U){return e(b,U)}),Gt&&Sa(b,I),F}function S(b,w,T,N){if(typeof T=="object"&&T!==null&&T.type===eu&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ch:e:{for(var F=T.key,j=w;j!==null;){if(j.key===F){if(F=T.type,F===eu){if(j.tag===7){n(b,j.sibling),w=i(j,T.props.children),w.return=b,b=w;break e}}else if(j.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===po&&Xb(F)===j.type){n(b,j.sibling),w=i(j,T.props),w.ref=Xc(b,j,T),w.return=b,b=w;break e}n(b,j);break}else e(b,j);j=j.sibling}T.type===eu?(w=Ga(T.props.children,b.mode,N,T.key),w.return=b,b=w):(N=Rp(T.type,T.key,T.props,null,b.mode,N),N.ref=Xc(b,w,T),N.return=b,b=N)}return o(b);case Zl:e:{for(j=T.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(b,w.sibling),w=i(w,T.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=cy(T,b.mode,N),w.return=b,b=w}return o(b);case po:return j=T._init,S(b,w,j(T._payload),N)}if(cf(T))return y(b,w,T,N);if(qc(T))return v(b,w,T,N);Vh(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,T),w.return=b,b=w):(n(b,w),w=uy(T,b.mode,N),w.return=b,b=w),o(b)):n(b,w)}return S}var Zu=N2(!0),D2=N2(!1),km=sa(null),Rm=null,lu=null,R1=null;function P1(){R1=lu=Rm=null}function O1(t){var e=km.current;zt(km),t._currentValue=e}function Tv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eu(t,e){Rm=t,R1=lu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(R1!==t)if(t={context:t,memoizedValue:e,next:null},lu===null){if(Rm===null)throw Error(oe(308));lu=t,Rm.dependencies={lanes:0,firstContext:t}}else lu=lu.next=t;return e}var Da=null;function N1(t){Da===null?Da=[t]:Da.push(t)}function M2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,N1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ms(t,r)}function Ms(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mo=!1;function D1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ms(t,n)}return i=r.interleaved,i===null?(e.next=e,N1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ms(t,n)}function Tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w1(t,n)}}function Jb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pm(t,e,n,r){var i=t.updateQueue;mo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,f=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(g,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,d,h):y,h==null)break e;d=Xt({},d,h);break e;case 2:mo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,l=d):f=f.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nl|=o,t.lanes=o,t.memoizedState=d}}function Zb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Gd={},ji=sa(Gd),rd=sa(Gd),id=sa(Gd);function Ma(t){if(t===Gd)throw Error(oe(174));return t}function M1(t,e){switch(Vt(id,e),Vt(rd,t),Vt(ji,Gd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iv(e,t)}zt(ji),Vt(ji,e)}function ec(){zt(ji),zt(rd),zt(id)}function $2(t){Ma(id.current);var e=Ma(ji.current),n=iv(e,t.type);e!==n&&(Vt(rd,t),Vt(ji,n))}function L1(t){rd.current===t&&(zt(ji),zt(rd))}var Qt=sa(0);function Om(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ry=[];function $1(){for(var t=0;t<ry.length;t++)ry[t]._workInProgressVersionPrimary=null;ry.length=0}var Ip=zs.ReactCurrentDispatcher,iy=zs.ReactCurrentBatchConfig,tl=0,Yt=null,wn=null,An=null,Nm=!1,Af=!1,sd=0,_N=0;function zn(){throw Error(oe(321))}function V1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_i(t[n],e[n]))return!1;return!0}function F1(t,e,n,r,i,s){if(tl=s,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=t===null||t.memoizedState===null?TN:IN,t=n(r,i),Af){s=0;do{if(Af=!1,sd=0,25<=s)throw Error(oe(301));s+=1,An=wn=null,e.updateQueue=null,Ip.current=xN,t=n(r,i)}while(Af)}if(Ip.current=Dm,e=wn!==null&&wn.next!==null,tl=0,An=wn=Yt=null,Nm=!1,e)throw Error(oe(300));return t}function U1(){var t=sd!==0;return sd=0,t}function ki(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Yt.memoizedState=An=t:An=An.next=t,An}function ei(){if(wn===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=An===null?Yt.memoizedState:An.next;if(e!==null)An=e,wn=t;else{if(t===null)throw Error(oe(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},An===null?Yt.memoizedState=An=t:An=An.next=t}return An}function od(t,e){return typeof e=="function"?e(t):e}function sy(t){var e=ei(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=wn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((tl&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Yt.lanes|=f,nl|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,_i(r,e.memoizedState)||(vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yt.lanes|=s,nl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oy(t){var e=ei(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_i(s,e.memoizedState)||(vr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function V2(){}function F2(t,e){var n=Yt,r=ei(),i=e(),s=!_i(r.memoizedState,i);if(s&&(r.memoizedState=i,vr=!0),r=r.queue,j1(B2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,ad(9,j2.bind(null,n,r,i,e),void 0,null),kn===null)throw Error(oe(349));tl&30||U2(n,e,i)}return i}function U2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j2(t,e,n,r){e.value=n,e.getSnapshot=r,z2(e)&&W2(t)}function B2(t,e,n){return n(function(){z2(e)&&W2(t)})}function z2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_i(t,n)}catch{return!0}}function W2(t){var e=Ms(t,1);e!==null&&wi(e,t,1,-1)}function eS(t){var e=ki();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},e.queue=t,t=t.dispatch=SN.bind(null,Yt,t),[e.memoizedState,t]}function ad(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H2(){return ei().memoizedState}function xp(t,e,n,r){var i=ki();Yt.flags|=t,i.memoizedState=ad(1|e,n,void 0,r===void 0?null:r)}function Fg(t,e,n,r){var i=ei();r=r===void 0?null:r;var s=void 0;if(wn!==null){var o=wn.memoizedState;if(s=o.destroy,r!==null&&V1(r,o.deps)){i.memoizedState=ad(e,n,s,r);return}}Yt.flags|=t,i.memoizedState=ad(1|e,n,s,r)}function tS(t,e){return xp(8390656,8,t,e)}function j1(t,e){return Fg(2048,8,t,e)}function q2(t,e){return Fg(4,2,t,e)}function G2(t,e){return Fg(4,4,t,e)}function K2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q2(t,e,n){return n=n!=null?n.concat([t]):null,Fg(4,4,K2.bind(null,e,t),n)}function B1(){}function Y2(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&V1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X2(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&V1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J2(t,e,n){return tl&21?(_i(n,e)||(n=r2(),Yt.lanes|=n,nl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=n)}function EN(t,e){var n=Pt;Pt=n!==0&&4>n?n:4,t(!0);var r=iy.transition;iy.transition={};try{t(!1),e()}finally{Pt=n,iy.transition=r}}function Z2(){return ei().memoizedState}function bN(t,e,n){var r=jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eC(t))tC(e,n);else if(n=M2(t,e,n,r),n!==null){var i=or();wi(n,t,r,i),nC(n,e,r)}}function SN(t,e,n){var r=jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eC(t))tC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_i(a,o)){var l=e.interleaved;l===null?(i.next=i,N1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=M2(t,e,i,r),n!==null&&(i=or(),wi(n,t,r,i),nC(n,e,r))}}function eC(t){var e=t.alternate;return t===Yt||e!==null&&e===Yt}function tC(t,e){Af=Nm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w1(t,n)}}var Dm={readContext:Zr,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},TN={readContext:Zr,useCallback:function(t,e){return ki().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:tS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xp(4194308,4,K2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xp(4194308,4,t,e)},useInsertionEffect:function(t,e){return xp(4,2,t,e)},useMemo:function(t,e){var n=ki();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ki();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bN.bind(null,Yt,t),[r.memoizedState,t]},useRef:function(t){var e=ki();return t={current:t},e.memoizedState=t},useState:eS,useDebugValue:B1,useDeferredValue:function(t){return ki().memoizedState=t},useTransition:function(){var t=eS(!1),e=t[0];return t=EN.bind(null,t[1]),ki().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yt,i=ki();if(Gt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),kn===null)throw Error(oe(349));tl&30||U2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tS(B2.bind(null,r,s,t),[t]),r.flags|=2048,ad(9,j2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ki(),e=kn.identifierPrefix;if(Gt){var n=xs,r=Is;n=(r&~(1<<32-vi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_N++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IN={readContext:Zr,useCallback:Y2,useContext:Zr,useEffect:j1,useImperativeHandle:Q2,useInsertionEffect:q2,useLayoutEffect:G2,useMemo:X2,useReducer:sy,useRef:H2,useState:function(){return sy(od)},useDebugValue:B1,useDeferredValue:function(t){var e=ei();return J2(e,wn.memoizedState,t)},useTransition:function(){var t=sy(od)[0],e=ei().memoizedState;return[t,e]},useMutableSource:V2,useSyncExternalStore:F2,useId:Z2,unstable_isNewReconciler:!1},xN={readContext:Zr,useCallback:Y2,useContext:Zr,useEffect:j1,useImperativeHandle:Q2,useInsertionEffect:q2,useLayoutEffect:G2,useMemo:X2,useReducer:oy,useRef:H2,useState:function(){return oy(od)},useDebugValue:B1,useDeferredValue:function(t){var e=ei();return wn===null?e.memoizedState=t:J2(e,wn.memoizedState,t)},useTransition:function(){var t=oy(od)[0],e=ei().memoizedState;return[t,e]},useMutableSource:V2,useSyncExternalStore:F2,useId:Z2,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=Xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Iv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ug={isMounted:function(t){return(t=t._reactInternals)?ml(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=or(),i=jo(t),s=Ps(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fo(t,s,i),e!==null&&(wi(e,t,i,r),Tp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=or(),i=jo(t),s=Ps(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fo(t,s,i),e!==null&&(wi(e,t,i,r),Tp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=or(),r=jo(t),i=Ps(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fo(t,i,r),e!==null&&(wi(e,t,r,n),Tp(e,t,r))}};function nS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zf(n,r)||!Zf(i,s):!0}function rC(t,e,n){var r=!1,i=Yo,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=_r(e)?Za:Xn.current,r=e.contextTypes,s=(r=r!=null)?Xu(t,i):Yo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ug,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ug.enqueueReplaceState(e,e.state,null)}function xv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},D1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=_r(e)?Za:Xn.current,i.context=Xu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Iv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ug.enqueueReplaceState(i,i.state,null),Pm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tc(t,e){try{var n="",r=e;do n+=e6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ay(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CN=typeof WeakMap=="function"?WeakMap:Map;function iC(t,e,n){n=Ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lm||(Lm=!0,$v=r),Cv(t,e)},n}function sC(t,e,n){n=Ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Cv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cv(t,e),typeof r!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jN.bind(null,t,e,n),e.then(t,t))}function sS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ps(-1,1),e.tag=2,Fo(n,e,1))),n.lanes|=1),t)}var AN=zs.ReactCurrentOwner,vr=!1;function rr(t,e,n,r){e.child=t===null?D2(e,null,n,r):Zu(e,t.child,n,r)}function aS(t,e,n,r,i){n=n.render;var s=e.ref;return Eu(e,i),r=F1(t,e,n,r,s,i),n=U1(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(Gt&&n&&C1(e),e.flags|=1,rr(t,e,r,i),e.child)}function lS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Y1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oC(t,e,s,r,i)):(t=Rp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zf,n(o,r)&&t.ref===e.ref)return Ls(t,e,i)}return e.flags|=1,t=Bo(s,r),t.ref=e.ref,t.return=e,e.child=t}function oC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zf(s,r)&&t.ref===e.ref)if(vr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,Ls(t,e,i)}return Av(t,e,n,r,i)}function aC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(cu,xr),xr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vt(cu,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vt(cu,xr),xr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Vt(cu,xr),xr|=r;return rr(t,e,i,n),e.child}function lC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Av(t,e,n,r,i){var s=_r(n)?Za:Xn.current;return s=Xu(e,s),Eu(e,i),n=F1(t,e,n,r,s,i),r=U1(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(Gt&&r&&C1(e),e.flags|=1,rr(t,e,n,i),e.child)}function uS(t,e,n,r,i){if(_r(n)){var s=!0;xm(e)}else s=!1;if(Eu(e,i),e.stateNode===null)Cp(t,e),rC(e,n,r),xv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zr(c):(c=_r(n)?Za:Xn.current,c=Xu(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rS(e,o,r,c),mo=!1;var h=e.memoizedState;o.state=h,Pm(e,r,o,i),l=e.memoizedState,a!==r||h!==l||wr.current||mo?(typeof f=="function"&&(Iv(e,n,f,r),l=e.memoizedState),(a=mo||nS(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,L2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:li(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zr(l):(l=_r(n)?Za:Xn.current,l=Xu(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&rS(e,o,r,l),mo=!1,h=e.memoizedState,o.state=h,Pm(e,r,o,i);var y=e.memoizedState;a!==d||h!==y||wr.current||mo?(typeof g=="function"&&(Iv(e,n,g,r),y=e.memoizedState),(c=mo||nS(e,n,c,r,h,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return kv(t,e,n,r,s,i)}function kv(t,e,n,r,i,s){lC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Kb(e,n,!1),Ls(t,e,s);r=e.stateNode,AN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zu(e,t.child,null,s),e.child=Zu(e,null,a,s)):rr(t,e,a,s),e.memoizedState=r.state,i&&Kb(e,n,!0),e.child}function uC(t){var e=t.stateNode;e.pendingContext?Gb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gb(t,e.context,!1),M1(t,e.containerInfo)}function cS(t,e,n,r,i){return Ju(),k1(i),e.flags|=256,rr(t,e,n,r),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function cC(t,e,n){var r=e.pendingProps,i=Qt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vt(Qt,i&1),t===null)return Sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zg(o,r,0,null),t=Ga(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pv(n),e.memoizedState=Rv,t):z1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bo(a,s):(s=Ga(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Pv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rv,r}return s=t.child,t=s.sibling,r=Bo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function z1(t,e){return e=zg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fh(t,e,n,r){return r!==null&&k1(r),Zu(e,t.child,null,n),t=z1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ay(Error(oe(422))),Fh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zg({mode:"visible",children:r.children},i,0,null),s=Ga(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zu(e,t.child,null,o),e.child.memoizedState=Pv(o),e.memoizedState=Rv,s);if(!(e.mode&1))return Fh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(oe(419)),r=ay(s,r,void 0),Fh(t,e,o,r)}if(a=(o&t.childLanes)!==0,vr||a){if(r=kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ms(t,i),wi(r,t,i,-1))}return Q1(),r=ay(Error(oe(421))),Fh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,kr=Vo(i.nextSibling),Or=e,Gt=!0,di=null,t!==null&&(Wr[Hr++]=Is,Wr[Hr++]=xs,Wr[Hr++]=el,Is=t.id,xs=t.overflow,el=e),e=z1(e,r.children),e.flags|=4096,e)}function fS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tv(t.return,e,n)}function ly(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rr(t,e,r.children,n),r=Qt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fS(t,n,e);else if(t.tag===19)fS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Vt(Qt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Om(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ly(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Om(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ly(e,!0,n,null,s);break;case"together":ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RN(t,e,n){switch(e.tag){case 3:uC(e),Ju();break;case 5:$2(e);break;case 1:_r(e.type)&&xm(e);break;case 4:M1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Vt(km,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Vt(Qt,Qt.current&1),e.flags|=128,null):n&e.child.childLanes?cC(t,e,n):(Vt(Qt,Qt.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);Vt(Qt,Qt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(Qt,Qt.current),r)break;return null;case 22:case 23:return e.lanes=0,aC(t,e,n)}return Ls(t,e,n)}var dC,Ov,hC,pC;dC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ov=function(){};hC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ma(ji.current);var s=null;switch(n){case"input":i=ev(t,i),r=ev(t,r),s=[];break;case"select":i=Xt({},i,{value:void 0}),r=Xt({},r,{value:void 0}),s=[];break;case"textarea":i=rv(t,i),r=rv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tm)}sv(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&jt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};pC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jc(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PN(t,e,n){var r=e.pendingProps;switch(A1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return _r(e.type)&&Im(),Wn(e),null;case 3:return r=e.stateNode,ec(),zt(wr),zt(Xn),$1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,di!==null&&(Uv(di),di=null))),Ov(t,e),Wn(e),null;case 5:L1(e);var i=Ma(id.current);if(n=e.type,t!==null&&e.stateNode!=null)hC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Wn(e),null}if(t=Ma(ji.current),$h(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mi]=e,r[nd]=s,t=(e.mode&1)!==0,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(i=0;i<df.length;i++)jt(df[i],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":_b(r,s),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jt("invalid",r);break;case"textarea":bb(r,s),jt("invalid",r)}sv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lh(r.textContent,a,t),i=["children",""+a]):qf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",r)}switch(n){case"input":Ah(r),Eb(r,s,!0);break;case"textarea":Ah(r),Sb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mi]=e,t[nd]=r,dC(t,e,!1,!1),e.stateNode=t;e:{switch(o=ov(n,r),n){case"dialog":jt("cancel",t),jt("close",t),i=r;break;case"iframe":case"object":case"embed":jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<df.length;i++)jt(df[i],t);i=r;break;case"source":jt("error",t),i=r;break;case"img":case"image":case"link":jt("error",t),jt("load",t),i=r;break;case"details":jt("toggle",t),i=r;break;case"input":_b(t,r),i=ev(t,r),jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xt({},r,{value:void 0}),jt("invalid",t);break;case"textarea":bb(t,r),i=rv(t,r),jt("invalid",t);break;default:i=r}sv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Hx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gf(t,l):typeof l=="number"&&Gf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jt("scroll",t):l!=null&&h1(t,s,l,o))}switch(n){case"input":Ah(t),Eb(t,r,!1);break;case"textarea":Ah(t),Sb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?yu(t,!!r.multiple,s,!1):r.defaultValue!=null&&yu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)pC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Ma(id.current),Ma(ji.current),$h(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mi]=e,(s=r.nodeValue!==n)&&(t=Or,t!==null))switch(t.tag){case 3:Lh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mi]=e,e.stateNode=r}return Wn(e),null;case 13:if(zt(Qt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gt&&kr!==null&&e.mode&1&&!(e.flags&128))O2(),Ju(),e.flags|=98560,s=!1;else if(s=$h(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[Mi]=e}else Ju(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),s=!1}else di!==null&&(Uv(di),di=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qt.current&1?En===0&&(En=3):Q1())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return ec(),Ov(t,e),t===null&&ed(e.stateNode.containerInfo),Wn(e),null;case 10:return O1(e.type._context),Wn(e),null;case 17:return _r(e.type)&&Im(),Wn(e),null;case 19:if(zt(Qt),s=e.memoizedState,s===null)return Wn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jc(s,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Om(t),o!==null){for(e.flags|=128,Jc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Vt(Qt,Qt.current&1|2),e.child}t=t.sibling}s.tail!==null&&an()>nc&&(e.flags|=128,r=!0,Jc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Om(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gt)return Wn(e),null}else 2*an()-s.renderingStartTime>nc&&n!==1073741824&&(e.flags|=128,r=!0,Jc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=an(),e.sibling=null,n=Qt.current,Vt(Qt,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return K1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function ON(t,e){switch(A1(e),e.tag){case 1:return _r(e.type)&&Im(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ec(),zt(wr),zt(Xn),$1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return L1(e),null;case 13:if(zt(Qt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Ju()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(Qt),null;case 4:return ec(),null;case 10:return O1(e.type._context),null;case 22:case 23:return K1(),null;case 24:return null;default:return null}}var Uh=!1,Kn=!1,NN=typeof WeakSet=="function"?WeakSet:Set,ve=null;function uu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sn(t,e,r)}else n.current=null}function Nv(t,e,n){try{n()}catch(r){sn(t,e,r)}}var dS=!1;function DN(t,e){if(gv=Em,t=w2(),x1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++f===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yv={focusedElem:t,selectionRange:n},Em=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:li(e.type,v),S);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(N){sn(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return y=dS,dS=!1,y}function kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nv(e,n,s)}i=i.next}while(i!==r)}}function jg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mC(t){var e=t.alternate;e!==null&&(t.alternate=null,mC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mi],delete e[nd],delete e[_v],delete e[gN],delete e[yN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gC(t){return t.tag===5||t.tag===3||t.tag===4}function hS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tm));else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}function Lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lv(t,e,n),t=t.sibling;t!==null;)Lv(t,e,n),t=t.sibling}var On=null,fi=!1;function eo(t,e,n){for(n=n.child;n!==null;)yC(t,e,n),n=n.sibling}function yC(t,e,n){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Ng,n)}catch{}switch(n.tag){case 5:Kn||uu(n,e);case 6:var r=On,i=fi;On=null,eo(t,e,n),On=r,fi=i,On!==null&&(fi?(t=On,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(fi?(t=On,n=n.stateNode,t.nodeType===8?ty(t.parentNode,n):t.nodeType===1&&ty(t,n),Xf(t)):ty(On,n.stateNode));break;case 4:r=On,i=fi,On=n.stateNode.containerInfo,fi=!0,eo(t,e,n),On=r,fi=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nv(n,e,o),i=i.next}while(i!==r)}eo(t,e,n);break;case 1:if(!Kn&&(uu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){sn(n,e,a)}eo(t,e,n);break;case 21:eo(t,e,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,eo(t,e,n),Kn=r):eo(t,e,n);break;default:eo(t,e,n)}}function pS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NN),e.forEach(function(r){var i=zN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:On=a.stateNode,fi=!1;break e;case 3:On=a.stateNode.containerInfo,fi=!0;break e;case 4:On=a.stateNode.containerInfo,fi=!0;break e}a=a.return}if(On===null)throw Error(oe(160));yC(s,o,i),On=null,fi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){sn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vC(e,t),e=e.sibling}function vC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Ci(t),r&4){try{kf(3,t,t.return),jg(3,t)}catch(v){sn(t,t.return,v)}try{kf(5,t,t.return)}catch(v){sn(t,t.return,v)}}break;case 1:si(e,t),Ci(t),r&512&&n!==null&&uu(n,n.return);break;case 5:if(si(e,t),Ci(t),r&512&&n!==null&&uu(n,n.return),t.flags&32){var i=t.stateNode;try{Gf(i,"")}catch(v){sn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ux(i,s),ov(a,o);var c=ov(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?Hx(i,d):f==="dangerouslySetInnerHTML"?zx(i,d):f==="children"?Gf(i,d):h1(i,f,d,c)}switch(a){case"input":tv(i,s);break;case"textarea":jx(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?yu(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?yu(i,!!s.multiple,s.defaultValue,!0):yu(i,!!s.multiple,s.multiple?[]:"",!1))}i[nd]=s}catch(v){sn(t,t.return,v)}}break;case 6:if(si(e,t),Ci(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){sn(t,t.return,v)}}break;case 3:if(si(e,t),Ci(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xf(e.containerInfo)}catch(v){sn(t,t.return,v)}break;case 4:si(e,t),Ci(t);break;case 13:si(e,t),Ci(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(q1=an())),r&4&&pS(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Kn=(c=Kn)||f,si(e,t),Kn=c):si(e,t),Ci(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ve=t,f=t.child;f!==null;){for(d=ve=f;ve!==null;){switch(h=ve,g=h.child,h.tag){case 0:case 11:case 14:case 15:kf(4,h,h.return);break;case 1:uu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){sn(r,n,v)}}break;case 5:uu(h,h.return);break;case 22:if(h.memoizedState!==null){gS(d);continue}}g!==null?(g.return=h,ve=g):gS(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wx("display",o))}catch(v){sn(t,t.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){sn(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:si(e,t),Ci(t),r&4&&pS(t);break;case 21:break;default:si(e,t),Ci(t)}}function Ci(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gC(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gf(i,""),r.flags&=-33);var s=hS(t);Lv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hS(t);Mv(t,a,o);break;default:throw Error(oe(161))}}catch(l){sn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MN(t,e,n){ve=t,wC(t)}function wC(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Kn;a=Uh;var c=Kn;if(Uh=o,(Kn=l)&&!c)for(ve=i;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?yS(i):l!==null?(l.return=o,ve=l):yS(i);for(;s!==null;)ve=s,wC(s),s=s.sibling;ve=i,Uh=a,Kn=c}mS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):mS(t)}}function mS(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kn||jg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Xf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Kn||e.flags&512&&Dv(e)}catch(h){sn(e,e.return,h)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function gS(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function yS(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jg(4,e)}catch(l){sn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){sn(e,i,l)}}var s=e.return;try{Dv(e)}catch(l){sn(e,s,l)}break;case 5:var o=e.return;try{Dv(e)}catch(l){sn(e,o,l)}}}catch(l){sn(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var LN=Math.ceil,Mm=zs.ReactCurrentDispatcher,W1=zs.ReactCurrentOwner,Xr=zs.ReactCurrentBatchConfig,Et=0,kn=null,hn=null,$n=0,xr=0,cu=sa(0),En=0,ld=null,nl=0,Bg=0,H1=0,Rf=null,gr=null,q1=0,nc=1/0,vs=null,Lm=!1,$v=null,Uo=null,jh=!1,Po=null,$m=0,Pf=0,Vv=null,Ap=-1,kp=0;function or(){return Et&6?an():Ap!==-1?Ap:Ap=an()}function jo(t){return t.mode&1?Et&2&&$n!==0?$n&-$n:wN.transition!==null?(kp===0&&(kp=r2()),kp):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:c2(t.type)),t):1}function wi(t,e,n,r){if(50<Pf)throw Pf=0,Vv=null,Error(oe(185));Wd(t,n,r),(!(Et&2)||t!==kn)&&(t===kn&&(!(Et&2)&&(Bg|=n),En===4&&yo(t,$n)),Er(t,r),n===1&&Et===0&&!(e.mode&1)&&(nc=an()+500,Vg&&oa()))}function Er(t,e){var n=t.callbackNode;w6(t,e);var r=_m(t,t===kn?$n:0);if(r===0)n!==null&&xb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xb(n),e===1)t.tag===0?vN(vS.bind(null,t)):k2(vS.bind(null,t)),pN(function(){!(Et&6)&&oa()}),n=null;else{switch(i2(r)){case 1:n=v1;break;case 4:n=t2;break;case 16:n=wm;break;case 536870912:n=n2;break;default:n=wm}n=CC(n,_C.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _C(t,e){if(Ap=-1,kp=0,Et&6)throw Error(oe(327));var n=t.callbackNode;if(bu()&&t.callbackNode!==n)return null;var r=_m(t,t===kn?$n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vm(t,r);else{e=r;var i=Et;Et|=2;var s=bC();(kn!==t||$n!==e)&&(vs=null,nc=an()+500,qa(t,e));do try{FN();break}catch(a){EC(t,a)}while(1);P1(),Mm.current=s,Et=i,hn!==null?e=0:(kn=null,$n=0,e=En)}if(e!==0){if(e===2&&(i=fv(t),i!==0&&(r=i,e=Fv(t,i))),e===1)throw n=ld,qa(t,0),yo(t,r),Er(t,an()),n;if(e===6)yo(t,r);else{if(i=t.current.alternate,!(r&30)&&!$N(i)&&(e=Vm(t,r),e===2&&(s=fv(t),s!==0&&(r=s,e=Fv(t,s))),e===1))throw n=ld,qa(t,0),yo(t,r),Er(t,an()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:Ta(t,gr,vs);break;case 3:if(yo(t,r),(r&130023424)===r&&(e=q1+500-an(),10<e)){if(_m(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){or(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wv(Ta.bind(null,t,gr,vs),e);break}Ta(t,gr,vs);break;case 4:if(yo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LN(r/1960))-r,10<r){t.timeoutHandle=wv(Ta.bind(null,t,gr,vs),r);break}Ta(t,gr,vs);break;case 5:Ta(t,gr,vs);break;default:throw Error(oe(329))}}}return Er(t,an()),t.callbackNode===n?_C.bind(null,t):null}function Fv(t,e){var n=Rf;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=Vm(t,e),t!==2&&(e=gr,gr=n,e!==null&&Uv(e)),t}function Uv(t){gr===null?gr=t:gr.push.apply(gr,t)}function $N(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_i(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yo(t,e){for(e&=~H1,e&=~Bg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vi(e),r=1<<n;t[n]=-1,e&=~r}}function vS(t){if(Et&6)throw Error(oe(327));bu();var e=_m(t,0);if(!(e&1))return Er(t,an()),null;var n=Vm(t,e);if(t.tag!==0&&n===2){var r=fv(t);r!==0&&(e=r,n=Fv(t,r))}if(n===1)throw n=ld,qa(t,0),yo(t,e),Er(t,an()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ta(t,gr,vs),Er(t,an()),null}function G1(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(nc=an()+500,Vg&&oa())}}function rl(t){Po!==null&&Po.tag===0&&!(Et&6)&&bu();var e=Et;Et|=1;var n=Xr.transition,r=Pt;try{if(Xr.transition=null,Pt=1,t)return t()}finally{Pt=r,Xr.transition=n,Et=e,!(Et&6)&&oa()}}function K1(){xr=cu.current,zt(cu)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hN(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(A1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Im();break;case 3:ec(),zt(wr),zt(Xn),$1();break;case 5:L1(r);break;case 4:ec();break;case 13:zt(Qt);break;case 19:zt(Qt);break;case 10:O1(r.type._context);break;case 22:case 23:K1()}n=n.return}if(kn=t,hn=t=Bo(t.current,null),$n=xr=e,En=0,ld=null,H1=Bg=nl=0,gr=Rf=null,Da!==null){for(e=0;e<Da.length;e++)if(n=Da[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Da=null}return t}function EC(t,e){do{var n=hn;try{if(P1(),Ip.current=Dm,Nm){for(var r=Yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nm=!1}if(tl=0,An=wn=Yt=null,Af=!1,sd=0,W1.current=null,n===null||n.return===null){En=1,ld=e,hn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=sS(o);if(g!==null){g.flags&=-257,oS(g,o,a,s,e),g.mode&1&&iS(s,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){iS(s,c,e),Q1();break e}l=Error(oe(426))}}else if(Gt&&a.mode&1){var S=sS(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),oS(S,o,a,s,e),k1(tc(l,a));break e}}s=l=tc(l,a),En!==4&&(En=2),Rf===null?Rf=[s]:Rf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=iC(s,l,e);Jb(s,b);break e;case 1:a=l;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Uo===null||!Uo.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=sC(s,a,e);Jb(s,N);break e}}s=s.return}while(s!==null)}TC(n)}catch(F){e=F,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(1)}function bC(){var t=Mm.current;return Mm.current=Dm,t===null?Dm:t}function Q1(){(En===0||En===3||En===2)&&(En=4),kn===null||!(nl&268435455)&&!(Bg&268435455)||yo(kn,$n)}function Vm(t,e){var n=Et;Et|=2;var r=bC();(kn!==t||$n!==e)&&(vs=null,qa(t,e));do try{VN();break}catch(i){EC(t,i)}while(1);if(P1(),Et=n,Mm.current=r,hn!==null)throw Error(oe(261));return kn=null,$n=0,En}function VN(){for(;hn!==null;)SC(hn)}function FN(){for(;hn!==null&&!c6();)SC(hn)}function SC(t){var e=xC(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?TC(t):hn=e,W1.current=null}function TC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ON(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,hn=null;return}}else if(n=PN(n,e,xr),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);En===0&&(En=5)}function Ta(t,e,n){var r=Pt,i=Xr.transition;try{Xr.transition=null,Pt=1,UN(t,e,n,r)}finally{Xr.transition=i,Pt=r}return null}function UN(t,e,n,r){do bu();while(Po!==null);if(Et&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_6(t,s),t===kn&&(hn=kn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jh||(jh=!0,CC(wm,function(){return bu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var o=Pt;Pt=1;var a=Et;Et|=4,W1.current=null,DN(t,n),vC(n,t),oN(yv),Em=!!gv,yv=gv=null,t.current=n,MN(n),f6(),Et=a,Pt=o,Xr.transition=s}else t.current=n;if(jh&&(jh=!1,Po=t,$m=i),s=t.pendingLanes,s===0&&(Uo=null),p6(n.stateNode),Er(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lm)throw Lm=!1,t=$v,$v=null,t;return $m&1&&t.tag!==0&&bu(),s=t.pendingLanes,s&1?t===Vv?Pf++:(Pf=0,Vv=t):Pf=0,oa(),null}function bu(){if(Po!==null){var t=i2($m),e=Xr.transition,n=Pt;try{if(Xr.transition=null,Pt=16>t?16:t,Po===null)var r=!1;else{if(t=Po,Po=null,$m=0,Et&6)throw Error(oe(331));var i=Et;for(Et|=4,ve=t.current;ve!==null;){var s=ve,o=s.child;if(ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ve=c;ve!==null;){var f=ve;switch(f.tag){case 0:case 11:case 15:kf(8,f,s)}var d=f.child;if(d!==null)d.return=f,ve=d;else for(;ve!==null;){f=ve;var h=f.sibling,g=f.return;if(mC(f),f===c){ve=null;break}if(h!==null){h.return=g,ve=h;break}ve=g}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ve=o;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kf(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ve=b;break e}ve=s.return}}var w=t.current;for(ve=w;ve!==null;){o=ve;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ve=T;else e:for(o=w;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jg(9,a)}}catch(F){sn(a,a.return,F)}if(a===o){ve=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ve=N;break e}ve=a.return}}if(Et=i,oa(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Ng,t)}catch{}r=!0}return r}finally{Pt=n,Xr.transition=e}}return!1}function wS(t,e,n){e=tc(n,e),e=iC(t,e,1),t=Fo(t,e,1),e=or(),t!==null&&(Wd(t,1,e),Er(t,e))}function sn(t,e,n){if(t.tag===3)wS(t,t,n);else for(;e!==null;){if(e.tag===3){wS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uo===null||!Uo.has(r))){t=tc(n,t),t=sC(e,t,1),e=Fo(e,t,1),t=or(),e!==null&&(Wd(e,1,t),Er(e,t));break}}e=e.return}}function jN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&($n&n)===n&&(En===4||En===3&&($n&130023424)===$n&&500>an()-q1?qa(t,0):H1|=n),Er(t,e)}function IC(t,e){e===0&&(t.mode&1?(e=Ph,Ph<<=1,!(Ph&130023424)&&(Ph=4194304)):e=1);var n=or();t=Ms(t,e),t!==null&&(Wd(t,e,n),Er(t,n))}function BN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IC(t,n)}function zN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),IC(t,n)}var xC;xC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wr.current)vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vr=!1,RN(t,e,n);vr=!!(t.flags&131072)}else vr=!1,Gt&&e.flags&1048576&&R2(e,Am,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cp(t,e),t=e.pendingProps;var i=Xu(e,Xn.current);Eu(e,n),i=F1(null,e,r,t,i,n);var s=U1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(r)?(s=!0,xm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,D1(e),i.updater=Ug,e.stateNode=i,i._reactInternals=e,xv(e,r,t,n),e=kv(null,e,r,!0,s,n)):(e.tag=0,Gt&&s&&C1(e),rr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HN(r),t=li(r,t),i){case 0:e=Av(null,e,r,t,n);break e;case 1:e=uS(null,e,r,t,n);break e;case 11:e=aS(null,e,r,t,n);break e;case 14:e=lS(null,e,r,li(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Av(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),uS(t,e,r,i,n);case 3:e:{if(uC(e),t===null)throw Error(oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,L2(t,e),Pm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tc(Error(oe(423)),e),e=cS(t,e,r,n,i);break e}else if(r!==i){i=tc(Error(oe(424)),e),e=cS(t,e,r,n,i);break e}else for(kr=Vo(e.stateNode.containerInfo.firstChild),Or=e,Gt=!0,di=null,n=D2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ju(),r===i){e=Ls(t,e,n);break e}rr(t,e,r,n)}e=e.child}return e;case 5:return $2(e),t===null&&Sv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vv(r,i)?o=null:s!==null&&vv(r,s)&&(e.flags|=32),lC(t,e),rr(t,e,o,n),e.child;case 6:return t===null&&Sv(e),null;case 13:return cC(t,e,n);case 4:return M1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zu(e,null,r,n):rr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),aS(t,e,r,i,n);case 7:return rr(t,e,e.pendingProps,n),e.child;case 8:return rr(t,e,e.pendingProps.children,n),e.child;case 12:return rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Vt(km,r._currentValue),r._currentValue=o,s!==null)if(_i(s.value,o)){if(s.children===i.children&&!wr.current){e=Ls(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ps(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eu(e,n),i=Zr(i),r=r(i),e.flags|=1,rr(t,e,r,n),e.child;case 14:return r=e.type,i=li(r,e.pendingProps),i=li(r.type,i),lS(t,e,r,i,n);case 15:return oC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Cp(t,e),e.tag=1,_r(r)?(t=!0,xm(e)):t=!1,Eu(e,n),rC(e,r,i),xv(e,r,i,n),kv(null,e,r,!0,t,n);case 19:return fC(t,e,n);case 22:return aC(t,e,n)}throw Error(oe(156,e.tag))};function CC(t,e){return e2(t,e)}function WN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(t,e,n,r){return new WN(t,e,n,r)}function Y1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HN(t){if(typeof t=="function")return Y1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===m1)return 11;if(t===g1)return 14}return 2}function Bo(t,e){var n=t.alternate;return n===null?(n=Yr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Y1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eu:return Ga(n.children,i,s,e);case p1:o=8,i|=8;break;case Yy:return t=Yr(12,n,e,i|2),t.elementType=Yy,t.lanes=s,t;case Xy:return t=Yr(13,n,e,i),t.elementType=Xy,t.lanes=s,t;case Jy:return t=Yr(19,n,e,i),t.elementType=Jy,t.lanes=s,t;case $x:return zg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mx:o=10;break e;case Lx:o=9;break e;case m1:o=11;break e;case g1:o=14;break e;case po:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Yr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ga(t,e,n,r){return t=Yr(7,t,r,e),t.lanes=n,t}function zg(t,e,n,r){return t=Yr(22,t,r,e),t.elementType=$x,t.lanes=n,t.stateNode={isHidden:!1},t}function uy(t,e,n){return t=Yr(6,t,null,e),t.lanes=n,t}function cy(t,e,n){return e=Yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W0(0),this.expirationTimes=W0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function X1(t,e,n,r,i,s,o,a,l){return t=new qN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Yr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D1(s),t}function GN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AC(t){if(!t)return Yo;t=t._reactInternals;e:{if(ml(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(_r(n))return A2(t,n,e)}return e}function kC(t,e,n,r,i,s,o,a,l){return t=X1(n,r,!0,t,i,s,o,a,l),t.context=AC(null),n=t.current,r=or(),i=jo(n),s=Ps(r,i),s.callback=e??null,Fo(n,s,i),t.current.lanes=i,Wd(t,i,r),Er(t,r),t}function Wg(t,e,n,r){var i=e.current,s=or(),o=jo(i);return n=AC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ps(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fo(i,e,o),t!==null&&(wi(t,i,o,s),Tp(t,i,o)),o}function Fm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _S(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function J1(t,e){_S(t,e),(t=t.alternate)&&_S(t,e)}function KN(){return null}var RC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Z1(t){this._internalRoot=t}Hg.prototype.render=Z1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Wg(t,e,null,null)};Hg.prototype.unmount=Z1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rl(function(){Wg(null,t,null,null)}),e[Ds]=null}};function Hg(t){this._internalRoot=t}Hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=a2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<go.length&&e!==0&&e<go[n].priority;n++);go.splice(n,0,t),n===0&&u2(t)}};function e_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ES(){}function QN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fm(o);s.call(c)}}var o=kC(e,r,t,0,null,!1,!1,"",ES);return t._reactRootContainer=o,t[Ds]=o.current,ed(t.nodeType===8?t.parentNode:t),rl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fm(l);a.call(c)}}var l=X1(t,0,!1,null,null,!1,!1,"",ES);return t._reactRootContainer=l,t[Ds]=l.current,ed(t.nodeType===8?t.parentNode:t),rl(function(){Wg(e,l,n,r)}),l}function Gg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fm(o);a.call(l)}}Wg(e,o,t,i)}else o=QN(n,e,t,i,r);return Fm(o)}s2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ff(e.pendingLanes);n!==0&&(w1(e,n|1),Er(e,an()),!(Et&6)&&(nc=an()+500,oa()))}break;case 13:rl(function(){var r=Ms(t,1);if(r!==null){var i=or();wi(r,t,1,i)}}),J1(t,1)}};_1=function(t){if(t.tag===13){var e=Ms(t,134217728);if(e!==null){var n=or();wi(e,t,134217728,n)}J1(t,134217728)}};o2=function(t){if(t.tag===13){var e=jo(t),n=Ms(t,e);if(n!==null){var r=or();wi(n,t,e,r)}J1(t,e)}};a2=function(){return Pt};l2=function(t,e){var n=Pt;try{return Pt=t,e()}finally{Pt=n}};lv=function(t,e,n){switch(e){case"input":if(tv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$g(r);if(!i)throw Error(oe(90));Fx(r),tv(r,i)}}}break;case"textarea":jx(t,n);break;case"select":e=n.value,e!=null&&yu(t,!!n.multiple,e,!1)}};Kx=G1;Qx=rl;var YN={usingClientEntryPoint:!1,Events:[qd,iu,$g,qx,Gx,G1]},Zc={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XN={bundleType:Zc.bundleType,version:Zc.version,rendererPackageName:Zc.rendererPackageName,rendererConfig:Zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jx(t),t===null?null:t.stateNode},findFiberByHostInstance:Zc.findFiberByHostInstance||KN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Ng=Bh.inject(XN),Ui=Bh}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YN;Vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e_(e))throw Error(oe(200));return GN(t,e,null,n)};Vr.createRoot=function(t,e){if(!e_(t))throw Error(oe(299));var n=!1,r="",i=RC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=X1(t,1,!1,null,null,n,!1,r,i),t[Ds]=e.current,ed(t.nodeType===8?t.parentNode:t),new Z1(e)};Vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=Jx(e),t=t===null?null:t.stateNode,t};Vr.flushSync=function(t){return rl(t)};Vr.hydrate=function(t,e,n){if(!qg(e))throw Error(oe(200));return Gg(null,t,e,!0,n)};Vr.hydrateRoot=function(t,e,n){if(!e_(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kC(e,null,t,1,n??null,i,!1,s,o),t[Ds]=e.current,ed(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hg(e)};Vr.render=function(t,e,n){if(!qg(e))throw Error(oe(200));return Gg(null,t,e,!1,n)};Vr.unmountComponentAtNode=function(t){if(!qg(t))throw Error(oe(40));return t._reactRootContainer?(rl(function(){Gg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};Vr.unstable_batchedUpdates=G1;Vr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qg(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return Gg(t,e,n,!1,r)};Vr.version="18.3.1-next-f1338f8080-20240426";function PC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PC)}catch(t){console.error(t)}}PC(),Px.exports=Vr;var Kd=Px.exports;const JN=hl(Kd);var bS=Kd;Ky.createRoot=bS.createRoot,Ky.hydrateRoot=bS.hydrateRoot;const ZN="1.0.2",eD="1.27.0",tD={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class OC extends Error{}class NC extends OC{constructor(e,n){super(e),this.code=n,this.type=tD[n]??"ServerError"}}class nD extends OC{constructor(e,n,r){super(e),this.status=n,this.statusText=r}}var t_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},nn=(t,e,n)=>(t_(t,e,"read from private field"),n?n.call(t):e.get(t)),to=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Su=(t,e,n,r)=>(t_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rD=(t,e,n,r)=>({set _(i){Su(t,e,i,n)},get _(){return nn(t,e,r)}}),DC=(t,e,n)=>(t_(t,e,"access private method"),n),Ia,Of,Es,La,ud,Tu,jv,MC,n_,LC;function iD(t){const e=new URL(t);return e.protocol=e.protocol.replace("http","ws"),e.toString()}const sD={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class oD{constructor(e,n={}){if(to(this,jv),to(this,n_),to(this,Ia,0),to(this,Of,0),to(this,Es,null),to(this,La,null),to(this,ud,new Set),to(this,Tu,new Map),this.endpoint=e,this.options={...sD,...n},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=iD(this.endpoint))}async makeRequest(e,n){const r=await DC(this,jv,MC).call(this);return new Promise((i,s)=>{Su(this,Ia,nn(this,Ia)+1),nn(this,Tu).set(nn(this,Ia),{resolve:i,reject:s,timeout:setTimeout(()=>{nn(this,Tu).delete(nn(this,Ia)),s(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:nn(this,Ia),method:e,params:n}))}).then(({error:i,result:s})=>{if(i)throw new NC(i.message,i.code);return s})}async subscribe(e){const n=new aD(e);return nn(this,ud).add(n),await n.subscribe(this),()=>n.unsubscribe(this)}}Ia=new WeakMap;Of=new WeakMap;Es=new WeakMap;La=new WeakMap;ud=new WeakMap;Tu=new WeakMap;jv=new WeakSet;MC=function(){return nn(this,La)?nn(this,La):(Su(this,La,new Promise(t=>{var e;(e=nn(this,Es))==null||e.close(),Su(this,Es,new this.options.WebSocketConstructor(this.endpoint)),nn(this,Es).addEventListener("open",()=>{Su(this,Of,0),t(nn(this,Es))}),nn(this,Es).addEventListener("close",()=>{rD(this,Of)._++,nn(this,Of)<=this.options.maxReconnects&&setTimeout(()=>{DC(this,n_,LC).call(this)},this.options.reconnectTimeout)}),nn(this,Es).addEventListener("message",({data:n})=>{let r;try{r=JSON.parse(n)}catch(i){console.error(new Error(`Failed to parse RPC message: ${n}`,{cause:i}));return}if("id"in r&&r.id!=null&&nn(this,Tu).has(r.id)){const{resolve:i,timeout:s}=nn(this,Tu).get(r.id);clearTimeout(s),i(r)}else if("params"in r){const{params:i}=r;nn(this,ud).forEach(s=>{s.subscriptionId===i.subscription&&i.subscription===s.subscriptionId&&s.onMessage(i.result)})}})})),nn(this,La))};n_=new WeakSet;LC=async function(){var t;return(t=nn(this,Es))==null||t.close(),Su(this,La,null),Promise.allSettled([...nn(this,ud)].map(e=>e.subscribe(this)))};class aD{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:n}=this;return this.subscribed=!1,n==null?!1:(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[n]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const n=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=n)}}var r_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},qr=(t,e,n)=>(r_(t,e,"read from private field"),n?n.call(t):e.get(t)),zh=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Bv=(t,e,n,r)=>(r_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),lD=(t,e,n)=>(r_(t,e,"access private method"),n),hf,hi,Nf,zv,$C;class uD{constructor(e){zh(this,zv),zh(this,hf,0),zh(this,hi,void 0),zh(this,Nf,void 0),Bv(this,hi,e)}fetch(e,n){const r=qr(this,hi).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,n)}async request(e){var i,s;Bv(this,hf,qr(this,hf)+1);const n=await this.fetch(((i=qr(this,hi).rpc)==null?void 0:i.url)??qr(this,hi).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":ZN,"Client-Target-Api-Version":eD,...(s=qr(this,hi).rpc)==null?void 0:s.headers},body:JSON.stringify({jsonrpc:"2.0",id:qr(this,hf),method:e.method,params:e.params})});if(!n.ok)throw new nD(`Unexpected status code: ${n.status}`,n.status,n.statusText);const r=await n.json();if("error"in r&&r.error!=null)throw new NC(r.error.message,r.error.code);return r.result}async subscribe(e){const n=await lD(this,zv,$C).call(this).subscribe(e);return async()=>!!await n()}}hf=new WeakMap;hi=new WeakMap;Nf=new WeakMap;zv=new WeakSet;$C=function(){var t;if(!qr(this,Nf)){const e=qr(this,hi).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");Bv(this,Nf,new oD(((t=qr(this,hi).websocket)==null?void 0:t.url)??qr(this,hi).url,{WebSocketConstructor:e,...qr(this,hi).websocket}))}return qr(this,Nf)};function pf(t){switch(t){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${t}`)}}function cD(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function f(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,v=0,S=0,b=g.length;S!==b&&g[S]===0;)S++,y++;for(var w=(b-S)*c+1>>>0,T=new Uint8Array(w);S!==b;){for(var N=g[S],F=0,j=w-1;(N!==0||F<v)&&j!==-1;j--,F++)N+=256*T[j]>>>0,T[j]=N%o>>>0,N=N/o>>>0;if(N!==0)throw new Error("Non-zero carry");v=F,S++}for(var A=w-v;A!==w&&T[A]===0;)A++;for(var I=a.repeat(y);A<w;++A)I+=t.charAt(T[A]);return I}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var y=0,v=0,S=0;g[y]===a;)v++,y++;for(var b=(g.length-y)*l+1>>>0,w=new Uint8Array(b);g[y];){var T=e[g.charCodeAt(y)];if(T===255)return;for(var N=0,F=b-1;(T!==0||N<S)&&F!==-1;F--,N++)T+=o*w[F]>>>0,w[F]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");S=N,y++}for(var j=b-S;j!==b&&w[j]===0;)j++;for(var A=new Uint8Array(v+(b-j)),I=v;j!==b;)A[I++]=w[j++];return A}function h(g){var y=d(g);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:d,decode:h}}var fD=cD;const dD=fD,hD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var pD=dD(hD);const VC=hl(pD),Kg=t=>VC.encode(t),cd=t=>VC.decode(t);function ar(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}const fy=8192;function Ft(t){if(t.length<fy)return btoa(String.fromCharCode(...t));let e="";for(var n=0;n<t.length;n+=fy){const r=t.slice(n,n+fy);e+=String.fromCharCode(...r)}return btoa(e)}function i_(t){var i;const e=t.startsWith("0x")?t.slice(2):t,r=((i=(e.length%2===0?e:`0${e}}`).match(/.{2}/g))==null?void 0:i.map(s=>parseInt(s,16)))??[];return Uint8Array.from(r)}function rc(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"")}function s_(t){let e=[],n=0;if(t===0)return[0];for(;t>0;)e[n]=t&127,(t>>=7)&&(e[n]|=128),n+=1;return e}function mD(t){let e=0,n=0,r=0;for(;;){let i=t[r];if(r+=1,e|=(i&127)<<n,!(i&128))break;n+=7}return{value:e,length:r}}class gD{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),r=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read128(){let e=BigInt(this.read64()),r=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+r).toString(10)}read256(){let e=BigInt(this.read128()),r=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+r).toString(10)}readBytes(e){let n=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,n,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,e),{value:r,length:i}=mD(n);return this.shift(i),r}readVec(e){let n=this.readULEB(),r=[];for(let i=0;i<n;i++)r.push(e(this,i,n));return r}}function yD(t,e){switch(e){case"base58":return Kg(t);case"base64":return Ft(t);case"hex":return rc(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function vD(t,e=["<",">"]){const[n,r]=e,i=[];let s="",o=0;for(let a=0;a<t.length;a++){const l=t[a];if(l===n&&o++,l===r&&o--,o===0&&l===","){i.push(s.trim()),s="";continue}s+=l}return i.push(s.trim()),i}class wD{constructor({initialSize:e=1024,maxSize:n=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=n,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const n=this.bytePosition+e;if(n>this.size){const r=Math.min(this.maxSize,this.size+this.allocateSize);if(n>r)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${n}`);this.size=r;const i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return dy(BigInt(e),8).forEach(n=>this.write8(n)),this}write128(e){return dy(BigInt(e),16).forEach(n=>this.write8(n)),this}write256(e){return dy(BigInt(e),32).forEach(n=>this.write8(n)),this}writeULEB(e){return s_(e).forEach(n=>this.write8(n)),this}writeVec(e,n){return this.writeULEB(e.length),Array.from(e).forEach((r,i)=>n(this,r,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return yD(this.toBytes(),e)}}function dy(t,e){let n=new Uint8Array(e),r=0;for(;t>0;)n[r]=Number(t%BigInt(256)),t=t/BigInt(256),r+=1;return n}var FC=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},pi=(t,e,n)=>(FC(t,e,"read from private field"),n?n.call(t):e.get(t)),Um=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},jm=(t,e,n,r)=>(FC(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ql,mf,Pp,uo;const UC=class{constructor(t){Um(this,ql,void 0),Um(this,mf,void 0),this.name=t.name,this.read=t.read,this.serializedSize=t.serializedSize??(()=>null),jm(this,ql,t.write),jm(this,mf,t.serialize??((e,n)=>{const r=new wD({initialSize:this.serializedSize(e)??void 0,...n});return pi(this,ql).call(this,e,r),r.toBytes()})),this.validate=t.validate??(()=>{})}write(t,e){this.validate(t),pi(this,ql).call(this,t,e)}serialize(t,e){return this.validate(t),new _D(this,pi(this,mf).call(this,t,e))}parse(t){const e=new gD(t);return this.read(e)}fromHex(t){return this.parse(i_(t))}fromBase58(t){return this.parse(cd(t))}fromBase64(t){return this.parse(ar(t))}transform({name:t,input:e,output:n,validate:r}){return new UC({name:t??this.name,read:i=>n(this.read(i)),write:(i,s)=>pi(this,ql).call(this,e(i),s),serializedSize:i=>this.serializedSize(e(i)),serialize:(i,s)=>pi(this,mf).call(this,e(i),s),validate:i=>{r==null||r(i),this.validate(e(i))}})}};let Ts=UC;ql=new WeakMap;mf=new WeakMap;const jC=Symbol.for("@mysten/serialized-bcs");function BC(t){return!!t&&typeof t=="object"&&t[jC]===!0}class _D{constructor(e,n){Um(this,Pp,void 0),Um(this,uo,void 0),jm(this,Pp,e),jm(this,uo,n)}get[jC](){return!0}toBytes(){return pi(this,uo)}toHex(){return rc(pi(this,uo))}toBase64(){return Ft(pi(this,uo))}toBase58(){return Kg(pi(this,uo))}parse(){return pi(this,Pp).parse(pi(this,uo))}}Pp=new WeakMap;uo=new WeakMap;function Bm({size:t,...e}){return new Ts({...e,serializedSize:()=>t})}function hy({readMethod:t,writeMethod:e,...n}){return Bm({...n,read:r=>r[t](),write:(r,i)=>i[e](r),validate:r=>{var i;if(r<0||r>n.maxValue)throw new TypeError(`Invalid ${n.name} value: ${r}. Expected value in range 0-${n.maxValue}`);(i=n.validate)==null||i.call(n,r)}})}function py({readMethod:t,writeMethod:e,...n}){return Bm({...n,read:r=>r[t](),write:(r,i)=>i[e](BigInt(r)),validate:r=>{var s;const i=BigInt(r);if(i<0||i>n.maxValue)throw new TypeError(`Invalid ${n.name} value: ${i}. Expected value in range 0-${n.maxValue}`);(s=n.validate)==null||s.call(n,i)}})}function ED({serialize:t,...e}){const n=new Ts({...e,serialize:t,write:(r,i)=>{for(const s of n.serialize(r).toBytes())i.write8(s)}});return n}function bD({toBytes:t,fromBytes:e,...n}){return new Ts({...n,read:r=>{const i=r.readULEB(),s=r.readBytes(i);return e(s)},write:(r,i)=>{const s=t(r);i.writeULEB(s.length);for(let o=0;o<s.length;o++)i.write8(s[o])},serialize:r=>{const i=t(r),s=s_(i.length),o=new Uint8Array(s.length+i.length);return o.set(s,0),o.set(i,s.length),o},validate:r=>{var i;if(typeof r!="string")throw new TypeError(`Invalid ${n.name} value: ${r}. Expected string`);(i=n.validate)==null||i.call(n,r)}})}function SD(t){let e=null;function n(){return e||(e=t()),e}return new Ts({name:"lazy",read:r=>n().read(r),serializedSize:r=>n().serializedSize(r),write:(r,i)=>n().write(r,i),serialize:(r,i)=>n().serialize(r,i).toBytes()})}const L={u8(t){return hy({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return hy({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return hy({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return py({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return py({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return py({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return Bm({name:"bool",size:1,read:e=>e.read8()===1,write:(e,n)=>n.write8(e?1:0),...t,validate:e=>{var n;if((n=t==null?void 0:t.validate)==null||n.call(t,e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return ED({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(s_(e)),...t})},bytes(t,e){return Bm({name:`bytes[${t}]`,size:t,read:n=>n.readBytes(t),write:(n,r)=>{for(let i=0;i<t;i++)r.write8(n[i]??0)},...e,validate:n=>{var r;if((r=e==null?void 0:e.validate)==null||r.call(e,n),!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},string(t){return bD({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,n){return new Ts({name:`${e.name}[${t}]`,read:r=>{const i=new Array(t);for(let s=0;s<t;s++)i[s]=e.read(r);return i},write:(r,i)=>{for(const s of r)e.write(s,i)},...n,validate:r=>{var i;if((i=n==null?void 0:n.validate)==null||i.call(n,r),!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},option(t){return L.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>"Some"in e?e.Some:null})},vector(t,e){return new Ts({name:`vector<${t.name}>`,read:n=>{const r=n.readULEB(),i=new Array(r);for(let s=0;s<r;s++)i[s]=t.read(n);return i},write:(n,r)=>{r.writeULEB(n.length);for(const i of n)t.write(i,r)},...e,validate:n=>{var r;if((r=e==null?void 0:e.validate)==null||r.call(e,n),!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`)}})},tuple(t,e){return new Ts({name:`(${t.map(n=>n.name).join(", ")})`,serializedSize:n=>{let r=0;for(let i=0;i<t.length;i++){const s=t[i].serializedSize(n[i]);if(s==null)return null;r+=s}return r},read:n=>{const r=[];for(const i of t)r.push(i.read(n));return r},write:(n,r)=>{for(let i=0;i<t.length;i++)t[i].write(n[i],r)},...e,validate:n=>{var r;if((r=e==null?void 0:e.validate)==null||r.call(e,n),!Array.isArray(n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${n.length}`)}})},struct(t,e,n){const r=Object.entries(e);return new Ts({name:t,serializedSize:i=>{let s=0;for(const[o,a]of r){const l=a.serializedSize(i[o]);if(l==null)return null;s+=l}return s},read:i=>{const s={};for(const[o,a]of r)s[o]=a.read(i);return s},write:(i,s)=>{for(const[o,a]of r)a.write(i[o],s)},...n,validate:i=>{var s;if((s=n==null?void 0:n.validate)==null||s.call(n,i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(t,e,n){const r=Object.entries(e);return new Ts({name:t,read:i=>{const s=i.readULEB(),[o,a]=r[s];return{[o]:(a==null?void 0:a.read(i))??!0,$kind:o}},write:(i,s)=>{const[o,a]=Object.entries(i).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<r.length;l++){const[c,f]=r[l];if(c===o){s.writeULEB(l),f==null||f.write(a,s);return}}},...n,validate:i=>{var a;if((a=n==null?void 0:n.validate)==null||a.call(n,i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);const s=Object.keys(i).filter(l=>i[l]!==void 0&&Object.hasOwn(e,l));if(s.length!==1)throw new TypeError(`Expected object with one key, but found ${s.length} for type ${t}}`);const[o]=s;if(!Object.hasOwn(e,o))throw new TypeError(`Invalid enum variant ${o}`)}})},map(t,e){return L.vector(L.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:n=>[...n.entries()],output:n=>{const r=new Map;for(const[i,s]of n)r.set(i,s);return r}})},lazy(t){return SD(t)}},TD=32;function SS(t){try{return cd(t).length===TD}catch{return!1}}const Qg=32;function bs(t){return ID(t)&&xD(t)===Qg}function Wh(t){return bs(t)}function Rt(t,e=!1){let n=t.toLowerCase();return!e&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(Qg*2,"0")}`}function Vi(t,e=!1){return Rt(t,e)}function ID(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function xD(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}const CD=/^vector<(.+)>$/,AD=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class Li{static parseFromStr(e,n=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const r=e.match(CD);if(r)return{vector:Li.parseFromStr(r[1],n)};const i=e.match(AD);if(i)return{struct:{address:n?Rt(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:Li.parseStructTypeArgs(i[5],n)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,n=!1){return vD(e).map(r=>Li.parseFromStr(r,n))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${Li.tagToString(e.vector)}>`;if("struct"in e){const n=e.struct,r=n.typeParams.map(Li.tagToString).join(", ");return`${n.address}::${n.module}::${n.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}function kD(t){return L.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function RD(t){return L.enum("Option",{None:null,Some:t})}const ln=L.bytes(Qg).transform({validate:t=>{const e=typeof t=="string"?t:rc(t);if(!e||!bs(Rt(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?i_(Rt(t)):t,output:t=>Rt(rc(t))}),gi=L.vector(L.u8()).transform({name:"ObjectDigest",input:t=>cd(t),output:t=>Kg(new Uint8Array(t)),validate:t=>{if(cd(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Br=L.struct("SuiObjectRef",{objectId:ln,version:L.u64(),digest:gi}),zC=L.struct("SharedObjectRef",{objectId:ln,initialSharedVersion:L.u64(),mutable:L.bool()}),WC=L.enum("ObjectArg",{ImmOrOwnedObject:Br,SharedObject:zC,Receiving:Br}),HC=L.enum("CallArg",{Pure:L.struct("Pure",{bytes:L.vector(L.u8()).transform({input:t=>typeof t=="string"?ar(t):t,output:t=>Ft(new Uint8Array(t))})}),Object:WC}),o_=L.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:L.lazy(()=>o_),struct:L.lazy(()=>XC),u16:null,u32:null,u256:null}),a_=o_.transform({input:t=>typeof t=="string"?Li.parseFromStr(t,!0):t,output:t=>Li.tagToString(t)}),Ri=L.enum("Argument",{GasCoin:null,Input:L.u16(),Result:L.u16(),NestedResult:L.tuple([L.u16(),L.u16()])}),qC=L.struct("ProgrammableMoveCall",{package:ln,module:L.string(),function:L.string(),typeArguments:L.vector(a_),arguments:L.vector(Ri)}),GC=L.enum("Command",{MoveCall:qC,TransferObjects:L.struct("TransferObjects",{objects:L.vector(Ri),address:Ri}),SplitCoins:L.struct("SplitCoins",{coin:Ri,amounts:L.vector(Ri)}),MergeCoins:L.struct("MergeCoins",{destination:Ri,sources:L.vector(Ri)}),Publish:L.struct("Publish",{modules:L.vector(L.vector(L.u8()).transform({input:t=>typeof t=="string"?ar(t):t,output:t=>Ft(new Uint8Array(t))})),dependencies:L.vector(ln)}),MakeMoveVec:L.struct("MakeMoveVec",{type:RD(a_).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:L.vector(Ri)}),Upgrade:L.struct("Upgrade",{modules:L.vector(L.vector(L.u8()).transform({input:t=>typeof t=="string"?ar(t):t,output:t=>Ft(new Uint8Array(t))})),dependencies:L.vector(ln),package:ln,ticket:Ri})}),KC=L.struct("ProgrammableTransaction",{inputs:L.vector(HC),commands:L.vector(GC)}),QC=L.enum("TransactionKind",{ProgrammableTransaction:KC,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),YC=L.enum("TransactionExpiration",{None:null,Epoch:kD()}),XC=L.struct("StructTag",{address:ln,module:L.string(),name:L.string(),typeParams:L.vector(o_)}),JC=L.struct("GasData",{payment:L.vector(Br),owner:ln,price:L.u64(),budget:L.u64()}),ZC=L.struct("TransactionDataV1",{kind:QC,sender:ln,gasData:JC,expiration:YC}),eA=L.enum("TransactionData",{V1:ZC}),tA=L.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),nA=L.enum("IntentVersion",{V0:null}),rA=L.enum("AppId",{Sui:null}),iA=L.struct("Intent",{scope:tA,version:nA,appId:rA});function sA(t){return L.struct(`IntentMessage<${t.name}>`,{intent:iA,value:t})}const oA=L.enum("CompressedSignature",{ED25519:L.fixedArray(64,L.u8()),Secp256k1:L.fixedArray(64,L.u8()),Secp256r1:L.fixedArray(64,L.u8()),ZkLogin:L.vector(L.u8())}),aA=L.enum("PublicKey",{ED25519:L.fixedArray(32,L.u8()),Secp256k1:L.fixedArray(33,L.u8()),Secp256r1:L.fixedArray(33,L.u8()),ZkLogin:L.vector(L.u8())}),lA=L.struct("MultiSigPkMap",{pubKey:aA,weight:L.u8()}),uA=L.struct("MultiSigPublicKey",{pk_map:L.vector(lA),threshold:L.u16()}),PD=L.struct("MultiSig",{sigs:L.vector(oA),bitmap:L.u16(),multisig_pk:uA}),OD=L.vector(L.u8()).transform({input:t=>typeof t=="string"?ar(t):t,output:t=>Ft(new Uint8Array(t))}),cA=L.struct("SenderSignedTransaction",{intentMessage:sA(eA),txSignatures:L.vector(OD)}),ND=L.vector(cA,{name:"SenderSignedData"}),DD=L.enum("PackageUpgradeError",{UnableToFetchPackage:L.struct("UnableToFetchPackage",{packageId:ln}),NotAPackage:L.struct("NotAPackage",{objectId:ln}),IncompatibleUpgrade:null,DigestDoesNotMatch:L.struct("DigestDoesNotMatch",{digest:L.vector(L.u8())}),UnknownUpgradePolicy:L.struct("UnknownUpgradePolicy",{policy:L.u8()}),PackageIDDoesNotMatch:L.struct("PackageIDDoesNotMatch",{packageId:ln,ticketId:ln})}),MD=L.struct("ModuleId",{address:ln,name:L.string()}),TS=L.struct("MoveLocation",{module:MD,function:L.u16(),instruction:L.u16(),functionName:L.option(L.string())}),LD=L.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:L.struct("IndexOutOfBounds",{idx:L.u16()}),SecondaryIndexOutOfBounds:L.struct("SecondaryIndexOutOfBounds",{resultIdx:L.u16(),secondaryIdx:L.u16()}),InvalidResultArity:L.struct("InvalidResultArity",{resultIdx:L.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),$D=L.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),VD=L.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:L.struct("MoveObjectTooBig",{objectSize:L.u64(),maxObjectSize:L.u64()}),MovePackageTooBig:L.struct("MovePackageTooBig",{objectSize:L.u64(),maxObjectSize:L.u64()}),CircularObjectOwnership:L.struct("CircularObjectOwnership",{object:ln}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:L.option(TS),MoveAbort:L.tuple([TS,L.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:L.struct("CommandArgumentError",{argIdx:L.u16(),kind:LD}),TypeArgumentError:L.struct("TypeArgumentError",{argumentIdx:L.u16(),kind:$D}),UnusedValueWithoutDrop:L.struct("UnusedValueWithoutDrop",{resultIdx:L.u16(),secondaryIdx:L.u16()}),InvalidPublicFunctionReturnType:L.struct("InvalidPublicFunctionReturnType",{idx:L.u16()}),InvalidTransferObject:null,EffectsTooLarge:L.struct("EffectsTooLarge",{currentSize:L.u64(),maxSize:L.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:L.struct("PackageUpgradeError",{upgradeError:DD}),WrittenObjectsTooLarge:L.struct("WrittenObjectsTooLarge",{currentSize:L.u64(),maxSize:L.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null}),fA=L.enum("ExecutionStatus",{Success:null,Failed:L.struct("ExecutionFailed",{error:VD,command:L.option(L.u64())})}),dA=L.struct("GasCostSummary",{computationCost:L.u64(),storageCost:L.u64(),storageRebate:L.u64(),nonRefundableStorageFee:L.u64()}),fu=L.enum("Owner",{AddressOwner:ln,ObjectOwner:ln,Shared:L.struct("Shared",{initialSharedVersion:L.u64()}),Immutable:null}),FD=L.struct("TransactionEffectsV1",{status:fA,executedEpoch:L.u64(),gasUsed:dA,modifiedAtVersions:L.vector(L.tuple([ln,L.u64()])),sharedObjects:L.vector(Br),transactionDigest:gi,created:L.vector(L.tuple([Br,fu])),mutated:L.vector(L.tuple([Br,fu])),unwrapped:L.vector(L.tuple([Br,fu])),deleted:L.vector(Br),unwrappedThenDeleted:L.vector(Br),wrapped:L.vector(Br),gasObject:L.tuple([Br,fu]),eventsDigest:L.option(gi),dependencies:L.vector(gi)}),l_=L.tuple([L.u64(),gi]),UD=L.enum("ObjectIn",{NotExist:null,Exist:L.tuple([l_,fu])}),jD=L.enum("ObjectOut",{NotExist:null,ObjectWrite:L.tuple([gi,fu]),PackageWrite:l_}),BD=L.enum("IDOperation",{None:null,Created:null,Deleted:null}),zD=L.struct("EffectsObjectChange",{inputState:UD,outputState:jD,idOperation:BD}),WD=L.enum("UnchangedSharedKind",{ReadOnlyRoot:l_,MutateDeleted:L.u64(),ReadDeleted:L.u64()}),HD=L.struct("TransactionEffectsV2",{status:fA,executedEpoch:L.u64(),gasUsed:dA,transactionDigest:gi,gasObjectIndex:L.option(L.u32()),eventsDigest:L.option(gi),dependencies:L.vector(gi),lamportVersion:L.u64(),changedObjects:L.vector(L.tuple([ln,zD])),unchangedSharedObjects:L.vector(L.tuple([ln,WD])),auxDataDigest:L.option(gi)}),qD=L.enum("TransactionEffects",{V1:FD,V2:HD}),wt={...L,U8:L.u8(),U16:L.u16(),U32:L.u32(),U64:L.u64(),U128:L.u128(),U256:L.u256(),ULEB128:L.uleb128(),Bool:L.bool(),String:L.string(),Address:ln,AppId:rA,Argument:Ri,CallArg:HC,CompressedSignature:oA,GasData:JC,Intent:iA,IntentMessage:sA,IntentScope:tA,IntentVersion:nA,MultiSig:PD,MultiSigPkMap:lA,MultiSigPublicKey:uA,ObjectArg:WC,ObjectDigest:gi,ProgrammableMoveCall:qC,ProgrammableTransaction:KC,PublicKey:aA,SenderSignedData:ND,SenderSignedTransaction:cA,SharedObjectRef:zC,StructTag:XC,SuiObjectRef:Br,Command:GC,TransactionData:eA,TransactionDataV1:ZC,TransactionExpiration:YC,TransactionKind:QC,TypeTag:a_,TransactionEffects:qD},GD="…";function hA(t){if(t.length<=6)return t;const e=t.startsWith("0x")?2:0;return`0x${t.slice(e,e+4)}${GD}${t.slice(-4)}`}const KD=/^(?:[a-z0-9][a-z0-9-]{0,62}(?:\.[a-z0-9][a-z0-9-]{0,62})*)?@[a-z0-9][a-z0-9-]{0,62}$/i,QD=/^(?:[a-z0-9][a-z0-9-]{0,62}\.)+sui$/i;function YD(t,e="at"){const n=t.toLowerCase();let r;if(n.includes("@")){if(!KD.test(n))throw new Error(`Invalid SuiNS name ${t}`);const[i,s]=n.split("@");r=[...i?i.split("."):[],s]}else{if(!QD.test(n))throw new Error(`Invalid SuiNS name ${t}`);r=n.split(".").slice(0,-1)}return e==="dot"?`${r.join(".")}.sui`:`${r.slice(0,-1).join(".")}@${r[r.length-1]}`}BigInt(1e9);const XD="0x1",pA="0x2";Vi("0x6");const JD=`${pA}::sui::SUI`;Vi("0x5");const ZD="object",e4="ID",t4="ascii",n4="String",r4="string",i4="String",s4="option",o4="Option";function a4(t){const e=typeof t.body=="object"&&"datatype"in t.body?t.body.datatype:null;return!!e&&Rt(e.package)===Rt("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function Wv(t){if(typeof t=="string")switch(t){case"address":return wt.Address;case"bool":return wt.Bool;case"u8":return wt.U8;case"u16":return wt.U16;case"u32":return wt.U32;case"u64":return wt.U64;case"u128":return wt.U128;case"u256":return wt.U256;default:throw new Error(`Unknown type signature ${t}`)}if("vector"in t){const e=Wv(t.vector);return e?wt.vector(e):null}if("datatype"in t){const e=Rt(t.datatype.package);if(e===Rt(XD)){if(t.datatype.module===t4&&t.datatype.type===n4||t.datatype.module===r4&&t.datatype.type===i4)return wt.String;if(t.datatype.module===s4&&t.datatype.type===o4){const n=Wv(t.datatype.typeParameters[0]);return n?wt.vector(n):null}}if(e===Rt(pA)&&t.datatype.module===ZD&&t.datatype.type===e4)return wt.Address}return null}function l4(t){return typeof t=="object"&&"Reference"in t?{ref:"&",body:Df(t.Reference)}:typeof t=="object"&&"MutableReference"in t?{ref:"&mut",body:Df(t.MutableReference)}:{ref:null,body:Df(t)}}function Df(t){if(typeof t=="string")switch(t){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${t}`)}if("Vector"in t)return{vector:Df(t.Vector)};if("Struct"in t)return{datatype:{package:t.Struct.address,module:t.Struct.module,type:t.Struct.name,typeParameters:t.Struct.typeArguments.map(Df)}};if("TypeParameter"in t)return{typeParameter:t.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(t)}`)}function u4(t){return{$kind:"Pure",Pure:{bytes:t instanceof Uint8Array?Ft(t):t.toBase64()}}}const Cs={Pure:u4,ObjectRef({objectId:t,digest:e,version:n}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:n,objectId:Rt(t)}}}},SharedObjectRef({objectId:t,mutable:e,initialSharedVersion:n}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:n,objectId:Rt(t)}}}},ReceivingRef({objectId:t,digest:e,version:n}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:n,objectId:Rt(t)}}}}};var mA=class extends Error{constructor(e){super(e[0].message);hb(this,"issues");this.name="ValiError",this.issues=e}};function gA(t){return typeof t=="function"?t():t}function u_(t,e,n,r,i){return{issues:[{validation:t,message:gA(e),input:n,requirement:r,path:i}]}}function c_(t){return{output:t}}function Qi(t,e){return Array.isArray(t)?[void 0,t]:[t,e]}function ts(t,e,n){return{typed:t,output:e,issues:n}}function yA(t,e,n){if(!t||typeof t=="object"&&!Array.isArray(t)){const[s,o]=Qi(e,n);return[t,s,o]}const[r,i]=Qi(t,e);return[void 0,r,i]}function c4(t,e){return{reason:t==null?void 0:t.reason,validation:e.validation,origin:(t==null?void 0:t.origin)||"value",message:e.message,input:e.input,requirement:e==null?void 0:e.requirement,path:e.path,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}}function f4(t,e){return{reason:e,origin:t==null?void 0:t.origin,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}}function Ti(t,e,n,r,i){let s,o=t;if(e!=null&&e.length&&!(n!=null&&n.skipPipe))for(const a of e){const l=a._parse(o);if(l.issues){s=s||f4(n,r);for(const c of l.issues){const f=c4(s,c);i?i.push(f):i=[f]}if(s.abortEarly||s.abortPipeEarly)break}else o=l.output}return ts(!0,o,i)}function Ei(t,e,n,r,i,s,o){return{typed:!1,output:i,issues:[{reason:e,validation:n,origin:(t==null?void 0:t.origin)||"value",message:gA(r),input:i,path:s,issues:o,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}]}}function f_(t){return typeof t.default=="function"?t.default():t.default}function Hv(t,e,n){return!t._parse(e,{abortEarly:!0,skipPipe:n==null?void 0:n.skipPipe}).issues}function It(t,e,n){const[r="Invalid type",i]=Qi(e,n);return{type:"array",async:!1,item:t,message:r,pipe:i,_parse(s,o){if(!Array.isArray(s))return Ei(o,"type","array",this.message,s);let a=!0,l;const c=[];for(let f=0;f<s.length;f++){const d=s[f],h=this.item._parse(d,o);if(h.issues){const g={type:"array",input:s,key:f,value:d};for(const y of h.issues)y.path?y.path.unshift(g):y.path=[g],l==null||l.push(y);if(l||(l=h.issues),o!=null&&o.abortEarly){a=!1;break}}h.typed||(a=!1),c.push(h.output)}return a?Ti(c,this.pipe,o,"array",l):ts(!1,c,l)}}}function vA(t,e){const[n="Invalid type",r]=Qi(t,e);return{type:"boolean",async:!1,message:n,pipe:r,_parse(i,s){return typeof i!="boolean"?Ei(s,"type","boolean",this.message,i):Ti(i,this.pipe,s,"boolean")}}}function qt(t,e="Invalid type"){return{type:"literal",async:!1,literal:t,message:e,_parse(n,r){return n!==this.literal?Ei(r,"type","literal",this.message,n):ts(!0,n)}}}function mn(t,e){return{type:"nullable",async:!1,wrapped:t,default:e,_parse(n,r){if(n===null){const i=f_(this);if(i===void 0)return ts(!0,n);n=i}return this.wrapped._parse(n,r)}}}function zm(t,e){return{type:"nullish",async:!1,wrapped:t,default:e,_parse(n,r){if(n==null){const i=f_(this);if(i===void 0)return ts(!0,n);n=i}return this.wrapped._parse(n,r)}}}function Kr(t,e){const[n="Invalid type",r]=Qi(t,e);return{type:"number",async:!1,message:n,pipe:r,_parse(i,s){return typeof i!="number"||isNaN(i)?Ei(s,"type","number",this.message,i):Ti(i,this.pipe,s,"number")}}}function Ue(t,e,n,r){const[i,s="Invalid type",o]=yA(e,n,r);let a;return{type:"object",async:!1,entries:t,rest:i,message:s,pipe:o,_parse(l,c){if(!l||typeof l!="object")return Ei(c,"type","object",this.message,l);a=a||Object.entries(this.entries);let f=!0,d;const h={};for(const[g,y]of a){const v=l[g],S=y._parse(v,c);if(S.issues){const b={type:"object",input:l,key:g,value:v};for(const w of S.issues)w.path?w.path.unshift(b):w.path=[b],d==null||d.push(w);if(d||(d=S.issues),c!=null&&c.abortEarly){f=!1;break}}S.typed||(f=!1),(S.output!==void 0||g in l)&&(h[g]=S.output)}if(this.rest&&!(c!=null&&c.abortEarly&&d)){for(const g in l)if(!(g in this.entries)){const y=l[g],v=this.rest._parse(y,c);if(v.issues){const S={type:"object",input:l,key:g,value:y};for(const b of v.issues)b.path?b.path.unshift(S):b.path=[S],d==null||d.push(b);if(d||(d=v.issues),c!=null&&c.abortEarly){f=!1;break}}v.typed||(f=!1),h[g]=v.output}}return f?Ti(h,this.pipe,c,"object",d):ts(!1,h,d)}}}function Os(t,e){return{type:"optional",async:!1,wrapped:t,default:e,_parse(n,r){if(n===void 0){const i=f_(this);if(i===void 0)return ts(!0,n);n=i}return this.wrapped._parse(n,r)}}}function At(t,e){const[n="Invalid type",r]=Qi(t,e);return{type:"string",async:!1,message:n,pipe:r,_parse(i,s){return typeof i!="string"?Ei(s,"type","string",this.message,i):Ti(i,this.pipe,s,"string")}}}function d4(t,e,n,r){if(typeof e=="object"&&!Array.isArray(e)){const[o,a]=Qi(n,r);return[t,e,o,a]}const[i,s]=Qi(e,n);return[At(),t,i,s]}var h4=["__proto__","prototype","constructor"];function Wm(t,e,n,r){const[i,s,o="Invalid type",a]=d4(t,e,n,r);return{type:"record",async:!1,key:i,value:s,message:o,pipe:a,_parse(l,c){if(!l||typeof l!="object")return Ei(c,"type","record",this.message,l);let f=!0,d;const h={};for(const[g,y]of Object.entries(l))if(!h4.includes(g)){let v;const S=this.key._parse(g,{origin:"key",abortEarly:c==null?void 0:c.abortEarly,abortPipeEarly:c==null?void 0:c.abortPipeEarly,skipPipe:c==null?void 0:c.skipPipe});if(S.issues){v={type:"record",input:l,key:g,value:y};for(const w of S.issues)w.path=[v],d==null||d.push(w);if(d||(d=S.issues),c!=null&&c.abortEarly){f=!1;break}}const b=this.value._parse(y,c);if(b.issues){v=v||{type:"record",input:l,key:g,value:y};for(const w of b.issues)w.path?w.path.unshift(v):w.path=[v],d==null||d.push(w);if(d||(d=b.issues),c!=null&&c.abortEarly){f=!1;break}}(!S.typed||!b.typed)&&(f=!1),S.typed&&(h[S.output]=b.output)}return f?Ti(h,this.pipe,c,"record",d):ts(!1,h,d)}}}function IS(t){return{type:"recursive",async:!1,getter:t,_parse(e,n){return this.getter()._parse(e,n)}}}function wA(t,e,n,r){const[i,s="Invalid type",o]=yA(e,n,r);return{type:"tuple",async:!1,items:t,rest:i,message:s,pipe:o,_parse(a,l){if(!Array.isArray(a)||this.items.length>a.length)return Ei(l,"type","tuple",this.message,a);let c=!0,f;const d=[];for(let h=0;h<this.items.length;h++){const g=a[h],y=this.items[h]._parse(g,l);if(y.issues){const v={type:"tuple",input:a,key:h,value:g};for(const S of y.issues)S.path?S.path.unshift(v):S.path=[v],f==null||f.push(S);if(f||(f=y.issues),l!=null&&l.abortEarly){c=!1;break}}y.typed||(c=!1),d[h]=y.output}if(this.rest&&!(l!=null&&l.abortEarly&&f))for(let h=this.items.length;h<a.length;h++){const g=a[h],y=this.rest._parse(g,l);if(y.issues){const v={type:"tuple",input:a,key:h,value:g};for(const S of y.issues)S.path?S.path.unshift(v):S.path=[v],f==null||f.push(S);if(f||(f=y.issues),l!=null&&l.abortEarly){c=!1;break}}y.typed||(c=!1),d[h]=y.output}return c?Ti(d,this.pipe,l,"tuple",f):ts(!1,d,f)}}}function aa(t,e,n){const[r="Invalid type",i]=Qi(e,n);return{type:"union",async:!1,options:t,message:r,pipe:i,_parse(s,o){let a,l;for(const c of this.options){const f=c._parse(s,o);if(f.issues)if(a)for(const d of f.issues)a.push(d);else a=f.issues;else{l=[f.output];break}}return l?Ti(l[0],this.pipe,o,"union"):Ei(o,"type","union",this.message,s,void 0,a)}}}function Yg(t){return{type:"unknown",async:!1,pipe:t,_parse(e,n){return Ti(e,this.pipe,n,"unknown")}}}function _A(t,e,n,r){const[i="Invalid type",s]=Qi(n,r);return{type:"variant",async:!1,key:t,options:e,message:i,pipe:s,_parse(o,a){if(!o||typeof o!="object")return Ei(a,"type","variant",this.message,o);if(this.key in o){let l,c;const f=d=>{for(const h of d)if(h.type==="object"){if(!h.entries[this.key]._parse(o[this.key],a).issues){const y=h._parse(o,a);if(y.issues)l=y.issues;else{c=[y.output];break}}}else if(h.type==="variant"&&(f(h.options),c))break};if(f(this.options),c)return Ti(c[0],this.pipe,a,"variant");if(l)return ts(!1,c,l)}return Ei(a,"type","variant",this.message,o,[{type:"object",input:o,key:this.key,value:void 0}])}}}function rn(t,e,n){const r=t._parse(e,n);if(r.issues)throw new mA(r.issues);return r.output}function p4(t,e,n){const r=t._parse(e,n);return{typed:r.typed,success:!r.issues,data:r.output,output:r.output,error:r.issues&&new mA(r.issues),issues:r.issues}}function d_(t,e,n){return{...t,_parse(r,i){const s=t._parse(r,i);return s.typed?(s.output=e(s.output,{issues:s.issues}),s.issues||!n?s:Array.isArray(n)?Ti(s.output,n,i,typeof s.output):n._parse(s.output,i)):s}}}var m4=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu;function EA(t,e="Invalid input"){return{type:"custom",async:!1,message:e,requirement:t,_parse(n){return this.requirement(n)?c_(n):u_(this.type,this.message,n,this.requirement)}}}function Qr(t="Invalid integer"){return{type:"integer",async:!1,message:t,requirement:Number.isInteger,_parse(e){return this.requirement(e)?c_(e):u_(this.type,this.message,e,this.requirement)}}}function g4(t="Invalid UUID"){return{type:"uuid",async:!1,message:t,requirement:m4,_parse(e){return this.requirement.test(e)?c_(e):u_(this.type,this.message,e,this.requirement)}}}function bc(t){const e=Object.entries(t).map(([n,r])=>Ue({[n]:r}));return d_(aa(e),n=>({...n,$kind:Object.keys(n)[0]}))}const Sc=d_(At(),t=>Rt(t),[EA(bs)]),Jr=Sc,il=At(),$r=aa([At(),Kr([Qr()])],[EA(t=>{try{return BigInt(t),BigInt(t)>=0&&BigInt(t)<=18446744073709551615n}catch{return!1}},"Invalid u64")]),Xo=Ue({objectId:Sc,version:$r,digest:At()}),Ht=d_(aa([Ue({GasCoin:qt(!0)}),Ue({Input:Kr([Qr()]),type:Os(qt("pure"))}),Ue({Input:Kr([Qr()]),type:Os(qt("object"))}),Ue({Result:Kr([Qr()])}),Ue({NestedResult:wA([Kr([Qr()]),Kr([Qr()])])})]),t=>({...t,$kind:Object.keys(t)[0]})),y4=Ue({budget:mn($r),price:mn($r),owner:mn(Sc),payment:mn(It(Xo))}),qv=aa([qt("address"),qt("bool"),qt("u8"),qt("u16"),qt("u32"),qt("u64"),qt("u128"),qt("u256"),Ue({vector:IS(()=>qv)}),Ue({datatype:Ue({package:At(),module:At(),type:At(),typeParameters:It(IS(()=>qv))})}),Ue({typeParameter:Kr([Qr()])})]),v4=Ue({ref:mn(aa([qt("&"),qt("&mut")])),body:qv}),w4=Ue({package:Jr,module:At(),function:At(),typeArguments:It(At()),arguments:It(Ht),_argumentTypes:Os(mn(It(v4)))}),_4=Ue({name:At(),inputs:Wm(At(),aa([Ht,It(Ht)])),data:Wm(At(),Yg())}),E4=bc({MoveCall:w4,TransferObjects:Ue({objects:It(Ht),address:Ht}),SplitCoins:Ue({coin:Ht,amounts:It(Ht)}),MergeCoins:Ue({destination:Ht,sources:It(Ht)}),Publish:Ue({modules:It(il),dependencies:It(Jr)}),MakeMoveVec:Ue({type:mn(At()),elements:It(Ht)}),Upgrade:Ue({modules:It(il),dependencies:It(Jr),package:Jr,ticket:Ht}),$Intent:_4}),h_=bc({ImmOrOwnedObject:Xo,SharedObject:Ue({objectId:Jr,initialSharedVersion:$r,mutable:mn(vA())}),Receiving:Xo}),b4=bc({Object:h_,Pure:Ue({bytes:il}),UnresolvedPure:Ue({value:Yg()}),UnresolvedObject:Ue({objectId:Jr,version:Os(mn($r)),digest:Os(mn(At())),initialSharedVersion:Os(mn($r))})}),xS=bc({Object:h_,Pure:Ue({bytes:il})}),bA=bc({None:qt(!0),Epoch:$r}),Op=Ue({version:qt(2),sender:zm(Sc),expiration:zm(bA),gasData:y4,inputs:It(b4),commands:It(E4)}),ya={MoveCall(t){const[e,n,r]="target"in t?t.target.split("::"):[t.package,t.module,t.function];return{$kind:"MoveCall",MoveCall:{package:Vi(e),module:n,function:r,typeArguments:t.typeArguments??[],arguments:t.arguments??[]}}},TransferObjects(t,e){return{$kind:"TransferObjects",TransferObjects:{objects:t.map(n=>rn(Ht,n)),address:rn(Ht,e)}}},SplitCoins(t,e){return{$kind:"SplitCoins",SplitCoins:{coin:rn(Ht,t),amounts:e.map(n=>rn(Ht,n))}}},MergeCoins(t,e){return{$kind:"MergeCoins",MergeCoins:{destination:rn(Ht,t),sources:e.map(n=>rn(Ht,n))}}},Publish({modules:t,dependencies:e}){return{$kind:"Publish",Publish:{modules:t.map(n=>typeof n=="string"?n:Ft(new Uint8Array(n))),dependencies:e.map(n=>Vi(n))}}},Upgrade({modules:t,dependencies:e,package:n,ticket:r}){return{$kind:"Upgrade",Upgrade:{modules:t.map(i=>typeof i=="string"?i:Ft(new Uint8Array(i))),dependencies:e.map(i=>Vi(i)),package:n,ticket:rn(Ht,r)}}},MakeMoveVec({type:t,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:t??null,elements:e.map(n=>rn(Ht,n))}}},Intent({name:t,inputs:e={},data:n={}}){return{$kind:"$Intent",$Intent:{name:t,inputs:Object.fromEntries(Object.entries(e).map(([r,i])=>[r,Array.isArray(i)?i.map(s=>rn(Ht,s)):rn(Ht,i)])),data:n}}}},CS=bc({Object:h_,Pure:It(Kr([Qr()]))});function AS(t){var n;const e=t.inputs.map((r,i)=>{if(r.Object)return{kind:"Input",index:i,value:{Object:r.Object.ImmOrOwnedObject?{ImmOrOwnedObject:r.Object.ImmOrOwnedObject}:r.Object.Receiving?{Receiving:{digest:r.Object.Receiving.digest,version:r.Object.Receiving.version,objectId:r.Object.Receiving.objectId}}:{SharedObject:{mutable:r.Object.SharedObject.mutable,initialSharedVersion:r.Object.SharedObject.initialSharedVersion,objectId:r.Object.SharedObject.objectId}}},type:"object"};if(r.Pure)return{kind:"Input",index:i,value:{Pure:Array.from(ar(r.Pure.bytes))},type:"pure"};if(r.UnresolvedPure)return{kind:"Input",type:"pure",index:i,value:r.UnresolvedPure.value};if(r.UnresolvedObject)return{kind:"Input",type:"object",index:i,value:r.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:t.sender??void 0,expiration:((n=t.expiration)==null?void 0:n.$kind)==="Epoch"?{Epoch:Number(t.expiration.Epoch)}:t.expiration?{None:!0}:null,gasConfig:{owner:t.gasData.owner??void 0,budget:t.gasData.budget??void 0,price:t.gasData.price??void 0,payment:t.gasData.payment??void 0},inputs:e,transactions:t.commands.map(r=>{if(r.MakeMoveVec)return{kind:"MakeMoveVec",type:r.MakeMoveVec.type===null?{None:!0}:{Some:Li.parseFromStr(r.MakeMoveVec.type)},objects:r.MakeMoveVec.elements.map(i=>ds(i,e))};if(r.MergeCoins)return{kind:"MergeCoins",destination:ds(r.MergeCoins.destination,e),sources:r.MergeCoins.sources.map(i=>ds(i,e))};if(r.MoveCall)return{kind:"MoveCall",target:`${r.MoveCall.package}::${r.MoveCall.module}::${r.MoveCall.function}`,typeArguments:r.MoveCall.typeArguments,arguments:r.MoveCall.arguments.map(i=>ds(i,e))};if(r.Publish)return{kind:"Publish",modules:r.Publish.modules.map(i=>Array.from(ar(i))),dependencies:r.Publish.dependencies};if(r.SplitCoins)return{kind:"SplitCoins",coin:ds(r.SplitCoins.coin,e),amounts:r.SplitCoins.amounts.map(i=>ds(i,e))};if(r.TransferObjects)return{kind:"TransferObjects",objects:r.TransferObjects.objects.map(i=>ds(i,e)),address:ds(r.TransferObjects.address,e)};if(r.Upgrade)return{kind:"Upgrade",modules:r.Upgrade.modules.map(i=>Array.from(ar(i))),dependencies:r.Upgrade.dependencies,packageId:r.Upgrade.package,ticket:ds(r.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(r)}`)})}}function ds(t,e){if(t.$kind==="GasCoin")return{kind:"GasCoin"};if(t.$kind==="Result")return{kind:"Result",index:t.Result};if(t.$kind==="NestedResult")return{kind:"NestedResult",index:t.NestedResult[0],resultIndex:t.NestedResult[1]};if(t.$kind==="Input")return e[t.Input];throw new Error(`Invalid argument ${Object.keys(t)}`)}function S4(t){var e,n,r;return rn(Op,{version:2,sender:t.sender??null,expiration:t.expiration?"Epoch"in t.expiration?{Epoch:t.expiration.Epoch}:{None:!0}:null,gasData:{owner:t.gasConfig.owner??null,budget:((e=t.gasConfig.budget)==null?void 0:e.toString())??null,price:((n=t.gasConfig.price)==null?void 0:n.toString())??null,payment:((r=t.gasConfig.payment)==null?void 0:r.map(i=>({digest:i.digest,objectId:i.objectId,version:i.version.toString()})))??null},inputs:t.inputs.map(i=>{if(i.kind==="Input"){if(Hv(CS,i.value)){const s=rn(CS,i.value);return s.Object?{Object:s.Object}:{Pure:{bytes:Ft(new Uint8Array(s.Pure))}}}return i.type==="object"?{UnresolvedObject:{objectId:i.value}}:{UnresolvedPure:{value:i.value}}}throw new Error("Invalid input")}),commands:t.transactions.map(i=>{switch(i.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in i.type?Li.tagToString(i.type.Some):null,elements:i.objects.map(s=>hs(s))}};case"MergeCoins":return{MergeCoins:{destination:hs(i.destination),sources:i.sources.map(s=>hs(s))}};case"MoveCall":{const[s,o,a]=i.target.split("::");return{MoveCall:{package:s,module:o,function:a,typeArguments:i.typeArguments,arguments:i.arguments.map(l=>hs(l))}}}case"Publish":return{Publish:{modules:i.modules.map(s=>Ft(Uint8Array.from(s))),dependencies:i.dependencies}};case"SplitCoins":return{SplitCoins:{coin:hs(i.coin),amounts:i.amounts.map(s=>hs(s))}};case"TransferObjects":return{TransferObjects:{objects:i.objects.map(s=>hs(s)),address:hs(i.address)}};case"Upgrade":return{Upgrade:{modules:i.modules.map(s=>Ft(Uint8Array.from(s))),dependencies:i.dependencies,package:i.packageId,ticket:hs(i.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(i)}`)})})}function hs(t){switch(t.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:t.index};case"NestedResult":return{NestedResult:[t.index,t.resultIndex]};case"Input":return{Input:t.index}}}function Qd(t){return aa(Object.entries(t).map(([e,n])=>Ue({[e]:n})))}const ui=Qd({GasCoin:qt(!0),Input:Kr([Qr()]),Result:Kr([Qr()]),NestedResult:wA([Kr([Qr()]),Kr([Qr()])])}),T4=Ue({budget:mn($r),price:mn($r),owner:mn(Sc),payment:mn(It(Xo))}),I4=Ue({package:Jr,module:At(),function:At(),typeArguments:It(At()),arguments:It(ui)}),x4=Ue({name:At(),inputs:Wm(At(),aa([ui,It(ui)])),data:Wm(At(),Yg())}),C4=Qd({MoveCall:I4,TransferObjects:Ue({objects:It(ui),address:ui}),SplitCoins:Ue({coin:ui,amounts:It(ui)}),MergeCoins:Ue({destination:ui,sources:It(ui)}),Publish:Ue({modules:It(il),dependencies:It(Jr)}),MakeMoveVec:Ue({type:mn(At()),elements:It(ui)}),Upgrade:Ue({modules:It(il),dependencies:It(Jr),package:Jr,ticket:ui}),$Intent:x4}),A4=Qd({ImmOrOwnedObject:Xo,SharedObject:Ue({objectId:Jr,initialSharedVersion:$r,mutable:mn(vA())}),Receiving:Xo}),k4=Qd({Object:A4,Pure:Ue({bytes:il}),UnresolvedPure:Ue({value:Yg()}),UnresolvedObject:Ue({objectId:Jr,version:Os(mn($r)),digest:Os(mn(At())),initialSharedVersion:Os(mn($r))})}),R4=Qd({None:qt(!0),Epoch:$r}),P4=Ue({version:qt(2),sender:zm(Sc),expiration:zm(R4),gasData:T4,inputs:It(k4),commands:It(C4)}),O4=50,N4=1000n,D4=5e10;async function M4(t,e,n){return await U4(t,e),await F4(t,e),e.onlyTransactionKind||(await L4(t,e),await $4(t,e),await V4(t,e)),await j4(t),await n()}async function L4(t,e){t.gasConfig.price||(t.gasConfig.price=String(await Yd(e).getReferenceGasPrice()))}async function $4(t,e){if(t.gasConfig.budget)return;const n=await Yd(e).dryRunTransactionBlock({transactionBlock:t.build({overrides:{gasData:{budget:String(D4),payment:[]}}})});if(n.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${n.effects.status.error}`,{cause:n});const r=N4*BigInt(t.gasConfig.price||1n),i=BigInt(n.effects.gasUsed.computationCost)+r,s=i+BigInt(n.effects.gasUsed.storageCost)-BigInt(n.effects.gasUsed.storageRebate);t.gasConfig.budget=String(s>i?s:i)}async function V4(t,e){if(!t.gasConfig.payment){const r=(await Yd(e).getCoins({owner:t.gasConfig.owner||t.sender,coinType:JD})).data.filter(i=>!t.inputs.find(o=>{var a;return(a=o.Object)!=null&&a.ImmOrOwnedObject?i.coinObjectId===o.Object.ImmOrOwnedObject.objectId:!1})).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");t.gasConfig.payment=r.map(i=>rn(Xo,i))}}async function F4(t,e){const n=t.inputs.filter(f=>{var d;return f.UnresolvedObject&&!f.UnresolvedObject.version||((d=f.UnresolvedObject)==null?void 0:d.initialSharedVersion)}),r=[...new Set(n.map(f=>Vi(f.UnresolvedObject.objectId)))],i=r.length?H4(r,O4):[],s=(await Promise.all(i.map(f=>Yd(e).multiGetObjects({ids:f,options:{showOwner:!0}})))).flat(),o=new Map(r.map((f,d)=>[f,s[d]])),a=Array.from(o).filter(([f,d])=>d.error).map(([f,d])=>f);if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);const l=s.map(f=>{if(f.error||!f.data)throw new Error(`Failed to fetch object: ${f.error}`);const d=f.data.owner,h=d&&typeof d=="object"&&"Shared"in d?d.Shared.initial_shared_version:null;return{objectId:f.data.objectId,digest:f.data.digest,version:f.data.version,initialSharedVersion:h}}),c=new Map(r.map((f,d)=>[f,l[d]]));for(const[f,d]of t.inputs.entries()){if(!d.UnresolvedObject)continue;let h;const g=Rt(d.UnresolvedObject.objectId),y=c.get(g);y!=null&&y.initialSharedVersion?h=Cs.SharedObjectRef({objectId:g,initialSharedVersion:y.initialSharedVersion,mutable:B4(t,f)}):z4(t,f)&&(h=Cs.ReceivingRef({objectId:g,digest:d.UnresolvedObject.digest??(y==null?void 0:y.digest),version:d.UnresolvedObject.version??(y==null?void 0:y.version)})),t.inputs[t.inputs.indexOf(d)]=h??Cs.ObjectRef({objectId:g,digest:d.UnresolvedObject.digest??(y==null?void 0:y.digest),version:d.UnresolvedObject.version??(y==null?void 0:y.version)})}}async function U4(t,e){const{inputs:n,commands:r}=t,i=[],s=new Set;r.forEach(a=>{if(a.MoveCall){if(a.MoveCall._argumentTypes)return;if(a.MoveCall.arguments.map(f=>f.$kind==="Input"?t.inputs[f.Input]:null).some(f=>(f==null?void 0:f.UnresolvedPure)||(f==null?void 0:f.UnresolvedObject))){const f=`${a.MoveCall.package}::${a.MoveCall.module}::${a.MoveCall.function}`;s.add(f),i.push(a.MoveCall)}}switch(a.$kind){case"SplitCoins":a.SplitCoins.amounts.forEach(l=>{kS(l,wt.U64,t)});break;case"TransferObjects":kS(a.TransferObjects.address,wt.Address,t);break}});const o=new Map;if(s.size>0){const a=Yd(e);await Promise.all([...s].map(async l=>{const[c,f,d]=l.split("::"),h=await a.getNormalizedMoveFunction({package:c,module:f,function:d});o.set(l,h.parameters.map(g=>l4(g)))}))}i.length&&await Promise.all(i.map(async a=>{const l=o.get(`${a.package}::${a.module}::${a.function}`);if(!l)return;const f=l.length>0&&a4(l.at(-1))?l.slice(0,l.length-1):l;a._argumentTypes=f})),r.forEach(a=>{if(!a.MoveCall)return;const l=a.MoveCall,c=`${l.package}::${l.module}::${l.function}`,f=l._argumentTypes;if(f){if(f.length!==a.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${c}`);f.forEach((d,h)=>{var w,T;const g=l.arguments[h];if(g.$kind!=="Input")return;const y=n[g.Input];if(!y.UnresolvedPure&&!y.UnresolvedObject)return;const v=((w=y.UnresolvedPure)==null?void 0:w.value)??((T=y.UnresolvedObject)==null?void 0:T.objectId),S=Wv(d.body);if(S){g.type="pure",n[n.indexOf(y)]=Cs.Pure(S.serialize(v));return}if(typeof v!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(v,null,2)}`);g.type="object";const b=y.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:v}}:y;n[g.Input]=b})}})}function j4(t){t.inputs.forEach((e,n)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${n} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function kS(t,e,n){if(t.$kind!=="Input")return;const r=n.inputs[t.Input];r.$kind==="UnresolvedPure"&&(n.inputs[t.Input]=Cs.Pure(e.serialize(r.UnresolvedPure.value)))}function B4(t,e){let n=!1;return t.getInputUses(e,(r,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){const s=i.MoveCall.arguments.indexOf(r);n=i.MoveCall._argumentTypes[s].ref!=="&"||n}}),n}function z4(t,e){let n=!1;return t.getInputUses(e,(r,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){const s=i.MoveCall.arguments.indexOf(r);n=W4(i.MoveCall._argumentTypes[s])||n}}),n}function W4(t){return typeof t.body!="object"||!("datatype"in t.body)?!1:t.body.datatype.package==="0x2"&&t.body.datatype.module==="transfer"&&t.body.datatype.type==="Receiving"}function Yd(t){if(!t.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return t.client}function H4(t,e){return Array.from({length:Math.ceil(t.length/e)},(n,r)=>t.slice(r*e,r*e+e))}function q4(t){function e(n){return t(n)}return e.u8=n=>t(wt.U8.serialize(n)),e.u16=n=>t(wt.U16.serialize(n)),e.u32=n=>t(wt.U32.serialize(n)),e.u64=n=>t(wt.U64.serialize(n)),e.u128=n=>t(wt.U128.serialize(n)),e.u256=n=>t(wt.U256.serialize(n)),e.bool=n=>t(wt.Bool.serialize(n)),e.string=n=>t(wt.String.serialize(n)),e.address=n=>t(wt.Address.serialize(n)),e.id=e.address,e}function zo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function G4(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Xg(t,...e){if(!G4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function SA(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zo(t.outputLen),zo(t.blockLen)}function ic(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function TA(t,e){Xg(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hm=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Np=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),xa=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,IA=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,ms=xa?t=>t:t=>IA(t);function Dl(t){for(let e=0;e<t.length;e++)t[e]=IA(t[e])}const K4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Q4(t){Xg(t);let e="";for(let n=0;n<t.length;n++)e+=K4[t[n]];return e}const ps={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function RS(t){if(t>=ps._0&&t<=ps._9)return t-ps._0;if(t>=ps._A&&t<=ps._F)return t-(ps._A-10);if(t>=ps._a&&t<=ps._f)return t-(ps._a-10)}function Y4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=RS(t.charCodeAt(s)),a=RS(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function X4(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Bi(t){return typeof t=="string"&&(t=X4(t)),Xg(t),t}class p_{clone(){return this._cloneInto()}}const J4={}.toString;function Z4(t,e){if(e!==void 0&&J4.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function eM(t){const e=r=>t().update(Bi(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function tM(t){const e=(r,i)=>t(i).update(Bi(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const nM=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class rM extends p_{constructor(e,n,r={},i,s,o){if(super(),this.blockLen=e,this.outputLen=n,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,zo(e),zo(n),zo(i),n<0||n>i)throw new Error("outputLen bigger than keyLen");if(r.key!==void 0&&(r.key.length<1||r.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(r.salt!==void 0&&r.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(r.personalization!==void 0&&r.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=Hm(this.buffer=new Uint8Array(e))}update(e){ic(this);const{blockLen:n,buffer:r,buffer32:i}=this;e=Bi(e);const s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===n&&(xa||Dl(i),this.compress(i,0,!1),xa||Dl(i),this.pos=0);const c=Math.min(n-this.pos,s-l),f=o+l;if(c===n&&!(f%4)&&l+c<s){const d=new Uint32Array(a,f,Math.floor((s-l)/4));xa||Dl(d);for(let h=0;l+n<s;h+=i.length,l+=n)this.length+=n,this.compress(d,h,!1);xa||Dl(d);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){ic(this),TA(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,this.buffer.subarray(n).fill(0),xa||Dl(r),this.compress(r,0,!0),xa||Dl(r);const i=Hm(e);this.get().forEach((s,o)=>i[o]=ms(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=r,e.finished=i,e.destroyed=s,e.outputLen=o,e.buffer.set(n),e.pos=a,e}}const Hh=BigInt(2**32-1),Gv=BigInt(32);function xA(t,e=!1){return e?{h:Number(t&Hh),l:Number(t>>Gv&Hh)}:{h:Number(t>>Gv&Hh)|0,l:Number(t&Hh)|0}}function iM(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=xA(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const sM=(t,e)=>BigInt(t>>>0)<<Gv|BigInt(e>>>0),oM=(t,e,n)=>t>>>n,aM=(t,e,n)=>t<<32-n|e>>>n,lM=(t,e,n)=>t>>>n|e<<32-n,uM=(t,e,n)=>t<<32-n|e>>>n,cM=(t,e,n)=>t<<64-n|e>>>n-32,fM=(t,e,n)=>t>>>n-32|e<<64-n,dM=(t,e)=>e,hM=(t,e)=>t,pM=(t,e,n)=>t<<n|e>>>32-n,mM=(t,e,n)=>e<<n|t>>>32-n,gM=(t,e,n)=>e<<n-32|t>>>64-n,yM=(t,e,n)=>t<<n-32|e>>>64-n;function vM(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const wM=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),_M=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,EM=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),bM=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,SM=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),TM=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,IM={fromBig:xA,split:iM,toBig:sM,shrSH:oM,shrSL:aM,rotrSH:lM,rotrSL:uM,rotrBH:cM,rotrBL:fM,rotr32H:dM,rotr32L:hM,rotlSH:pM,rotlSL:mM,rotlBH:gM,rotlBL:yM,add:vM,add3L:wM,add3H:_M,add4L:EM,add4H:bM,add5H:TM,add5L:SM},ke=IM,yn=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),fe=new Uint32Array(32);function no(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=fe[2*t],c=fe[2*t+1],f=fe[2*e],d=fe[2*e+1],h=fe[2*n],g=fe[2*n+1],y=fe[2*r],v=fe[2*r+1],S=ke.add3L(l,f,o);c=ke.add3H(S,c,d,a),l=S|0,{Dh:v,Dl:y}={Dh:v^c,Dl:y^l},{Dh:v,Dl:y}={Dh:ke.rotr32H(v,y),Dl:ke.rotr32L(v,y)},{h:g,l:h}=ke.add(g,h,v,y),{Bh:d,Bl:f}={Bh:d^g,Bl:f^h},{Bh:d,Bl:f}={Bh:ke.rotrSH(d,f,24),Bl:ke.rotrSL(d,f,24)},fe[2*t]=l,fe[2*t+1]=c,fe[2*e]=f,fe[2*e+1]=d,fe[2*n]=h,fe[2*n+1]=g,fe[2*r]=y,fe[2*r+1]=v}function ro(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=fe[2*t],c=fe[2*t+1],f=fe[2*e],d=fe[2*e+1],h=fe[2*n],g=fe[2*n+1],y=fe[2*r],v=fe[2*r+1],S=ke.add3L(l,f,o);c=ke.add3H(S,c,d,a),l=S|0,{Dh:v,Dl:y}={Dh:v^c,Dl:y^l},{Dh:v,Dl:y}={Dh:ke.rotrSH(v,y,16),Dl:ke.rotrSL(v,y,16)},{h:g,l:h}=ke.add(g,h,v,y),{Bh:d,Bl:f}={Bh:d^g,Bl:f^h},{Bh:d,Bl:f}={Bh:ke.rotrBH(d,f,63),Bl:ke.rotrBL(d,f,63)},fe[2*t]=l,fe[2*t+1]=c,fe[2*e]=f,fe[2*e+1]=d,fe[2*n]=h,fe[2*n+1]=g,fe[2*r]=y,fe[2*r+1]=v}class xM extends rM{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=yn[0]|0,this.v0h=yn[1]|0,this.v1l=yn[2]|0,this.v1h=yn[3]|0,this.v2l=yn[4]|0,this.v2h=yn[5]|0,this.v3l=yn[6]|0,this.v3h=yn[7]|0,this.v4l=yn[8]|0,this.v4h=yn[9]|0,this.v5l=yn[10]|0,this.v5h=yn[11]|0,this.v6l=yn[12]|0,this.v6h=yn[13]|0,this.v7l=yn[14]|0,this.v7h=yn[15]|0;const n=e.key?e.key.length:0;if(this.v0l^=this.outputLen|n<<8|65536|1<<24,e.salt){const r=Hm(Bi(e.salt));this.v4l^=ms(r[0]),this.v4h^=ms(r[1]),this.v5l^=ms(r[2]),this.v5h^=ms(r[3])}if(e.personalization){const r=Hm(Bi(e.personalization));this.v6l^=ms(r[0]),this.v6h^=ms(r[1]),this.v7l^=ms(r[2]),this.v7h^=ms(r[3])}if(e.key){const r=new Uint8Array(this.blockLen);r.set(Bi(e.key)),this.update(r)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:f,v5l:d,v5h:h,v6l:g,v6h:y,v7l:v,v7h:S}=this;return[e,n,r,i,s,o,a,l,c,f,d,h,g,y,v,S]}set(e,n,r,i,s,o,a,l,c,f,d,h,g,y,v,S){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=f|0,this.v5l=d|0,this.v5h=h|0,this.v6l=g|0,this.v6h=y|0,this.v7l=v|0,this.v7h=S|0}compress(e,n,r){this.get().forEach((l,c)=>fe[c]=l),fe.set(yn,16);let{h:i,l:s}=ke.fromBig(BigInt(this.length));fe[24]=yn[8]^s,fe[25]=yn[9]^i,r&&(fe[28]=~fe[28],fe[29]=~fe[29]);let o=0;const a=nM;for(let l=0;l<12;l++)no(0,4,8,12,e,n+2*a[o++]),ro(0,4,8,12,e,n+2*a[o++]),no(1,5,9,13,e,n+2*a[o++]),ro(1,5,9,13,e,n+2*a[o++]),no(2,6,10,14,e,n+2*a[o++]),ro(2,6,10,14,e,n+2*a[o++]),no(3,7,11,15,e,n+2*a[o++]),ro(3,7,11,15,e,n+2*a[o++]),no(0,5,10,15,e,n+2*a[o++]),ro(0,5,10,15,e,n+2*a[o++]),no(1,6,11,12,e,n+2*a[o++]),ro(1,6,11,12,e,n+2*a[o++]),no(2,7,8,13,e,n+2*a[o++]),ro(2,7,8,13,e,n+2*a[o++]),no(3,4,9,14,e,n+2*a[o++]),ro(3,4,9,14,e,n+2*a[o++]);this.v0l^=fe[0]^fe[16],this.v0h^=fe[1]^fe[17],this.v1l^=fe[2]^fe[18],this.v1h^=fe[3]^fe[19],this.v2l^=fe[4]^fe[20],this.v2h^=fe[5]^fe[21],this.v3l^=fe[6]^fe[22],this.v3h^=fe[7]^fe[23],this.v4l^=fe[8]^fe[24],this.v4h^=fe[9]^fe[25],this.v5l^=fe[10]^fe[26],this.v5h^=fe[11]^fe[27],this.v6l^=fe[12]^fe[28],this.v6h^=fe[13]^fe[29],this.v7l^=fe[14]^fe[30],this.v7h^=fe[15]^fe[31],fe.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qm=tM(t=>new xM(t));function CM(t,e){const n=Array.from(`${t}::`).map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);return r.set(n),r.set(e,n.length),qm(r,{dkLen:32})}function PS(t){return Rt(t).replace("0x","")}class mi{constructor(e){this.version=2,this.sender=(e==null?void 0:e.sender)??null,this.expiration=(e==null?void 0:e.expiration)??null,this.inputs=(e==null?void 0:e.inputs)??[],this.commands=(e==null?void 0:e.commands)??[],this.gasData=(e==null?void 0:e.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const r=wt.TransactionKind.parse(e).ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");return mi.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:r.inputs,commands:r.commands})}static fromBytes(e){const n=wt.TransactionData.parse(e),r=n==null?void 0:n.V1,i=r.kind.ProgrammableTransaction;if(!r||!i)throw new Error("Unable to deserialize from bytes.");return mi.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:i.inputs,commands:i.commands})}static restore(e){return e.version===2?new mi(rn(Op,e)):new mi(rn(Op,S4(e)))}static getDigestFromBytes(e){const n=CM("TransactionData",e);return Kg(n)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:n,onlyTransactionKind:r}={}){const i=this.inputs,s=this.commands,o={ProgrammableTransaction:{inputs:i,commands:s}};if(r)return wt.TransactionKind.serialize(o,{maxSize:e}).toBytes();const a=(n==null?void 0:n.expiration)??this.expiration,l=(n==null?void 0:n.sender)??this.sender,c={...this.gasData,...n==null?void 0:n.gasConfig,...n==null?void 0:n.gasData};if(!l)throw new Error("Missing transaction sender");if(!c.budget)throw new Error("Missing gas budget");if(!c.payment)throw new Error("Missing gas payment");if(!c.price)throw new Error("Missing gas price");const f={sender:PS(l),expiration:a||{None:!0},gasData:{payment:c.payment,owner:PS(this.gasData.owner??l),price:BigInt(c.price),budget:BigInt(c.budget)},kind:{ProgrammableTransaction:{inputs:i,commands:s}}};return wt.TransactionData.serialize({V1:f},{maxSize:e}).toBytes()}addInput(e,n){const r=this.inputs.length;return this.inputs.push(n),{Input:r,type:e,$kind:"Input"}}getInputUses(e,n){this.mapArguments((r,i)=>(r.$kind==="Input"&&r.Input===e&&n(r,i),r))}mapArguments(e){for(const n of this.commands)switch(n.$kind){case"MoveCall":n.MoveCall.arguments=n.MoveCall.arguments.map(i=>e(i,n));break;case"TransferObjects":n.TransferObjects.objects=n.TransferObjects.objects.map(i=>e(i,n)),n.TransferObjects.address=e(n.TransferObjects.address,n);break;case"SplitCoins":n.SplitCoins.coin=e(n.SplitCoins.coin,n),n.SplitCoins.amounts=n.SplitCoins.amounts.map(i=>e(i,n));break;case"MergeCoins":n.MergeCoins.destination=e(n.MergeCoins.destination,n),n.MergeCoins.sources=n.MergeCoins.sources.map(i=>e(i,n));break;case"MakeMoveVec":n.MakeMoveVec.elements=n.MakeMoveVec.elements.map(i=>e(i,n));break;case"Upgrade":n.Upgrade.ticket=e(n.Upgrade.ticket,n);break;case"$Intent":const r=n.$Intent.inputs;n.$Intent.inputs={};for(const[i,s]of Object.entries(r))n.$Intent.inputs[i]=Array.isArray(s)?s.map(o=>e(o,n)):e(s,n);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${n.$kind}`)}}replaceCommand(e,n){if(!Array.isArray(n)){this.commands[e]=n;return}const r=n.length-1;this.commands.splice(e,1,...n),r!==0&&this.mapArguments(i=>{switch(i.$kind){case"Result":i.Result>e&&(i.Result+=r);break;case"NestedResult":i.NestedResult[0]>e&&(i.NestedResult[0]+=r);break}return i})}getDigest(){const e=this.build({onlyTransactionKind:!1});return mi.getDigestFromBytes(e)}snapshot(){return rn(Op,this)}}function OS(t){if(typeof t=="string")return Rt(t);if(t.Object)return t.Object.ImmOrOwnedObject?Rt(t.Object.ImmOrOwnedObject.objectId):t.Object.Receiving?Rt(t.Object.Receiving.objectId):Rt(t.Object.SharedObject.objectId);if(t.UnresolvedObject)return Rt(t.UnresolvedObject.objectId)}var m_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},St=(t,e,n)=>(m_(t,e,"read from private field"),n?n.call(t):e.get(t)),io=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ef=(t,e,n,r)=>(m_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ws=(t,e,n)=>(m_(t,e,"access private method"),n),Dp,Gm,Ca,Ct,gf,Mp,Km,g_,Lp,Kv,Qm,y_;function AM(t){const e={$kind:"Result",Result:t},n=[],r=i=>n[i]??(n[i]={$kind:"NestedResult",NestedResult:[t,i]});return new Proxy(e,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,s){if(s in i)return Reflect.get(i,s);if(s===Symbol.iterator)return function*(){let a=0;for(;;)yield r(a),a++};if(typeof s=="symbol")return;const o=parseInt(s,10);if(!(Number.isNaN(o)||o<0))return r(o)}})}const CA=Symbol.for("@mysten/transaction");function AA(t){return!!t&&typeof t=="object"&&t[CA]===!0}const Qv=class{constructor(){io(this,gf),io(this,Km),io(this,Lp),io(this,Qm),io(this,Dp,[]),io(this,Gm,[]),io(this,Ca,new Map),io(this,Ct,void 0),ef(this,Ct,new mi)}static fromKind(t){const e=new Qv;return ef(e,Ct,mi.fromKindBytes(typeof t=="string"?ar(t):t)),e}static from(t){const e=new Qv;return AA(t)?ef(e,Ct,new mi(t.getData())):typeof t!="string"||!t.startsWith("{")?ef(e,Ct,mi.fromBytes(typeof t=="string"?ar(t):t)):ef(e,Ct,mi.restore(JSON.parse(t))),e}addSerializationPlugin(t){St(this,Dp).push(t)}addBuildPlugin(t){St(this,Gm).push(t)}addIntentResolver(t,e){if(St(this,Ca).has(t)&&St(this,Ca).get(t)!==e)throw new Error(`Intent resolver for ${t} already exists`);St(this,Ca).set(t,e)}setSender(t){St(this,Ct).sender=t}setSenderIfNotSet(t){St(this,Ct).sender||(St(this,Ct).sender=t)}setExpiration(t){St(this,Ct).expiration=t?rn(bA,t):null}setGasPrice(t){St(this,Ct).gasConfig.price=String(t)}setGasBudget(t){St(this,Ct).gasConfig.budget=String(t)}setGasOwner(t){St(this,Ct).gasConfig.owner=t}setGasPayment(t){St(this,Ct).gasConfig.payment=t.map(e=>rn(Xo,e))}get blockData(){return AS(St(this,Ct).snapshot())}getData(){return St(this,Ct).snapshot()}get[CA](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:q4(t=>BC(t)?St(this,Ct).addInput("pure",{$kind:"Pure",Pure:{bytes:t.toBase64()}}):St(this,Ct).addInput("pure",Hv(xS,t)?rn(xS,t):t instanceof Uint8Array?Cs.Pure(t):{$kind:"UnresolvedPure",UnresolvedPure:{value:t}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}object(t){var r,i;if(typeof t=="function")return this.object(t(this));if(typeof t=="object"&&Hv(Ht,t))return t;const e=OS(t),n=St(this,Ct).inputs.find(s=>e===OS(s));return(r=n==null?void 0:n.Object)!=null&&r.SharedObject&&typeof t=="object"&&((i=t.Object)!=null&&i.SharedObject)&&(n.Object.SharedObject.mutable=n.Object.SharedObject.mutable||t.Object.SharedObject.mutable),n?{$kind:"Input",Input:St(this,Ct).inputs.indexOf(n),type:"object"}:St(this,Ct).addInput("object",typeof t=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Rt(t)}}:t)}objectRef(...t){return this.object(Cs.ObjectRef(...t))}receivingRef(...t){return this.object(Cs.ReceivingRef(...t))}sharedObjectRef(...t){return this.object(Cs.SharedObjectRef(...t))}add(t){if(typeof t=="function")return t(this);const e=St(this,Ct).commands.push(t);return AM(e-1)}splitCoins(t,e){return this.add(ya.SplitCoins(typeof t=="string"?this.object(t):ws(this,Km,g_).call(this,t),e.map(n=>typeof n=="number"||typeof n=="bigint"||typeof n=="string"?this.pure.u64(n):ws(this,gf,Mp).call(this,n))))}mergeCoins(t,e){return this.add(ya.MergeCoins(this.object(t),e.map(n=>this.object(n))))}publish({modules:t,dependencies:e}){return this.add(ya.Publish({modules:t,dependencies:e}))}upgrade({modules:t,dependencies:e,package:n,ticket:r}){return this.add(ya.Upgrade({modules:t,dependencies:e,package:n,ticket:this.object(r)}))}moveCall({arguments:t,...e}){return this.add(ya.MoveCall({...e,arguments:t==null?void 0:t.map(n=>ws(this,gf,Mp).call(this,n))}))}transferObjects(t,e){return this.add(ya.TransferObjects(t.map(n=>this.object(n)),typeof e=="string"?this.pure.address(e):ws(this,gf,Mp).call(this,e)))}makeMoveVec({type:t,elements:e}){return this.add(ya.MakeMoveVec({type:t,elements:e.map(n=>this.object(n))}))}serialize(){return JSON.stringify(AS(St(this,Ct).snapshot()))}async toJSON(t={}){return await this.prepareForSerialization(t),JSON.stringify(rn(P4,St(this,Ct).snapshot()),(e,n)=>typeof n=="bigint"?n.toString():n,2)}async sign(t){const{signer:e,...n}=t,r=await this.build(n);return e.signTransaction(r)}async build(t={}){return await this.prepareForSerialization(t),await ws(this,Lp,Kv).call(this,t),St(this,Ct).build({onlyTransactionKind:t.onlyTransactionKind})}async getDigest(t={}){return await ws(this,Lp,Kv).call(this,t),St(this,Ct).getDigest()}async prepareForSerialization(t){var r;const e=new Set;for(const i of St(this,Ct).commands)i.$Intent&&t.supportedIntents&&e.add(i.$Intent.name);const n=[...St(this,Dp)];for(const i of e)if(!((r=t.supportedIntents)!=null&&r.includes(i))){if(!St(this,Ca).has(i))throw new Error(`Missing intent resolver for ${i}`);n.push(St(this,Ca).get(i))}await ws(this,Qm,y_).call(this,n,t)}};let Yv=Qv;Dp=new WeakMap;Gm=new WeakMap;Ca=new WeakMap;Ct=new WeakMap;gf=new WeakSet;Mp=function(t){return BC(t)?this.pure(t):ws(this,Km,g_).call(this,t)};Km=new WeakSet;g_=function(t){return typeof t=="function"?rn(Ht,t(this)):rn(Ht,t)};Lp=new WeakSet;Kv=async function(t){if(!t.onlyTransactionKind&&!St(this,Ct).sender)throw new Error("Missing transaction sender");await ws(this,Qm,y_).call(this,[...St(this,Gm),M4],t)};Qm=new WeakSet;y_=async function(t,e){const n=r=>{if(r>=t.length)return()=>{};const i=t[r];return async()=>{const s=n(r+1);let o=!1,a=!1;if(await i(St(this,Ct),e,async()=>{if(o)throw new Error(`next() was call multiple times in TransactionPlugin ${r}`);o=!0,await s(),a=!0}),!o)throw new Error(`next() was not called in TransactionPlugin ${r}`);if(!a)throw new Error(`next() was not awaited in TransactionPlugin ${r}`)}};await n(0)()};const kA=Symbol.for("@mysten/SuiClient");function kM(t){return typeof t=="object"&&t!==null&&t[kA]===!0}class RA{get[kA](){return!0}constructor(e){this.transport=e.transport??new uD({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!bs(Rt(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!bs(Rt(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!bs(Rt(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!bs(Rt(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,n){return await this.transport.request({method:e,params:n})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!bs(Rt(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!Wh(Vi(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(r=>{if(!r||!Wh(Vi(r)))throw new Error(`Invalid Sui Object id ${r}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"]})}async getTransactionBlock(e){if(!SS(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(r=>{if(!SS(r))throw new Error(`Invalid Transaction digest ${r}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock(e){return await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:Ft(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType]})}async signAndExecuteTransaction({transaction:e,signer:n,...r}){let i;e instanceof Uint8Array?i=e:(e.setSenderIfNotSet(n.toSuiAddress()),i=await e.build({client:this}));const{signature:s,bytes:o}=await n.signTransaction(i);return this.executeTransactionBlock({transactionBlock:o,signature:s,...r})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!bs(Rt(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach(n=>{if(!n||!Wh(Vi(n)))throw new Error(`Invalid Sui Stake id ${n}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){var r;let n;if(AA(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),n=Ft(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")n=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)n=Ft(e.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,n,(r=e.gasPrice)==null?void 0:r.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:Ft(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!Wh(Vi(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e==null?void 0:e.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e==null?void 0:e.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e==null?void 0:e.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"}),n=cd(e.digest);return rc(n.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames({format:e="dot",...n}){const{nextCursor:r,hasNextPage:i,data:s}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[n.address,n.cursor,n.limit]});return{hasNextPage:i,nextCursor:r,data:s.map(o=>YD(o,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e==null?void 0:e.version]})}async waitForTransaction({signal:e,timeout:n=60*1e3,pollInterval:r=2*1e3,...i}){const s=AbortSignal.timeout(n),o=new Promise((a,l)=>{s.addEventListener("abort",()=>l(s.reason))});for(o.catch(()=>{});!s.aborted;){e==null||e.throwIfAborted();try{return await this.getTransactionBlock(i)}catch{await Promise.race([new Promise(l=>setTimeout(l,r)),o])}}throw s.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ot.apply(null,arguments)}function xt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function RM(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function v_(...t){return e=>t.forEach(n=>RM(n,e))}function ur(...t){return x.useCallback(v_(...t),t)}function gl(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:h,children:g,...y}=d,v=(h==null?void 0:h[t][l])||a,S=x.useMemo(()=>y,Object.values(y));return x.createElement(v.Provider,{value:S},g)}function f(d,h){const g=(h==null?void 0:h[t][l])||a,y=x.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,f]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,PM(i,...e)]}function PM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const sc=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},OM=j3["useId".toString()]||(()=>{});let NM=0;function Iu(t){const[e,n]=x.useState(OM());return sc(()=>{t||n(r=>r??String(NM++))},[t]),t||(e?`radix-${e}`:"")}function Yi(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function w_({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=DM({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Yi(n),l=x.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function DM({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),s=Yi(e);return x.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const Rn=x.forwardRef((t,e)=>{const{children:n,...r}=t,i=x.Children.toArray(n),s=i.find(LM);if(s){const o=s.props.children,a=i.map(l=>l===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return x.createElement(Xv,ot({},r,{ref:e}),x.isValidElement(o)?x.cloneElement(o,void 0,a):null)}return x.createElement(Xv,ot({},r,{ref:e}),n)});Rn.displayName="Slot";const Xv=x.forwardRef((t,e)=>{const{children:n,...r}=t;return x.isValidElement(n)?x.cloneElement(n,{...$M(r,n.props),ref:e?v_(e,n.ref):n.ref}):x.Children.count(n)>1?x.Children.only(null):null});Xv.displayName="SlotClone";const MM=({children:t})=>x.createElement(x.Fragment,null,t);function LM(t){return x.isValidElement(t)&&t.type===MM}function $M(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const VM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],br=VM.reduce((t,e)=>{const n=x.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Rn:e;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(a,ot({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function PA(t,e){t&&Kd.flushSync(()=>t.dispatchEvent(e))}function FM(t,e=globalThis==null?void 0:globalThis.document){const n=Yi(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Jv="dismissableLayer.update",UM="dismissableLayer.pointerDownOutside",jM="dismissableLayer.focusOutside";let NS;const BM=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OA=x.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,f=x.useContext(BM),[d,h]=x.useState(null),g=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=x.useState({}),v=ur(e,I=>h(I)),S=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(b),T=d?S.indexOf(d):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,F=T>=w,j=zM(I=>{const R=I.target,D=[...f.branches].some(V=>V.contains(R));!F||D||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},g),A=WM(I=>{const R=I.target;[...f.branches].some(V=>V.contains(R))||(o==null||o(I),a==null||a(I),I.defaultPrevented||l==null||l())},g);return FM(I=>{T===f.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},g),x.useEffect(()=>{if(d)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(NS=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),DS(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=NS)}},[d,g,r,f]),x.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),DS())},[d,f]),x.useEffect(()=>{const I=()=>y({});return document.addEventListener(Jv,I),()=>document.removeEventListener(Jv,I)},[]),x.createElement(br.div,ot({},c,{ref:v,style:{pointerEvents:N?F?"auto":"none":void 0,...t.style},onFocusCapture:xt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:xt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:xt(t.onPointerDownCapture,j.onPointerDownCapture)}))});function zM(t,e=globalThis==null?void 0:globalThis.document){const n=Yi(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let f=function(){NA(UM,n,c,{discrete:!0})};var l=f;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WM(t,e=globalThis==null?void 0:globalThis.document){const n=Yi(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&NA(jM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DS(){const t=new CustomEvent(Jv);document.dispatchEvent(t)}function NA(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?PA(i,s):i.dispatchEvent(s)}const my="focusScope.autoFocusOnMount",gy="focusScope.autoFocusOnUnmount",MS={bubbles:!1,cancelable:!0},DA=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=x.useState(null),c=Yi(i),f=Yi(s),d=x.useRef(null),h=ur(e,v=>l(v)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let w=function(j){if(g.paused||!a)return;const A=j.target;a.contains(A)?d.current=A:co(d.current,{select:!0})},T=function(j){if(g.paused||!a)return;const A=j.relatedTarget;A!==null&&(a.contains(A)||co(d.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const I of j)I.removedNodes.length>0&&co(a)};var v=w,S=T,b=N;document.addEventListener("focusin",w),document.addEventListener("focusout",T);const F=new MutationObserver(N);return a&&F.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",T),F.disconnect()}}},[r,a,g.paused]),x.useEffect(()=>{if(a){$S.add(g);const v=document.activeElement;if(!a.contains(v)){const b=new CustomEvent(my,MS);a.addEventListener(my,c),a.dispatchEvent(b),b.defaultPrevented||(HM(YM(MA(a)),{select:!0}),document.activeElement===v&&co(a))}return()=>{a.removeEventListener(my,c),setTimeout(()=>{const b=new CustomEvent(gy,MS);a.addEventListener(gy,f),a.dispatchEvent(b),b.defaultPrevented||co(v??document.body,{select:!0}),a.removeEventListener(gy,f),$S.remove(g)},0)}}},[a,c,f,g]);const y=x.useCallback(v=>{if(!n&&!r||g.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(S&&b){const w=v.currentTarget,[T,N]=qM(w);T&&N?!v.shiftKey&&b===N?(v.preventDefault(),n&&co(T,{select:!0})):v.shiftKey&&b===T&&(v.preventDefault(),n&&co(N,{select:!0})):b===w&&v.preventDefault()}},[n,r,g.paused]);return x.createElement(br.div,ot({tabIndex:-1},o,{ref:h,onKeyDown:y}))});function HM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(co(r,{select:e}),document.activeElement!==n)return}function qM(t){const e=MA(t),n=LS(e,t),r=LS(e.reverse(),t);return[n,r]}function MA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function LS(t,e){for(const n of t)if(!GM(n,{upTo:e}))return n}function GM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function KM(t){return t instanceof HTMLInputElement&&"select"in t}function co(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&KM(t)&&e&&t.select()}}const $S=QM();function QM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VS(t,e),t.unshift(e)},remove(e){var n;t=VS(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function VS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function YM(t){return t.filter(e=>e.tagName!=="A")}const LA=x.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?JN.createPortal(x.createElement(br.div,ot({},i,{ref:e})),r):null});function XM(t,e){return x.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Tc=t=>{const{present:e,children:n}=t,r=JM(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=ur(r.ref,i.ref);return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};Tc.displayName="Presence";function JM(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=XM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=qh(r.current);s.current=a==="mounted"?c:"none"},[a]),sc(()=>{const c=r.current,f=i.current;if(f!==t){const h=s.current,g=qh(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),sc(()=>{if(e){const c=d=>{const g=qh(r.current).includes(d.animationName);d.target===e&&g&&Kd.flushSync(()=>l("ANIMATION_END"))},f=d=>{d.target===e&&(s.current=qh(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function qh(t){return(t==null?void 0:t.animationName)||"none"}let yy=0;function $A(){x.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:FS()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:FS()),yy++,()=>{yy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),yy--}},[])}function FS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var $i=function(){return $i=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$i.apply(this,arguments)};function Xd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZM(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var $p="right-scroll-bar-position",Vp="width-before-scroll-bar",e5="with-scroll-bars-hidden",t5="--removed-body-scroll-bar-size";function vy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function n5(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var r5=typeof window<"u"?x.useLayoutEffect:x.useEffect,US=new WeakMap;function i5(t,e){var n=n5(e||null,function(r){return t.forEach(function(i){return vy(i,r)})});return r5(function(){var r=US.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||vy(a,null)}),s.forEach(function(a){i.has(a)||vy(a,o)})}US.set(n,t)},[t]),n}function s5(t){return t}function o5(t,e){e===void 0&&(e=s5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var f=o;o=[],f.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return i}function a5(t){t===void 0&&(t={});var e=o5(null);return e.options=$i({async:!0,ssr:!1},t),e}var VA=function(t){var e=t.sideCar,n=Xd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,$i({},n))};VA.isSideCarExport=!0;function l5(t,e){return t.useMedium(e),VA}var FA=a5(),wy=function(){},Jg=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:wy,onWheelCapture:wy,onTouchMoveCapture:wy}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,d=t.shards,h=t.sideCar,g=t.noIsolation,y=t.inert,v=t.allowPinchZoom,S=t.as,b=S===void 0?"div":S,w=Xd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),T=h,N=i5([n,e]),F=$i($i({},w),i);return x.createElement(x.Fragment,null,f&&x.createElement(T,{sideCar:FA,removeScrollBar:c,shards:d,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!v,lockRef:n}),o?x.cloneElement(x.Children.only(a),$i($i({},F),{ref:N})):x.createElement(b,$i({},F,{className:l,ref:N}),a))});Jg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jg.classNames={fullWidth:Vp,zeroRight:$p};var jS,u5=function(){if(jS)return jS;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=u5();return e&&t.setAttribute("nonce",e),t}function f5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function d5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var h5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=c5())&&(f5(e,n),d5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},p5=function(){var t=h5();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},UA=function(){var t=p5(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},m5={left:0,top:0,right:0,gap:0},_y=function(t){return parseInt(t||"",10)||0},g5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[_y(n),_y(r),_y(i)]},y5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return m5;var e=g5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},v5=UA(),xu="data-scroll-locked",w5=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(e5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($p,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($p," .").concat($p,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vp," .").concat(Vp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xu,`] {
    `).concat(t5,": ").concat(a,`px;
  }
`)},BS=function(){var t=parseInt(document.body.getAttribute(xu)||"0",10);return isFinite(t)?t:0},_5=function(){x.useEffect(function(){return document.body.setAttribute(xu,(BS()+1).toString()),function(){var t=BS()-1;t<=0?document.body.removeAttribute(xu):document.body.setAttribute(xu,t.toString())}},[])},E5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;_5();var s=x.useMemo(function(){return y5(i)},[i]);return x.createElement(v5,{styles:w5(s,!e,i,n?"":"!important")})},Zv=!1;if(typeof window<"u")try{var Gh=Object.defineProperty({},"passive",{get:function(){return Zv=!0,!0}});window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{Zv=!1}var Ml=Zv?{passive:!1}:!1,b5=function(t){return t.tagName==="TEXTAREA"},jA=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!b5(t)&&n[e]==="visible")},S5=function(t){return jA(t,"overflowY")},T5=function(t){return jA(t,"overflowX")},zS=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=BA(t,n);if(r){var i=zA(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},I5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},x5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BA=function(t,e){return t==="v"?S5(e):T5(e)},zA=function(t,e){return t==="v"?I5(e):x5(e)},C5=function(t,e){return t==="h"&&e==="rtl"?-1:1},A5=function(t,e,n,r,i){var s=C5(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,f=o>0,d=0,h=0;do{var g=zA(t,a),y=g[0],v=g[1],S=g[2],b=v-S-s*y;(y||b)&&BA(t,a)&&(d+=b,h+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(i&&d===0||!i&&o>d)||!f&&(i&&h===0||!i&&-o>h))&&(c=!0),c},Kh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WS=function(t){return[t.deltaX,t.deltaY]},HS=function(t){return t&&"current"in t?t.current:t},k5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},R5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},P5=0,Ll=[];function O5(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(P5++)[0],s=x.useState(function(){return UA()})[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ZM([t.lockRef.current],(t.shards||[]).map(HS),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(v,S){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var b=Kh(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-b[0],N="deltaY"in v?v.deltaY:w[1]-b[1],F,j=v.target,A=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in v&&A==="h"&&j.type==="range")return!1;var I=zS(A,j);if(!I)return!0;if(I?F=A:(F=A==="v"?"h":"v",I=zS(A,j)),!I)return!1;if(!r.current&&"changedTouches"in v&&(T||N)&&(r.current=F),!F)return!0;var R=r.current||F;return A5(R,S,v,R==="h"?T:N,!0)},[]),l=x.useCallback(function(v){var S=v;if(!(!Ll.length||Ll[Ll.length-1]!==s)){var b="deltaY"in S?WS(S):Kh(S),w=e.current.filter(function(F){return F.name===S.type&&F.target===S.target&&k5(F.delta,b)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(HS).filter(Boolean).filter(function(F){return F.contains(S.target)}),N=T.length>0?a(S,T[0]):!o.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),c=x.useCallback(function(v,S,b,w){var T={name:v,delta:S,target:b,should:w};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),f=x.useCallback(function(v){n.current=Kh(v),r.current=void 0},[]),d=x.useCallback(function(v){c(v.type,WS(v),v.target,a(v,t.lockRef.current))},[]),h=x.useCallback(function(v){c(v.type,Kh(v),v.target,a(v,t.lockRef.current))},[]);x.useEffect(function(){return Ll.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ml),document.addEventListener("touchmove",l,Ml),document.addEventListener("touchstart",f,Ml),function(){Ll=Ll.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Ml),document.removeEventListener("touchmove",l,Ml),document.removeEventListener("touchstart",f,Ml)}},[]);var g=t.removeScrollBar,y=t.inert;return x.createElement(x.Fragment,null,y?x.createElement(s,{styles:R5(i)}):null,g?x.createElement(E5,{gapMode:"margin"}):null)}const N5=l5(FA,O5);var WA=x.forwardRef(function(t,e){return x.createElement(Jg,$i({},t,{ref:e,sideCar:N5}))});WA.classNames=Jg.classNames;const HA=WA;var D5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$l=new WeakMap,Qh=new WeakMap,Yh={},Ey=0,qA=function(t){return t&&(t.host||qA(t.parentNode))},M5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=qA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},L5=function(t,e,n,r){var i=M5(e,Array.isArray(t)?t:[t]);Yh[n]||(Yh[n]=new WeakMap);var s=Yh[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))f(h);else try{var g=h.getAttribute(r),y=g!==null&&g!=="false",v=($l.get(h)||0)+1,S=(s.get(h)||0)+1;$l.set(h,v),s.set(h,S),o.push(h),v===1&&y&&Qh.set(h,!0),S===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return f(e),a.clear(),Ey++,function(){o.forEach(function(d){var h=$l.get(d)-1,g=s.get(d)-1;$l.set(d,h),s.set(d,g),h||(Qh.has(d)||d.removeAttribute(r),Qh.delete(d)),g||d.removeAttribute(n)}),Ey--,Ey||($l=new WeakMap,$l=new WeakMap,Qh=new WeakMap,Yh={})}},GA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||D5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),L5(r,i,n,"aria-hidden")):function(){return null}};const KA="Dialog",[QA,tY]=gl(KA),[$5,ns]=QA(KA),V5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=x.useRef(null),l=x.useRef(null),[c=!1,f]=w_({prop:r,defaultProp:i,onChange:s});return x.createElement($5,{scope:e,triggerRef:a,contentRef:l,contentId:Iu(),titleId:Iu(),descriptionId:Iu(),open:c,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(d=>!d),[f]),modal:o},n)},F5="DialogTrigger",U5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(F5,n),s=ur(e,i.triggerRef);return x.createElement(br.button,ot({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":__(i.open)},r,{ref:s,onClick:xt(t.onClick,i.onOpenToggle)}))}),YA="DialogPortal",[j5,XA]=QA(YA,{forceMount:void 0}),B5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ns(YA,e);return x.createElement(j5,{scope:e,forceMount:n},x.Children.map(r,o=>x.createElement(Tc,{present:n||s.open},x.createElement(LA,{asChild:!0,container:i},o))))},ew="DialogOverlay",z5=x.forwardRef((t,e)=>{const n=XA(ew,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ns(ew,t.__scopeDialog);return s.modal?x.createElement(Tc,{present:r||s.open},x.createElement(W5,ot({},i,{ref:e}))):null}),W5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(ew,n);return x.createElement(HA,{as:Rn,allowPinchZoom:!0,shards:[i.contentRef]},x.createElement(br.div,ot({"data-state":__(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),fd="DialogContent",H5=x.forwardRef((t,e)=>{const n=XA(fd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ns(fd,t.__scopeDialog);return x.createElement(Tc,{present:r||s.open},s.modal?x.createElement(q5,ot({},i,{ref:e})):x.createElement(G5,ot({},i,{ref:e})))}),q5=x.forwardRef((t,e)=>{const n=ns(fd,t.__scopeDialog),r=x.useRef(null),i=ur(e,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return GA(s)},[]),x.createElement(JA,ot({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:xt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:xt(t.onFocusOutside,s=>s.preventDefault())}))}),G5=x.forwardRef((t,e)=>{const n=ns(fd,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return x.createElement(JA,ot({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,s),!s.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),s.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:s=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),JA=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=ns(fd,n),l=x.useRef(null),c=ur(e,l);return $A(),x.createElement(x.Fragment,null,x.createElement(DA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s},x.createElement(OA,ot({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":__(a.open)},o,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),K5="DialogTitle",Q5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(K5,n);return x.createElement(br.h2,ot({id:i.titleId},r,{ref:e}))}),Y5="DialogClose",X5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ns(Y5,n);return x.createElement(br.button,ot({type:"button"},r,{ref:e,onClick:xt(t.onClick,()=>i.onOpenChange(!1))}))});function __(t){return t?"open":"closed"}const J5=V5,Z5=U5,eL=B5,tL=z5,nL=H5,rL=Q5,iL=X5;function ZA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZA(t))&&(r&&(r+=" "),r+=e);return r}var Ic=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oc=typeof window>"u"||"Deno"in globalThis;function zr(){}function sL(t,e){return typeof t=="function"?t(e):t}function tw(t){return typeof t=="number"&&t>=0&&t!==1/0}function ek(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qS(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==E_(o,e.options))return!1}else if(!dd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function GS(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(sl(e.options.mutationKey)!==sl(s))return!1}else if(!dd(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function E_(t,e){return((e==null?void 0:e.queryKeyHashFn)||sl)(t)}function sl(t){return JSON.stringify(t,(e,n)=>nw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function dd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!dd(t[n],e[n])):!1}function tk(t,e){if(t===e)return t;const n=KS(t)&&KS(e);if(n||nw(t)&&nw(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const f=n?c:s[c];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=tk(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function Ym(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function KS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nw(t){if(!QS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!QS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function QS(t){return Object.prototype.toString.call(t)==="[object Object]"}function oL(t){return new Promise(e=>{setTimeout(e,t)})}function rw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tk(t,e):e}function aL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function lL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var nk=Symbol(),rk=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===nk?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,Va,bo,Lu,cx,uL=(cx=class extends Ic{constructor(){super();Ie(this,Va,void 0);Ie(this,bo,void 0);Ie(this,Lu,void 0);ge(this,Lu,e=>{if(!oc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,bo)||this.setEventListener(B(this,Lu))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,bo))==null||e.call(this),ge(this,bo,void 0))}setEventListener(e){var n;ge(this,Lu,e),(n=B(this,bo))==null||n.call(this),ge(this,bo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Va)!==e&&(ge(this,Va,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Va)=="boolean"?B(this,Va):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Va=new WeakMap,bo=new WeakMap,Lu=new WeakMap,cx),b_=new uL,$u,So,Vu,fx,cL=(fx=class extends Ic{constructor(){super();Ie(this,$u,!0);Ie(this,So,void 0);Ie(this,Vu,void 0);ge(this,Vu,e=>{if(!oc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,So)||this.setEventListener(B(this,Vu))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,So))==null||e.call(this),ge(this,So,void 0))}setEventListener(e){var n;ge(this,Vu,e),(n=B(this,So))==null||n.call(this),ge(this,So,e(this.setOnline.bind(this)))}setOnline(e){B(this,$u)!==e&&(ge(this,$u,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,$u)}},$u=new WeakMap,So=new WeakMap,Vu=new WeakMap,fx),Xm=new cL;function fL(t){return Math.min(1e3*2**t,3e4)}function ik(t){return(t??"online")==="online"?Xm.isOnline():!0}var sk=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function by(t){return t instanceof sk}function ok(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((b,w)=>{s=b,o=w}),l=b=>{var w;r||(y(new sk(b)),(w=t.abort)==null||w.call(t))},c=()=>{e=!0},f=()=>{e=!1},d=()=>b_.isFocused()&&(t.networkMode==="always"||Xm.isOnline())&&t.canRun(),h=()=>ik(t.networkMode)&&t.canRun(),g=b=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,b),i==null||i(),s(b))},y=b=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,b),i==null||i(),o(b))},v=()=>new Promise(b=>{var w;i=T=>{(r||d())&&b(T)},(w=t.onPause)==null||w.call(t)}).then(()=>{var b;i=void 0,r||(b=t.onContinue)==null||b.call(t)}),S=()=>{if(r)return;let b;const w=n===0?t.initialPromise:void 0;try{b=w??t.fn()}catch(T){b=Promise.reject(T)}Promise.resolve(b).then(g).catch(T=>{var I;if(r)return;const N=t.retry??(oc?0:3),F=t.retryDelay??fL,j=typeof F=="function"?F(n,T):F,A=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,T);if(e||!A){y(T);return}n++,(I=t.onFail)==null||I.call(t,n,T),oL(j).then(()=>d()?void 0:v()).then(()=>{e?y(T):S()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:f,canStart:h,start:()=>(h()?S():v().then(S),a)}}function dL(){let t=[],e=0,n=h=>{h()},r=h=>{h()},i=h=>setTimeout(h,0);const s=h=>{i=h},o=h=>{let g;e++;try{g=h()}finally{e--,e||c()}return g},a=h=>{e?t.push(h):i(()=>{n(h)})},l=h=>(...g)=>{a(()=>{h(...g)})},c=()=>{const h=t;t=[],h.length&&i(()=>{r(()=>{h.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:s}}var _n=dL(),Fa,dx,ak=(dx=class{constructor(){Ie(this,Fa,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tw(this.gcTime)&&ge(this,Fa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oc?1/0:5*60*1e3))}clearGcTimeout(){B(this,Fa)&&(clearTimeout(B(this,Fa)),ge(this,Fa,void 0))}},Fa=new WeakMap,dx),Fu,Uu,jr,qn,Pd,Ua,ci,gs,hx,hL=(hx=class extends ak{constructor(n){super();Ie(this,ci);Ie(this,Fu,void 0);Ie(this,Uu,void 0);Ie(this,jr,void 0);Ie(this,qn,void 0);Ie(this,Pd,void 0);Ie(this,Ua,void 0);ge(this,Ua,!1),ge(this,Pd,n.defaultOptions),this.setOptions(n.options),this.observers=[],ge(this,jr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ge(this,Fu,n.state||pL(this.options)),this.state=B(this,Fu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,qn))==null?void 0:n.promise}setOptions(n){this.options={...B(this,Pd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,jr).remove(this)}setData(n,r){const i=rw(this.state.data,n,this.options);return at(this,ci,gs).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){at(this,ci,gs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=B(this,qn))==null?void 0:i.promise;return(s=B(this,qn))==null||s.cancel(n),r?r.then(zr).catch(zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Fu))}isActive(){return this.observers.some(n=>n.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!ek(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,qn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,qn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,jr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,qn)&&(B(this,Ua)?B(this,qn).cancel({revert:!0}):B(this,qn).cancelRetry()),this.scheduleGc()),B(this,jr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,ci,gs).call(this,{type:"invalidate"})}fetch(n,r){var c,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,qn))return B(this,qn).continueRetry(),B(this,qn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ge(this,Ua,!0),i.signal)})},o=()=>{const h=rk(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),ge(this,Ua,!1),this.options.persister?this.options.persister(h,g,this):h(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ge(this,Uu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&at(this,ci,gs).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var g,y,v,S;by(h)&&h.silent||at(this,ci,gs).call(this,{type:"error",error:h}),by(h)||((y=(g=B(this,jr).config).onError)==null||y.call(g,h,this),(S=(v=B(this,jr).config).onSettled)==null||S.call(v,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ge(this,qn,ok({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var g,y,v,S;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(y=(g=B(this,jr).config).onSuccess)==null||y.call(g,h,this),(S=(v=B(this,jr).config).onSettled)==null||S.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(h,g)=>{at(this,ci,gs).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{at(this,ci,gs).call(this,{type:"pause"})},onContinue:()=>{at(this,ci,gs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,qn).start()}},Fu=new WeakMap,Uu=new WeakMap,jr=new WeakMap,qn=new WeakMap,Pd=new WeakMap,Ua=new WeakMap,ci=new WeakSet,gs=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...lk(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return by(s)&&s.revert&&B(this,Uu)?{...B(this,Uu),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),_n.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,jr).notify({query:this,type:"updated",action:n})})},hx);function lk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ik(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pi,px,mL=(px=class extends Ic{constructor(e={}){super();Ie(this,Pi,void 0);this.config=e,ge(this,Pi,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??E_(i,n);let o=this.get(s);return o||(o=new hL({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){B(this,Pi).has(e.queryHash)||(B(this,Pi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Pi).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Pi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Pi).get(e)}getAll(){return[...B(this,Pi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qS(e,r)):n}notify(e){_n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pi=new WeakMap,px),Oi,tr,ja,Ni,fo,mx,gL=(mx=class extends ak{constructor(n){super();Ie(this,Ni);Ie(this,Oi,void 0);Ie(this,tr,void 0);Ie(this,ja,void 0);this.mutationId=n.mutationId,ge(this,tr,n.mutationCache),ge(this,Oi,[]),this.state=n.state||uk(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,Oi).includes(n)||(B(this,Oi).push(n),this.clearGcTimeout(),B(this,tr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ge(this,Oi,B(this,Oi).filter(r=>r!==n)),this.scheduleGc(),B(this,tr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,Oi).length||(this.state.status==="pending"?this.scheduleGc():B(this,tr).remove(this))}continue(){var n;return((n=B(this,ja))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,f,d,h,g,y,v,S,b,w,T,N,F,j,A,I;ge(this,ja,ok({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{at(this,Ni,fo).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{at(this,Ni,fo).call(this,{type:"pause"})},onContinue:()=>{at(this,Ni,fo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,tr).canRun(this)}));const r=this.state.status==="pending",i=!B(this,ja).canStart();try{if(!r){at(this,Ni,fo).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=B(this,tr).config).onMutate)==null?void 0:o.call(s,n,this));const D=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));D!==this.state.context&&at(this,Ni,fo).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const R=await B(this,ja).start();return await((f=(c=B(this,tr).config).onSuccess)==null?void 0:f.call(c,R,n,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,R,n,this.state.context)),await((y=(g=B(this,tr).config).onSettled)==null?void 0:y.call(g,R,null,this.state.variables,this.state.context,this)),await((S=(v=this.options).onSettled)==null?void 0:S.call(v,R,null,n,this.state.context)),at(this,Ni,fo).call(this,{type:"success",data:R}),R}catch(R){try{throw await((w=(b=B(this,tr).config).onError)==null?void 0:w.call(b,R,n,this.state.context,this)),await((N=(T=this.options).onError)==null?void 0:N.call(T,R,n,this.state.context)),await((j=(F=B(this,tr).config).onSettled)==null?void 0:j.call(F,void 0,R,this.state.variables,this.state.context,this)),await((I=(A=this.options).onSettled)==null?void 0:I.call(A,void 0,R,n,this.state.context)),R}finally{at(this,Ni,fo).call(this,{type:"error",error:R})}}finally{B(this,tr).runNext(this)}}},Oi=new WeakMap,tr=new WeakMap,ja=new WeakMap,Ni=new WeakSet,fo=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_n.batch(()=>{B(this,Oi).forEach(i=>{i.onMutationUpdate(n)}),B(this,tr).notify({mutation:this,type:"updated",action:n})})},mx);function uk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ir,Od,gx,yL=(gx=class extends Ic{constructor(e={}){super();Ie(this,Ir,void 0);Ie(this,Od,void 0);this.config=e,ge(this,Ir,new Map),ge(this,Od,Date.now())}build(e,n,r){const i=new gL({mutationCache:this,mutationId:++Ih(this,Od)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Xh(e),r=B(this,Ir).get(n)??[];r.push(e),B(this,Ir).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Xh(e);if(B(this,Ir).has(n)){const i=(r=B(this,Ir).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?B(this,Ir).delete(n):B(this,Ir).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,Ir).get(Xh(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,Ir).get(Xh(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,Ir).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>GS(n,r))}findAll(e={}){return this.getAll().filter(n=>GS(e,n))}notify(e){_n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return _n.batch(()=>Promise.all(e.map(n=>n.continue().catch(zr))))}},Ir=new WeakMap,Od=new WeakMap,gx);function Xh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function vL(t){return{onFetch:(e,n)=>{const r=async()=>{var y,v,S,b,w;const i=e.options,s=(S=(v=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:S.direction,o=((b=e.state.data)==null?void 0:b.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const f=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=rk(e.options,e.fetchOptions),h=async(T,N,F)=>{if(c)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const j={queryKey:e.queryKey,pageParam:N,direction:F?"backward":"forward",meta:e.options.meta};f(j);const A=await d(j),{maxPages:I}=e.options,R=F?lL:aL;return{pages:R(T.pages,A,I),pageParams:R(T.pageParams,N,I)}};let g;if(s&&o.length){const T=s==="backward",N=T?wL:YS,F={pages:o,pageParams:a},j=N(i,F);g=await h(F,j,T)}else{g=await h(l,a[0]??i.initialPageParam);const T=t??o.length;for(let N=1;N<T;N++){const F=YS(i,g);g=await h(g,F)}}return g};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function YS(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function wL(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var tn,To,Io,ju,Bu,xo,zu,Wu,yx,_L=(yx=class{constructor(t={}){Ie(this,tn,void 0);Ie(this,To,void 0);Ie(this,Io,void 0);Ie(this,ju,void 0);Ie(this,Bu,void 0);Ie(this,xo,void 0);Ie(this,zu,void 0);Ie(this,Wu,void 0);ge(this,tn,t.queryCache||new mL),ge(this,To,t.mutationCache||new yL),ge(this,Io,t.defaultOptions||{}),ge(this,ju,new Map),ge(this,Bu,new Map),ge(this,xo,0)}mount(){Ih(this,xo)._++,B(this,xo)===1&&(ge(this,zu,b_.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,tn).onFocus())})),ge(this,Wu,Xm.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,tn).onOnline())})))}unmount(){var t,e;Ih(this,xo)._--,B(this,xo)===0&&((t=B(this,zu))==null||t.call(this),ge(this,zu,void 0),(e=B(this,Wu))==null||e.call(this),ge(this,Wu,void 0))}isFetching(t){return B(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,To).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,tn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=B(this,tn).get(r.queryHash),s=i==null?void 0:i.state.data,o=sL(e,s);if(o!==void 0)return B(this,tn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return _n.batch(()=>B(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,tn);_n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,tn),r={type:"active",...t};return _n.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=_n.batch(()=>B(this,tn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(zr).catch(zr)}invalidateQueries(t={},e={}){return _n.batch(()=>{if(B(this,tn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=_n.batch(()=>B(this,tn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(zr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(zr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,tn).build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zr).catch(zr)}fetchInfiniteQuery(t){return t.behavior=vL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zr).catch(zr)}resumePausedMutations(){return Xm.isOnline()?B(this,To).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,tn)}getMutationCache(){return B(this,To)}getDefaultOptions(){return B(this,Io)}setDefaultOptions(t){ge(this,Io,t)}setQueryDefaults(t,e){B(this,ju).set(sl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,ju).values()];let n={};return e.forEach(r=>{dd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,Bu).set(sl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Bu).values()];let n={};return e.forEach(r=>{dd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Io).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=E_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===nk&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Io).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,tn).clear(),B(this,To).clear()}},tn=new WeakMap,To=new WeakMap,Io=new WeakMap,ju=new WeakMap,Bu=new WeakMap,xo=new WeakMap,zu=new WeakMap,Wu=new WeakMap,yx),hr,$t,Nd,nr,Ba,Hu,Di,Dd,qu,Gu,za,Wa,Co,Ku,Ha,yf,Md,iw,Ld,sw,$d,ow,Vd,aw,Fd,lw,Ud,uw,jd,cw,Pg,ck,vx,EL=(vx=class extends Ic{constructor(e,n){super();Ie(this,Ha);Ie(this,Md);Ie(this,Ld);Ie(this,$d);Ie(this,Vd);Ie(this,Fd);Ie(this,Ud);Ie(this,jd);Ie(this,Pg);Ie(this,hr,void 0);Ie(this,$t,void 0);Ie(this,Nd,void 0);Ie(this,nr,void 0);Ie(this,Ba,void 0);Ie(this,Hu,void 0);Ie(this,Di,void 0);Ie(this,Dd,void 0);Ie(this,qu,void 0);Ie(this,Gu,void 0);Ie(this,za,void 0);Ie(this,Wa,void 0);Ie(this,Co,void 0);Ie(this,Ku,new Set);this.options=n,ge(this,hr,e),ge(this,Di,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,$t).addObserver(this),XS(B(this,$t),this.options)?at(this,Ha,yf).call(this):this.updateResult(),at(this,Vd,aw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fw(B(this,$t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fw(B(this,$t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,at(this,Fd,lw).call(this),at(this,Ud,uw).call(this),B(this,$t).removeObserver(this)}setOptions(e,n){const r=this.options,i=B(this,$t);if(this.options=B(this,hr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");at(this,jd,cw).call(this),B(this,$t).setOptions(this.options),r._defaulted&&!Ym(this.options,r)&&B(this,hr).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,$t),observer:this});const s=this.hasListeners();s&&JS(B(this,$t),i,this.options,r)&&at(this,Ha,yf).call(this),this.updateResult(n),s&&(B(this,$t)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&at(this,Md,iw).call(this);const o=at(this,Ld,sw).call(this);s&&(B(this,$t)!==i||this.options.enabled!==r.enabled||o!==B(this,Co))&&at(this,$d,ow).call(this,o)}getOptimisticResult(e){const n=B(this,hr).getQueryCache().build(B(this,hr),e),r=this.createResult(n,e);return SL(this,r)&&(ge(this,nr,r),ge(this,Hu,this.options),ge(this,Ba,B(this,$t).state)),r}getCurrentResult(){return B(this,nr)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){B(this,Ku).add(e)}getCurrentQuery(){return B(this,$t)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=B(this,hr).defaultQueryOptions(e),r=B(this,hr).getQueryCache().build(B(this,hr),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return at(this,Ha,yf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,nr)))}createResult(e,n){var A;const r=B(this,$t),i=this.options,s=B(this,nr),o=B(this,Ba),a=B(this,Hu),c=e!==r?e.state:B(this,Nd),{state:f}=e;let d={...f},h=!1,g;if(n._optimisticResults){const I=this.hasListeners(),R=!I&&XS(e,n),D=I&&JS(e,r,n,i);(R||D)&&(d={...d,...lk(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:S}=d;if(n.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&n.select===B(this,Dd))g=B(this,qu);else try{ge(this,Dd,n.select),g=n.select(d.data),g=rw(s==null?void 0:s.data,g,n),ge(this,qu,g),ge(this,Di,null)}catch(I){ge(this,Di,I)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&S==="pending"){let I;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))I=s.data;else if(I=typeof n.placeholderData=="function"?n.placeholderData((A=B(this,Gu))==null?void 0:A.state.data,B(this,Gu)):n.placeholderData,n.select&&I!==void 0)try{I=n.select(I),ge(this,Di,null)}catch(R){ge(this,Di,R)}I!==void 0&&(S="success",g=rw(s==null?void 0:s.data,I,n),h=!0)}B(this,Di)&&(y=B(this,Di),g=B(this,qu),v=Date.now(),S="error");const b=d.fetchStatus==="fetching",w=S==="pending",T=S==="error",N=w&&b,F=g!==void 0;return{status:S,fetchStatus:d.fetchStatus,isPending:w,isSuccess:S==="success",isError:T,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:T&&!F,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&F,isStale:S_(e,n),refetch:this.refetch}}updateResult(e){const n=B(this,nr),r=this.createResult(B(this,$t),this.options);if(ge(this,Ba,B(this,$t).state),ge(this,Hu,this.options),B(this,Ba).data!==void 0&&ge(this,Gu,B(this,$t)),Ym(r,n))return;ge(this,nr,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!B(this,Ku).size)return!0;const l=new Set(a??B(this,Ku));return this.options.throwOnError&&l.add("error"),Object.keys(B(this,nr)).some(c=>{const f=c;return B(this,nr)[f]!==n[f]&&l.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),at(this,Pg,ck).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&at(this,Vd,aw).call(this)}},hr=new WeakMap,$t=new WeakMap,Nd=new WeakMap,nr=new WeakMap,Ba=new WeakMap,Hu=new WeakMap,Di=new WeakMap,Dd=new WeakMap,qu=new WeakMap,Gu=new WeakMap,za=new WeakMap,Wa=new WeakMap,Co=new WeakMap,Ku=new WeakMap,Ha=new WeakSet,yf=function(e){at(this,jd,cw).call(this);let n=B(this,$t).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(zr)),n},Md=new WeakSet,iw=function(){if(at(this,Fd,lw).call(this),oc||B(this,nr).isStale||!tw(this.options.staleTime))return;const n=ek(B(this,nr).dataUpdatedAt,this.options.staleTime)+1;ge(this,za,setTimeout(()=>{B(this,nr).isStale||this.updateResult()},n))},Ld=new WeakSet,sw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,$t)):this.options.refetchInterval)??!1},$d=new WeakSet,ow=function(e){at(this,Ud,uw).call(this),ge(this,Co,e),!(oc||this.options.enabled===!1||!tw(B(this,Co))||B(this,Co)===0)&&ge(this,Wa,setInterval(()=>{(this.options.refetchIntervalInBackground||b_.isFocused())&&at(this,Ha,yf).call(this)},B(this,Co)))},Vd=new WeakSet,aw=function(){at(this,Md,iw).call(this),at(this,$d,ow).call(this,at(this,Ld,sw).call(this))},Fd=new WeakSet,lw=function(){B(this,za)&&(clearTimeout(B(this,za)),ge(this,za,void 0))},Ud=new WeakSet,uw=function(){B(this,Wa)&&(clearInterval(B(this,Wa)),ge(this,Wa,void 0))},jd=new WeakSet,cw=function(){const e=B(this,hr).getQueryCache().build(B(this,hr),this.options);if(e===B(this,$t))return;const n=B(this,$t);ge(this,$t,e),ge(this,Nd,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Pg=new WeakSet,ck=function(e){_n.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(B(this,nr))}),B(this,hr).getQueryCache().notify({query:B(this,$t),type:"observerResultsUpdated"})})},vx);function bL(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function XS(t,e){return bL(t,e)||t.state.data!==void 0&&fw(t,e,e.refetchOnMount)}function fw(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&S_(t,e)}return!1}function JS(t,e,n,r){return(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&S_(t,n)}function S_(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function SL(t,e){return!Ym(t.getCurrentResult(),e)}var Ao,ko,pr,Ss,Qu,Fp,Bd,dw,wx,TL=(wx=class extends Ic{constructor(n,r){super();Ie(this,Qu);Ie(this,Bd);Ie(this,Ao,void 0);Ie(this,ko,void 0);Ie(this,pr,void 0);Ie(this,Ss,void 0);ge(this,Ao,n),this.setOptions(r),this.bindMethods(),at(this,Qu,Fp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=B(this,Ao).defaultMutationOptions(n),Ym(this.options,r)||B(this,Ao).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,pr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&sl(r.mutationKey)!==sl(this.options.mutationKey)?this.reset():((i=B(this,pr))==null?void 0:i.state.status)==="pending"&&B(this,pr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=B(this,pr))==null||n.removeObserver(this)}onMutationUpdate(n){at(this,Qu,Fp).call(this),at(this,Bd,dw).call(this,n)}getCurrentResult(){return B(this,ko)}reset(){var n;(n=B(this,pr))==null||n.removeObserver(this),ge(this,pr,void 0),at(this,Qu,Fp).call(this),at(this,Bd,dw).call(this)}mutate(n,r){var i;return ge(this,Ss,r),(i=B(this,pr))==null||i.removeObserver(this),ge(this,pr,B(this,Ao).getMutationCache().build(B(this,Ao),this.options)),B(this,pr).addObserver(this),B(this,pr).execute(n)}},Ao=new WeakMap,ko=new WeakMap,pr=new WeakMap,Ss=new WeakMap,Qu=new WeakSet,Fp=function(){var r;const n=((r=B(this,pr))==null?void 0:r.state)??uk();ge(this,ko,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Bd=new WeakSet,dw=function(n){_n.batch(()=>{var r,i,s,o,a,l,c,f;if(B(this,Ss)&&this.hasListeners()){const d=B(this,ko).variables,h=B(this,ko).context;(n==null?void 0:n.type)==="success"?((i=(r=B(this,Ss)).onSuccess)==null||i.call(r,n.data,d,h),(o=(s=B(this,Ss)).onSettled)==null||o.call(s,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((l=(a=B(this,Ss)).onError)==null||l.call(a,n.error,d,h),(f=(c=B(this,Ss)).onSettled)==null||f.call(c,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(B(this,ko))})})},wx),fk=x.createContext(void 0),dk=t=>{const e=x.useContext(fk);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IL=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),q.jsx(fk.Provider,{value:t,children:e})),hk=x.createContext(!1),xL=()=>x.useContext(hk);hk.Provider;function CL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var AL=x.createContext(CL()),kL=()=>x.useContext(AL);function pk(t,e){return typeof t=="function"?t(...e):!!t}function RL(){}var PL=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},OL=t=>{x.useEffect(()=>{t.clearReset()},[t])},NL=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&pk(n,[t.error,r]),DL=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},ML=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,LL=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function $L(t,e,n){const r=dk(n),i=xL(),s=kL(),o=r.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",DL(o),PL(o,s),OL(s);const[a]=x.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(c=>{const f=i?()=>{}:a.subscribe(_n.batchCalls(c));return a.updateResult(),f},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),x.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),ML(o,l))throw LL(o,a,s);if(NL({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function mk(t,e){return $L(t,EL,e)}function T_(t,e){const n=dk(e),[r]=x.useState(()=>new TL(n,t));x.useEffect(()=>{r.setOptions(t)},[r,t]);const i=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(_n.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=x.useCallback((o,a)=>{r.mutate(o,a).catch(RL)},[r]);if(i.error&&pk(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const ZS=t=>{let e;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const g=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(y=>y(e,g))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{n.clear()}},c=e=t(r,i,l);return l},VL=t=>t?ZS(t):ZS;var gk={exports:{}},yk={},vk={exports:{}},wk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=x;function FL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UL=typeof Object.is=="function"?Object.is:FL,jL=ac.useState,BL=ac.useEffect,zL=ac.useLayoutEffect,WL=ac.useDebugValue;function HL(t,e){var n=e(),r=jL({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return zL(function(){i.value=n,i.getSnapshot=e,Sy(i)&&s({inst:i})},[t,n,e]),BL(function(){return Sy(i)&&s({inst:i}),t(function(){Sy(i)&&s({inst:i})})},[t]),WL(n),n}function Sy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!UL(t,n)}catch{return!0}}function qL(t,e){return e()}var GL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qL:HL;wk.useSyncExternalStore=ac.useSyncExternalStore!==void 0?ac.useSyncExternalStore:GL;vk.exports=wk;var KL=vk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=x,QL=KL;function YL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XL=typeof Object.is=="function"?Object.is:YL,JL=QL.useSyncExternalStore,ZL=Zg.useRef,e8=Zg.useEffect,t8=Zg.useMemo,n8=Zg.useDebugValue;yk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ZL(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=t8(function(){function l(g){if(!c){if(c=!0,f=g,g=r(g),i!==void 0&&o.hasValue){var y=o.value;if(i(y,g))return d=y}return d=g}if(y=d,XL(f,g))return y;var v=r(g);return i!==void 0&&i(y,v)?y:(f=g,d=v)}var c=!1,f,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=JL(t,s[0],s[1]);return e8(function(){o.hasValue=!0,o.value=a},[a]),n8(a),a};gk.exports=yk;var r8=gk.exports;const i8=hl(r8),{useDebugValue:s8}=lt,{useSyncExternalStoreWithSelector:o8}=i8;const a8=t=>t;function l8(t,e=a8,n){const r=o8(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return s8(r),r}var u8=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},c8=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Up;let tf;const jp=new Set,du={};function e0(){if(tf||(tf=Object.freeze({register:eT,get:f8,on:d8}),typeof window>"u"))return tf;const t=Object.freeze({register:eT});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new h8(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return tf}function eT(...t){var e;return t=t.filter(n=>!jp.has(n)),t.length?(t.forEach(n=>jp.add(n)),(e=du.register)==null||e.forEach(n=>tT(()=>n(...t))),function(){var r;t.forEach(i=>jp.delete(i)),(r=du.unregister)==null||r.forEach(i=>tT(()=>i(...t)))}):()=>{}}function f8(){return[...jp]}function d8(t,e){var n;return(n=du[t])!=null&&n.push(e)||(du[t]=[e]),function(){var i;du[t]=(i=du[t])==null?void 0:i.filter(s=>e!==s)}}function tT(t){try{t()}catch(e){console.error(e)}}class h8 extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Up.set(this,void 0),u8(this,Up,e,"f")}get detail(){return c8(this,Up,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Up=new WeakMap;var Vl=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Fl=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Bp,zp,Wp,Hp,qp,Gp;class t0{constructor(e){Bp.set(this,void 0),zp.set(this,void 0),Wp.set(this,void 0),Hp.set(this,void 0),qp.set(this,void 0),Gp.set(this,void 0),new.target===t0&&Object.freeze(this),Vl(this,Bp,e.address,"f"),Vl(this,zp,e.publicKey.slice(),"f"),Vl(this,Wp,e.chains.slice(),"f"),Vl(this,Hp,e.features.slice(),"f"),Vl(this,qp,e.label,"f"),Vl(this,Gp,e.icon,"f")}get address(){return Fl(this,Bp,"f")}get publicKey(){return Fl(this,zp,"f").slice()}get chains(){return Fl(this,Wp,"f").slice()}get features(){return Fl(this,Hp,"f").slice()}get label(){return Fl(this,qp,"f")}get icon(){return Fl(this,Gp,"f")}}Bp=new WeakMap,zp=new WeakMap,Wp=new WeakMap,Hp=new WeakMap,qp=new WeakMap,Gp=new WeakMap;const p8=["standard:connect","standard:events"];function m8(t,e=[]){return[...p8,...e].every(n=>n in t.features)}const g8="sui:devnet",y8="sui:testnet",v8="sui:localnet",I_="sui:mainnet",w8=[g8,y8,v8,I_];function _8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E8(t){var e=_8(t,"string");return typeof e=="symbol"?e:String(e)}function b8(t,e,n){return e=E8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){b8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iT(t,e){var n={};for(var r in t)n[r]=e(t[r],r);return n}var S8=(t,e,n)=>{for(var r of Object.keys(t)){var i;if(t[r]!==((i=e[r])!==null&&i!==void 0?i:n[r]))return!1}return!0},x_=t=>{var e=n=>{var r=t.defaultClassName,i=rT(rT({},t.defaultVariants),n);for(var s in i){var o,a=(o=i[s])!==null&&o!==void 0?o:t.defaultVariants[s];if(a!=null){var l=a;typeof l=="boolean"&&(l=l===!0?"true":"false");var c=t.variantClassNames[s][l];c&&(r+=" "+c)}}for(var[f,d]of t.compoundVariants)S8(f,i,t.defaultVariants)&&(r+=" "+d);return r};return e.variants=()=>Object.keys(t.variantClassNames),e.classNames={get base(){return t.defaultClassName.split(" ")[0]},get variants(){return iT(t.variantClassNames,n=>iT(n,r=>r.split(" ")[0]))}},e};function _k(t){const e=t+"CollectionProvider",[n,r]=gl(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,S=lt.useRef(null),b=lt.useRef(new Map).current;return lt.createElement(i,{scope:y,itemMap:b,collectionRef:S},v)},a=t+"CollectionSlot",l=lt.forwardRef((g,y)=>{const{scope:v,children:S}=g,b=s(a,v),w=ur(y,b.collectionRef);return lt.createElement(Rn,{ref:w},S)}),c=t+"CollectionItemSlot",f="data-radix-collection-item",d=lt.forwardRef((g,y)=>{const{scope:v,children:S,...b}=g,w=lt.useRef(null),T=ur(y,w),N=s(c,v);return lt.useEffect(()=>(N.itemMap.set(w,{ref:w,...b}),()=>void N.itemMap.delete(w))),lt.createElement(Rn,{[f]:"",ref:T},S)});function h(g){const y=s(t+"CollectionConsumer",g);return lt.useCallback(()=>{const S=y.collectionRef.current;if(!S)return[];const b=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,F)=>b.indexOf(N.ref.current)-b.indexOf(F.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}const Ek=x.createContext(void 0),T8=t=>{const{dir:e,children:n}=t;return x.createElement(Ek.Provider,{value:e},n)};function bk(t){const e=x.useContext(Ek);return t||e||"ltr"}const I8=["top","right","bottom","left"],Fi=Math.min,Ar=Math.max,Jm=Math.round,Jh=Math.floor,Jo=t=>({x:t,y:t}),x8={left:"right",right:"left",bottom:"top",top:"bottom"},C8={start:"end",end:"start"};function hw(t,e,n){return Ar(t,Fi(e,n))}function $s(t,e){return typeof t=="function"?t(e):t}function Vs(t){return t.split("-")[0]}function xc(t){return t.split("-")[1]}function C_(t){return t==="x"?"y":"x"}function A_(t){return t==="y"?"height":"width"}function Cc(t){return["top","bottom"].includes(Vs(t))?"y":"x"}function k_(t){return C_(Cc(t))}function A8(t,e,n){n===void 0&&(n=!1);const r=xc(t),i=k_(t),s=A_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zm(o)),[o,Zm(o)]}function k8(t){const e=Zm(t);return[pw(t),e,pw(e)]}function pw(t){return t.replace(/start|end/g,e=>C8[e])}function R8(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function P8(t,e,n,r){const i=xc(t);let s=R8(Vs(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(pw)))),s}function Zm(t){return t.replace(/left|right|bottom|top/g,e=>x8[e])}function O8(t){return{top:0,right:0,bottom:0,left:0,...t}}function Sk(t){return typeof t!="number"?O8(t):{top:t,right:t,bottom:t,left:t}}function eg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function sT(t,e,n){let{reference:r,floating:i}=t;const s=Cc(e),o=k_(e),a=A_(o),l=Vs(e),c=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(xc(e)){case"start":g[o]-=h*(n&&c?-1:1);break;case"end":g[o]+=h*(n&&c?-1:1);break}return g}const N8=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:d}=sT(c,r,l),h=r,g={},y=0;for(let v=0;v<a.length;v++){const{name:S,fn:b}=a[v],{x:w,y:T,data:N,reset:F}=await b({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});f=w??f,d=T??d,g={...g,[S]:{...g[S],...N}},F&&y<=50&&(y++,typeof F=="object"&&(F.placement&&(h=F.placement),F.rects&&(c=F.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:f,y:d}=sT(c,h,l)),v=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:g}};async function hd(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=$s(e,t),y=Sk(g),S=a[h?d==="floating"?"reference":"floating":d],b=eg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),w=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},F=eg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(b.top-F.top+y.top)/N.y,bottom:(F.bottom-b.bottom+y.bottom)/N.y,left:(b.left-F.left+y.left)/N.x,right:(F.right-b.right+y.right)/N.x}}const D8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=$s(t,e)||{};if(c==null)return{};const d=Sk(f),h={x:n,y:r},g=k_(i),y=A_(g),v=await o.getDimensions(c),S=g==="y",b=S?"top":"left",w=S?"bottom":"right",T=S?"clientHeight":"clientWidth",N=s.reference[y]+s.reference[g]-h[g]-s.floating[y],F=h[g]-s.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=j?j[T]:0;(!A||!await(o.isElement==null?void 0:o.isElement(j)))&&(A=a.floating[T]||s.floating[y]);const I=N/2-F/2,R=A/2-v[y]/2-1,D=Fi(d[b],R),V=Fi(d[w],R),U=D,M=A-v[y]-V,xe=A/2-v[y]/2+I,Ne=hw(U,xe,M),ut=!l.arrow&&xc(i)!=null&&xe!==Ne&&s.reference[y]/2-(xe<U?D:V)-v[y]/2<0,Oe=ut?xe<U?xe-U:xe-M:0;return{[g]:h[g]+Oe,data:{[g]:Ne,centerOffset:xe-Ne-Oe,...ut&&{alignmentOffset:Oe}},reset:ut}}}),M8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...S}=$s(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Vs(i),w=Vs(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=h||(w||!v?[Zm(a)]:k8(a));!h&&y!=="none"&&N.push(...P8(a,v,y,T));const F=[a,...N],j=await hd(e,S),A=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&A.push(j[b]),d){const U=A8(i,o,T);A.push(j[U[0]],j[U[1]])}if(I=[...I,{placement:i,overflows:A}],!A.every(U=>U<=0)){var R,D;const U=(((R=s.flip)==null?void 0:R.index)||0)+1,M=F[U];if(M)return{data:{index:U,overflows:I},reset:{placement:M}};let xe=(D=I.filter(Ne=>Ne.overflows[0]<=0).sort((Ne,ut)=>Ne.overflows[1]-ut.overflows[1])[0])==null?void 0:D.placement;if(!xe)switch(g){case"bestFit":{var V;const Ne=(V=I.map(ut=>[ut.placement,ut.overflows.filter(Oe=>Oe>0).reduce((Oe,ne)=>Oe+ne,0)]).sort((ut,Oe)=>ut[1]-Oe[1])[0])==null?void 0:V[0];Ne&&(xe=Ne);break}case"initialPlacement":xe=a;break}if(i!==xe)return{reset:{placement:xe}}}return{}}}};function oT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aT(t){return I8.some(e=>t[e]>=0)}const L8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=$s(t,e);switch(r){case"referenceHidden":{const s=await hd(e,{...i,elementContext:"reference"}),o=oT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aT(o)}}}case"escaped":{const s=await hd(e,{...i,altBoundary:!0}),o=oT(s,n.floating);return{data:{escapedOffsets:o,escaped:aT(o)}}}default:return{}}}}};async function $8(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Vs(n),a=xc(n),l=Cc(n)==="y",c=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,d=$s(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof y=="number"&&(g=a==="end"?y*-1:y),l?{x:g*f,y:h*c}:{x:h*c,y:g*f}}const V8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await $8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},F8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:b,y:w}=S;return{x:b,y:w}}},...l}=$s(t,e),c={x:n,y:r},f=await hd(e,l),d=Cc(Vs(i)),h=C_(d);let g=c[h],y=c[d];if(s){const S=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=g+f[S],T=g-f[b];g=hw(w,g,T)}if(o){const S=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=y+f[S],T=y-f[b];y=hw(w,y,T)}const v=a.fn({...e,[h]:g,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r}}}}},U8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=$s(t,e),f={x:n,y:r},d=Cc(i),h=C_(d);let g=f[h],y=f[d];const v=$s(a,e),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const T=h==="y"?"height":"width",N=s.reference[h]-s.floating[T]+S.mainAxis,F=s.reference[h]+s.reference[T]-S.mainAxis;g<N?g=N:g>F&&(g=F)}if(c){var b,w;const T=h==="y"?"width":"height",N=["top","left"].includes(Vs(i)),F=s.reference[d]-s.floating[T]+(N&&((b=o.offset)==null?void 0:b[d])||0)+(N?0:S.crossAxis),j=s.reference[d]+s.reference[T]+(N?0:((w=o.offset)==null?void 0:w[d])||0)-(N?S.crossAxis:0);y<F?y=F:y>j&&(y=j)}return{[h]:g,[d]:y}}}},j8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=$s(t,e),l=await hd(e,a),c=Vs(n),f=xc(n),d=Cc(n)==="y",{width:h,height:g}=r.floating;let y,v;c==="top"||c==="bottom"?(y=c,v=f===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,y=f==="end"?"top":"bottom");const S=g-l.top-l.bottom,b=h-l.left-l.right,w=Fi(g-l[y],S),T=Fi(h-l[v],b),N=!e.middlewareData.shift;let F=w,j=T;if(d?j=f||N?Fi(T,b):b:F=f||N?Fi(w,S):S,N&&!f){const I=Ar(l.left,0),R=Ar(l.right,0),D=Ar(l.top,0),V=Ar(l.bottom,0);d?j=h-2*(I!==0||R!==0?I+R:Ar(l.left,l.right)):F=g-2*(D!==0||V!==0?D+V:Ar(l.top,l.bottom))}await o({...e,availableWidth:j,availableHeight:F});const A=await i.getDimensions(s.floating);return h!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Ac(t){return Tk(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ws(t){var e;return(e=(Tk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Tk(t){return t instanceof Node||t instanceof Nr(t).Node}function Xi(t){return t instanceof Element||t instanceof Nr(t).Element}function Ji(t){return t instanceof HTMLElement||t instanceof Nr(t).HTMLElement}function lT(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}function Jd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=bi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function B8(t){return["table","td","th"].includes(Ac(t))}function R_(t){const e=P_(),n=bi(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function z8(t){let e=Zo(t);for(;Ji(e)&&!lc(e);){if(R_(e))return e;e=Zo(e)}return null}function P_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lc(t){return["html","body","#document"].includes(Ac(t))}function bi(t){return Nr(t).getComputedStyle(t)}function n0(t){return Xi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Zo(t){if(Ac(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lT(t)&&t.host||Ws(t);return lT(e)?e.host:e}function Ik(t){const e=Zo(t);return lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ji(e)&&Jd(e)?e:Ik(e)}function pd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ik(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Nr(i);return s?e.concat(o,o.visualViewport||[],Jd(i)?i:[],o.frameElement&&n?pd(o.frameElement):[]):e.concat(i,pd(i,[],n))}function xk(t){const e=bi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ji(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Jm(n)!==s||Jm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function O_(t){return Xi(t)?t:t.contextElement}function Cu(t){const e=O_(t);if(!Ji(e))return Jo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=xk(e);let o=(s?Jm(n.width):n.width)/r,a=(s?Jm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const W8=Jo(0);function Ck(t){const e=Nr(t);return!P_()||!e.visualViewport?W8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function H8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nr(t)?!1:e}function ol(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=O_(t);let o=Jo(1);e&&(r?Xi(r)&&(o=Cu(r)):o=Cu(t));const a=H8(s,n,r)?Ck(s):Jo(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(s){const h=Nr(s),g=r&&Xi(r)?Nr(r):r;let y=h,v=y.frameElement;for(;v&&r&&g!==y;){const S=Cu(v),b=v.getBoundingClientRect(),w=bi(v),T=b.left+(v.clientLeft+parseFloat(w.paddingLeft))*S.x,N=b.top+(v.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,c*=S.y,f*=S.x,d*=S.y,l+=T,c+=N,y=Nr(v),v=y.frameElement}}return eg({width:f,height:d,x:l,y:c})}const q8=[":popover-open",":modal"];function N_(t){return q8.some(e=>{try{return t.matches(e)}catch{return!1}})}function G8(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ws(r),a=e?N_(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Jo(1);const f=Jo(0),d=Ji(r);if((d||!d&&!s)&&((Ac(r)!=="body"||Jd(o))&&(l=n0(r)),Ji(r))){const h=ol(r);c=Cu(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x,y:n.y*c.y-l.scrollTop*c.y+f.y}}function K8(t){return Array.from(t.getClientRects())}function Ak(t){return ol(Ws(t)).left+n0(t).scrollLeft}function Q8(t){const e=Ws(t),n=n0(t),r=t.ownerDocument.body,i=Ar(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ar(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ak(t);const a=-n.scrollTop;return bi(r).direction==="rtl"&&(o+=Ar(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Y8(t,e){const n=Nr(t),r=Ws(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=P_();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function X8(t,e){const n=ol(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ji(t)?Cu(t):Jo(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function uT(t,e,n){let r;if(e==="viewport")r=Y8(t,n);else if(e==="document")r=Q8(Ws(t));else if(Xi(e))r=X8(e,n);else{const i=Ck(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return eg(r)}function kk(t,e){const n=Zo(t);return n===e||!Xi(n)||lc(n)?!1:bi(n).position==="fixed"||kk(n,e)}function J8(t,e){const n=e.get(t);if(n)return n;let r=pd(t,[],!1).filter(a=>Xi(a)&&Ac(a)!=="body"),i=null;const s=bi(t).position==="fixed";let o=s?Zo(t):t;for(;Xi(o)&&!lc(o);){const a=bi(o),l=R_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Jd(o)&&!l&&kk(t,o))?r=r.filter(f=>f!==o):i=a,o=Zo(o)}return e.set(t,r),r}function Z8(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?N_(e)?[]:J8(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const d=uT(e,f,i);return c.top=Ar(d.top,c.top),c.right=Fi(d.right,c.right),c.bottom=Fi(d.bottom,c.bottom),c.left=Ar(d.left,c.left),c},uT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function e$(t){const{width:e,height:n}=xk(t);return{width:e,height:n}}function t$(t,e,n){const r=Ji(e),i=Ws(e),s=n==="fixed",o=ol(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Jo(0);if(r||!r&&!s)if((Ac(e)!=="body"||Jd(i))&&(a=n0(e)),r){const d=ol(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=Ak(i));const c=o.left+a.scrollLeft-l.x,f=o.top+a.scrollTop-l.y;return{x:c,y:f,width:o.width,height:o.height}}function Ty(t){return bi(t).position==="static"}function cT(t,e){return!Ji(t)||bi(t).position==="fixed"?null:e?e(t):t.offsetParent}function Rk(t,e){const n=Nr(t);if(N_(t))return n;if(!Ji(t)){let i=Zo(t);for(;i&&!lc(i);){if(Xi(i)&&!Ty(i))return i;i=Zo(i)}return n}let r=cT(t,e);for(;r&&B8(r)&&Ty(r);)r=cT(r,e);return r&&lc(r)&&Ty(r)&&!R_(r)?n:r||z8(t)||n}const n$=async function(t){const e=this.getOffsetParent||Rk,n=this.getDimensions,r=await n(t.floating);return{reference:t$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function r$(t){return bi(t).direction==="rtl"}const i$={convertOffsetParentRelativeRectToViewportRelativeRect:G8,getDocumentElement:Ws,getClippingRect:Z8,getOffsetParent:Rk,getElementRects:n$,getClientRects:K8,getDimensions:e$,getScale:Cu,isElement:Xi,isRTL:r$};function s$(t,e){let n=null,r;const i=Ws(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:f,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const g=Jh(f),y=Jh(i.clientWidth-(c+d)),v=Jh(i.clientHeight-(f+h)),S=Jh(c),w={rootMargin:-g+"px "+-y+"px "+-v+"px "+-S+"px",threshold:Ar(0,Fi(1,l))||1};let T=!0;function N(F){const j=F[0].intersectionRatio;if(j!==l){if(!T)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(t)}return o(!0),s}function o$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=O_(t),f=i||s?[...c?pd(c):[],...pd(e)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const d=c&&a?s$(c,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(b=>{let[w]=b;w&&w.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let y,v=l?ol(t):null;l&&S();function S(){const b=ol(t);v&&(b.x!==v.x||b.y!==v.y||b.width!==v.width||b.height!==v.height)&&n(),v=b,y=requestAnimationFrame(S)}return n(),()=>{var b;f.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),d==null||d(),(b=g)==null||b.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const a$=V8,l$=F8,u$=M8,c$=j8,f$=L8,fT=D8,d$=U8,h$=(t,e,n)=>{const r=new Map,i={platform:i$,...n},s={...i.platform,_c:r};return N8(t,e,{...i,platform:s})};var Kp=typeof document<"u"?x.useLayoutEffect:x.useEffect;function tg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!tg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Pk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dT(t,e){const n=Pk(t);return Math.round(e*n)/n}function hT(t){const e=x.useRef(t);return Kp(()=>{e.current=t}),e}function p$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,d]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=x.useState(r);tg(h,r)||g(r);const[y,v]=x.useState(null),[S,b]=x.useState(null),w=x.useCallback(Oe=>{Oe!==j.current&&(j.current=Oe,v(Oe))},[]),T=x.useCallback(Oe=>{Oe!==A.current&&(A.current=Oe,b(Oe))},[]),N=s||y,F=o||S,j=x.useRef(null),A=x.useRef(null),I=x.useRef(f),R=l!=null,D=hT(l),V=hT(i),U=x.useCallback(()=>{if(!j.current||!A.current)return;const Oe={placement:e,strategy:n,middleware:h};V.current&&(Oe.platform=V.current),h$(j.current,A.current,Oe).then(ne=>{const Z={...ne,isPositioned:!0};M.current&&!tg(I.current,Z)&&(I.current=Z,Kd.flushSync(()=>{d(Z)}))})},[h,e,n,V]);Kp(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(Oe=>({...Oe,isPositioned:!1})))},[c]);const M=x.useRef(!1);Kp(()=>(M.current=!0,()=>{M.current=!1}),[]),Kp(()=>{if(N&&(j.current=N),F&&(A.current=F),N&&F){if(D.current)return D.current(N,F,U);U()}},[N,F,U,D,R]);const xe=x.useMemo(()=>({reference:j,floating:A,setReference:w,setFloating:T}),[w,T]),Ne=x.useMemo(()=>({reference:N,floating:F}),[N,F]),ut=x.useMemo(()=>{const Oe={position:n,left:0,top:0};if(!Ne.floating)return Oe;const ne=dT(Ne.floating,f.x),Z=dT(Ne.floating,f.y);return a?{...Oe,transform:"translate("+ne+"px, "+Z+"px)",...Pk(Ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:Z}},[n,a,Ne.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:U,refs:xe,elements:Ne,floatingStyles:ut}),[f,U,xe,Ne,ut])}const m$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fT({element:r.current,padding:i}).fn(n):{}:r?fT({element:r,padding:i}).fn(n):{}}}},g$=(t,e)=>({...a$(t),options:[t,e]}),y$=(t,e)=>({...l$(t),options:[t,e]}),v$=(t,e)=>({...d$(t),options:[t,e]}),w$=(t,e)=>({...u$(t),options:[t,e]}),_$=(t,e)=>({...c$(t),options:[t,e]}),E$=(t,e)=>({...f$(t),options:[t,e]}),b$=(t,e)=>({...m$(t),options:[t,e]});function S$(t){const[e,n]=x.useState(void 0);return sc(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const Ok="Popper",[Nk,r0]=gl(Ok),[T$,Dk]=Nk(Ok),I$=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return x.createElement(T$,{scope:e,anchor:r,onAnchorChange:i},n)},x$="PopperAnchor",C$=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Dk(x$,n),o=x.useRef(null),a=ur(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.createElement(br.div,ot({},i,{ref:a}))}),Mk="PopperContent",[A$,sY]=Nk(Mk),k$=x.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:f,side:d="bottom",sideOffset:h=0,align:g="center",alignOffset:y=0,arrowPadding:v=0,avoidCollisions:S=!0,collisionBoundary:b=[],collisionPadding:w=0,sticky:T="partial",hideWhenDetached:N=!1,updatePositionStrategy:F="optimized",onPlaced:j,...A}=t,I=Dk(Mk,f),[R,D]=x.useState(null),V=ur(e,ni=>D(ni)),[U,M]=x.useState(null),xe=S$(U),Ne=(n=xe==null?void 0:xe.width)!==null&&n!==void 0?n:0,ut=(r=xe==null?void 0:xe.height)!==null&&r!==void 0?r:0,Oe=d+(g!=="center"?"-"+g:""),ne=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},Z=Array.isArray(b)?b:[b],de=Z.length>0,Me={padding:ne,boundary:Z.filter(R$),altBoundary:de},{refs:De,floatingStyles:Ce,placement:ct,isPositioned:_e,middlewareData:tt}=p$({strategy:"fixed",placement:Oe,whileElementsMounted:(...ni)=>o$(...ni,{animationFrame:F==="always"}),elements:{reference:I.anchor},middleware:[g$({mainAxis:h+ut,alignmentAxis:y}),S&&y$({mainAxis:!0,crossAxis:!1,limiter:T==="partial"?v$():void 0,...Me}),S&&w$({...Me}),_$({...Me,apply:({elements:ni,rects:ca,availableWidth:fa,availableHeight:Tl})=>{const{width:Ur,height:os}=ca.reference,ri=ni.floating.style;ri.setProperty("--radix-popper-available-width",`${fa}px`),ri.setProperty("--radix-popper-available-height",`${Tl}px`),ri.setProperty("--radix-popper-anchor-width",`${Ur}px`),ri.setProperty("--radix-popper-anchor-height",`${os}px`)}}),U&&b$({element:U,padding:v}),P$({arrowWidth:Ne,arrowHeight:ut}),N&&E$({strategy:"referenceHidden",...Me})]}),[Ot,ti]=Lk(ct),on=Yi(j);sc(()=>{_e&&(on==null||on())},[_e,on]);const dr=(i=tt.arrow)===null||i===void 0?void 0:i.x,ss=(s=tt.arrow)===null||s===void 0?void 0:s.y,Ii=((o=tt.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[qs,ua]=x.useState();return sc(()=>{R&&ua(window.getComputedStyle(R).zIndex)},[R]),x.createElement("div",{ref:De.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:_e?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qs,"--radix-popper-transform-origin":[(a=tt.transformOrigin)===null||a===void 0?void 0:a.x,(l=tt.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},x.createElement(A$,{scope:f,placedSide:Ot,onArrowChange:M,arrowX:dr,arrowY:ss,shouldHideArrow:Ii},x.createElement(br.div,ot({"data-side":Ot,"data-align":ti},A,{ref:V,style:{...A.style,animation:_e?void 0:"none",opacity:(c=tt.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function R$(t){return t!==null}const P$=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=d?0:t.arrowWidth,g=d?0:t.arrowHeight,[y,v]=Lk(a),S={start:"0%",center:"50%",end:"100%"}[v],b=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,w=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+g/2;let T="",N="";return y==="bottom"?(T=d?S:`${b}px`,N=`${-g}px`):y==="top"?(T=d?S:`${b}px`,N=`${l.floating.height+g}px`):y==="right"?(T=`${-g}px`,N=d?S:`${w}px`):y==="left"&&(T=`${l.floating.width+g}px`,N=d?S:`${w}px`),{data:{x:T,y:N}}}});function Lk(t){const[e,n="center"]=t.split("-");return[e,n]}const O$=I$,N$=C$,D$=k$,Iy="rovingFocusGroup.onEntryFocus",M$={bubbles:!1,cancelable:!0},D_="RovingFocusGroup",[mw,$k,L$]=_k(D_),[$$,Vk]=gl(D_,[L$]),[V$,F$]=$$(D_),U$=x.forwardRef((t,e)=>x.createElement(mw.Provider,{scope:t.__scopeRovingFocusGroup},x.createElement(mw.Slot,{scope:t.__scopeRovingFocusGroup},x.createElement(j$,ot({},t,{ref:e}))))),j$=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...f}=t,d=x.useRef(null),h=ur(e,d),g=bk(s),[y=null,v]=w_({prop:o,defaultProp:a,onChange:l}),[S,b]=x.useState(!1),w=Yi(c),T=$k(n),N=x.useRef(!1),[F,j]=x.useState(0);return x.useEffect(()=>{const A=d.current;if(A)return A.addEventListener(Iy,w),()=>A.removeEventListener(Iy,w)},[w]),x.createElement(V$,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(A=>v(A),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(A=>A+1),[]),onFocusableItemRemove:x.useCallback(()=>j(A=>A-1),[])},x.createElement(br.div,ot({tabIndex:S||F===0?-1:0,"data-orientation":r},f,{ref:h,style:{outline:"none",...t.style},onMouseDown:xt(t.onMouseDown,()=>{N.current=!0}),onFocus:xt(t.onFocus,A=>{const I=!N.current;if(A.target===A.currentTarget&&I&&!S){const R=new CustomEvent(Iy,M$);if(A.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=T().filter(Ne=>Ne.focusable),V=D.find(Ne=>Ne.active),U=D.find(Ne=>Ne.id===y),xe=[V,U,...D].filter(Boolean).map(Ne=>Ne.ref.current);Fk(xe)}}N.current=!1}),onBlur:xt(t.onBlur,()=>b(!1))})))}),B$="RovingFocusGroupItem",z$=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Iu(),l=s||a,c=F$(B$,n),f=c.currentTabStopId===l,d=$k(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=c;return x.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),x.createElement(mw.ItemSlot,{scope:n,id:l,focusable:r,active:i},x.createElement(br.span,ot({tabIndex:f?0:-1,"data-orientation":c.orientation},o,{ref:e,onMouseDown:xt(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:xt(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:xt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=q$(y,c.orientation,c.dir);if(v!==void 0){y.preventDefault();let b=d().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const w=b.indexOf(y.currentTarget);b=c.loop?G$(b,w+1):b.slice(w+1)}setTimeout(()=>Fk(b))}})})))}),W$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function q$(t,e,n){const r=H$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return W$[r]}function Fk(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function G$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const K$=U$,Q$=z$,Y$=["Enter"," "],X$=["ArrowDown","PageUp","Home"],Uk=["ArrowUp","PageDown","End"],J$=[...X$,...Uk],i0="Menu",[gw,Z$,e9]=_k(i0),[yl,jk]=gl(i0,[e9,r0,Vk]),M_=r0(),Bk=Vk(),[t9,Zd]=yl(i0),[n9,L_]=yl(i0),r9=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=M_(e),[l,c]=x.useState(null),f=x.useRef(!1),d=Yi(s),h=bk(i);return x.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),x.createElement(O$,a,x.createElement(t9,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c},x.createElement(n9,{scope:e,onClose:x.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:o},r)))},i9=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=M_(n);return x.createElement(N$,ot({},i,r,{ref:e}))}),zk="MenuPortal",[s9,o9]=yl(zk,{forceMount:void 0}),a9=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Zd(zk,e);return x.createElement(s9,{scope:e,forceMount:n},x.createElement(Tc,{present:n||s.open},x.createElement(LA,{asChild:!0,container:i},r)))},Wo="MenuContent",[l9,Wk]=yl(Wo),u9=x.forwardRef((t,e)=>{const n=o9(Wo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Zd(Wo,t.__scopeMenu),o=L_(Wo,t.__scopeMenu);return x.createElement(gw.Provider,{scope:t.__scopeMenu},x.createElement(Tc,{present:r||s.open},x.createElement(gw.Slot,{scope:t.__scopeMenu},o.modal?x.createElement(c9,ot({},i,{ref:e})):x.createElement(f9,ot({},i,{ref:e})))))}),c9=x.forwardRef((t,e)=>{const n=Zd(Wo,t.__scopeMenu),r=x.useRef(null),i=ur(e,r);return x.useEffect(()=>{const s=r.current;if(s)return GA(s)},[]),x.createElement(Hk,ot({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:xt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),f9=x.forwardRef((t,e)=>{const n=Zd(Wo,t.__scopeMenu);return x.createElement(Hk,ot({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Hk=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,disableOutsideScroll:y,...v}=t,S=Zd(Wo,n),b=L_(Wo,n),w=M_(n),T=Bk(n),N=Z$(n),[F,j]=x.useState(null),A=x.useRef(null),I=ur(e,A,S.onContentChange),R=x.useRef(0),D=x.useRef(""),V=x.useRef(0),U=x.useRef(null),M=x.useRef("right"),xe=x.useRef(0),Ne=y?HA:x.Fragment,ut=y?{as:Rn,allowPinchZoom:!0}:void 0,Oe=Z=>{var de,Me;const De=D.current+Z,Ce=N().filter(on=>!on.disabled),ct=document.activeElement,_e=(de=Ce.find(on=>on.ref.current===ct))===null||de===void 0?void 0:de.textValue,tt=Ce.map(on=>on.textValue),Ot=E9(tt,De,_e),ti=(Me=Ce.find(on=>on.textValue===Ot))===null||Me===void 0?void 0:Me.ref.current;(function on(dr){D.current=dr,window.clearTimeout(R.current),dr!==""&&(R.current=window.setTimeout(()=>on(""),1e3))})(De),ti&&setTimeout(()=>ti.focus())};x.useEffect(()=>()=>window.clearTimeout(R.current),[]),$A();const ne=x.useCallback(Z=>{var de,Me;return M.current===((de=U.current)===null||de===void 0?void 0:de.side)&&S9(Z,(Me=U.current)===null||Me===void 0?void 0:Me.area)},[]);return x.createElement(l9,{scope:n,searchRef:D,onItemEnter:x.useCallback(Z=>{ne(Z)&&Z.preventDefault()},[ne]),onItemLeave:x.useCallback(Z=>{var de;ne(Z)||((de=A.current)===null||de===void 0||de.focus(),j(null))},[ne]),onTriggerLeave:x.useCallback(Z=>{ne(Z)&&Z.preventDefault()},[ne]),pointerGraceTimerRef:V,onPointerGraceIntentChange:x.useCallback(Z=>{U.current=Z},[])},x.createElement(Ne,ut,x.createElement(DA,{asChild:!0,trapped:i,onMountAutoFocus:xt(s,Z=>{var de;Z.preventDefault(),(de=A.current)===null||de===void 0||de.focus()}),onUnmountAutoFocus:o},x.createElement(OA,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g},x.createElement(K$,ot({asChild:!0},T,{dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:j,onEntryFocus:xt(l,Z=>{b.isUsingKeyboardRef.current||Z.preventDefault()})}),x.createElement(D$,ot({role:"menu","aria-orientation":"vertical","data-state":v9(S.open),"data-radix-menu-content":"",dir:b.dir},w,v,{ref:I,style:{outline:"none",...v.style},onKeyDown:xt(v.onKeyDown,Z=>{const Me=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,De=Z.ctrlKey||Z.altKey||Z.metaKey,Ce=Z.key.length===1;Me&&(Z.key==="Tab"&&Z.preventDefault(),!De&&Ce&&Oe(Z.key));const ct=A.current;if(Z.target!==ct||!J$.includes(Z.key))return;Z.preventDefault();const tt=N().filter(Ot=>!Ot.disabled).map(Ot=>Ot.ref.current);Uk.includes(Z.key)&&tt.reverse(),w9(tt)}),onBlur:xt(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(R.current),D.current="")}),onPointerMove:xt(t.onPointerMove,vw(Z=>{const de=Z.target,Me=xe.current!==Z.clientX;if(Z.currentTarget.contains(de)&&Me){const De=Z.clientX>xe.current?"right":"left";M.current=De,xe.current=Z.clientX}}))})))))))}),yw="MenuItem",pT="menu.itemSelect",d9=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=x.useRef(null),o=L_(yw,t.__scopeMenu),a=Wk(yw,t.__scopeMenu),l=ur(e,s),c=x.useRef(!1),f=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(pT,{bubbles:!0,cancelable:!0});d.addEventListener(pT,g=>r==null?void 0:r(g),{once:!0}),PA(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return x.createElement(h9,ot({},i,{ref:l,disabled:n,onClick:xt(t.onClick,f),onPointerDown:d=>{var h;(h=t.onPointerDown)===null||h===void 0||h.call(t,d),c.current=!0},onPointerUp:xt(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)===null||h===void 0||h.click()}),onKeyDown:xt(t.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||Y$.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),h9=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Wk(yw,n),a=Bk(n),l=x.useRef(null),c=ur(e,l),[f,d]=x.useState(!1),[h,g]=x.useState("");return x.useEffect(()=>{const y=l.current;if(y){var v;g(((v=y.textContent)!==null&&v!==void 0?v:"").trim())}},[s.children]),x.createElement(gw.ItemSlot,{scope:n,disabled:r,textValue:i??h},x.createElement(Q$,ot({asChild:!0},a,{focusable:!r}),x.createElement(br.div,ot({role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:c,onPointerMove:xt(t.onPointerMove,vw(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:xt(t.onPointerLeave,vw(y=>o.onItemLeave(y))),onFocus:xt(t.onFocus,()=>d(!0)),onBlur:xt(t.onBlur,()=>d(!1))}))))}),p9="MenuRadioGroup";yl(p9,{value:void 0,onValueChange:()=>{}});const m9="MenuItemIndicator";yl(m9,{checked:!1});const g9=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.createElement(br.div,ot({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),y9="MenuSub";yl(y9);function v9(t){return t?"open":"closed"}function w9(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function _9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function E9(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=_9(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function b9(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function S9(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return b9(n,e)}function vw(t){return e=>e.pointerType==="mouse"?t(e):void 0}const T9=r9,I9=i9,x9=a9,C9=u9,A9=d9,k9=g9,qk="DropdownMenu",[R9,oY]=gl(qk,[jk]),kc=jk(),[P9,Gk]=R9(qk),O9=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=kc(e),c=x.useRef(null),[f=!1,d]=w_({prop:i,defaultProp:s,onChange:o});return x.createElement(P9,{scope:e,triggerId:Iu(),triggerRef:c,contentId:Iu(),open:f,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:a},x.createElement(T9,ot({},l,{open:f,onOpenChange:d,dir:r,modal:a}),n))},N9="DropdownMenuTrigger",D9=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Gk(N9,n),o=kc(n);return x.createElement(I9,ot({asChild:!0},o),x.createElement(br.button,ot({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:v_(e,s.triggerRef),onPointerDown:xt(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:xt(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),M9=t=>{const{__scopeDropdownMenu:e,...n}=t,r=kc(e);return x.createElement(x9,ot({},r,n))},L9="DropdownMenuContent",$9=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Gk(L9,n),s=kc(n),o=x.useRef(!1);return x.createElement(C9,ot({id:i.contentId,"aria-labelledby":i.triggerId},s,r,{ref:e,onCloseAutoFocus:xt(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)===null||l===void 0||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:xt(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),V9=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kc(n);return x.createElement(A9,ot({},i,r,{ref:e}))}),F9=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kc(n);return x.createElement(k9,ot({},i,r,{ref:e}))}),U9=O9,j9=D9,B9=M9,z9=$9,Kk=V9,W9=F9;function Qk(t,e){return wt.IntentMessage(wt.fixedArray(e.length,wt.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}function Yk(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}class Xk{equals(e){return Yk(this.toRawBytes(),e.toRawBytes())}toBase64(){return Ft(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const e=this.toSuiBytes();return Ft(e)}verifyWithIntent(e,n,r){const i=Qk(r,e),s=qm(i,{dkLen:32});return this.verify(s,n)}verifyPersonalMessage(e,n){return this.verifyWithIntent(wt.vector(wt.u8()).serialize(e).toBytes(),n,"PersonalMessage")}verifyTransaction(e,n){return this.verifyWithIntent(e,n,"TransactionData")}toSuiBytes(){const e=this.toRawBytes(),n=new Uint8Array(e.length+1);return n.set([this.flag()]),n.set(e,1),n}toSuiAddress(){return Rt(Q4(qm(this.toSuiBytes(),{dkLen:32})).slice(0,Qg*2))}}const eh={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},H9={ED25519:32,Secp256k1:33,Secp256r1:33},q9={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};function G9(t,e){if(!!!t)throw new Error(e)}const Jk={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},K9=new Set(Object.keys(Jk));function mT(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&K9.has(e)}var gT;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(gT||(gT={}));var ww;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(ww||(ww={}));function yT(t){return t===9||t===32}function Q9(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(g=>g.length===0||yT(g.charCodeAt(0))),o=n.endsWith('\\"""'),a=t.endsWith('"')&&!o,l=t.endsWith("\\"),c=a||l,f=!(e!=null&&e.minimize)&&(!i||t.length>70||c||s||o);let d="";const h=i&&yT(t.charCodeAt(0));return(f&&!h||s)&&(d+=`
`),d+=n,(f||c)&&(d+=`
`),'"""'+d+'"""'}const Y9=10,Zk=2;function X9(t){return s0(t,[])}function s0(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return J9(t,e);default:return String(t)}}function J9(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(Z9(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:s0(r,n)}else if(Array.isArray(t))return tV(t,n);return eV(t,n)}function Z9(t){return typeof t.toJSON=="function"}function eV(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>Zk?"["+nV(t)+"]":"{ "+n.map(([i,s])=>i+": "+s0(s,e)).join(", ")+" }"}function tV(t,e){if(t.length===0)return"[]";if(e.length>Zk)return"[Array]";const n=Math.min(Y9,t.length),r=t.length-n,i=[];for(let s=0;s<n;++s)i.push(s0(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function nV(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}function rV(t){return`"${t.replace(iV,sV)}"`}const iV=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function sV(t){return oV[t.charCodeAt(0)]}const oV=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],aV=Object.freeze({});function lV(t,e,n=Jk){const r=new Map;for(const b of Object.values(ww))r.set(b,uV(e,b));let i,s=Array.isArray(t),o=[t],a=-1,l=[],c=t,f,d;const h=[],g=[];do{a++;const b=a===o.length,w=b&&l.length!==0;if(b){if(f=g.length===0?void 0:h[h.length-1],c=d,d=g.pop(),w)if(s){c=c.slice();let N=0;for(const[F,j]of l){const A=F-N;j===null?(c.splice(A,1),N++):c[A]=j}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[N,F]of l)c[N]=F}a=i.index,o=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(d){if(f=s?a:o[a],c=d[f],c==null)continue;h.push(f)}let T;if(!Array.isArray(c)){var y,v;mT(c)||G9(!1,`Invalid AST Node: ${X9(c)}.`);const N=b?(y=r.get(c.kind))===null||y===void 0?void 0:y.leave:(v=r.get(c.kind))===null||v===void 0?void 0:v.enter;if(T=N==null?void 0:N.call(e,c,f,d,h,g),T===aV)break;if(T===!1){if(!b){h.pop();continue}}else if(T!==void 0&&(l.push([f,T]),!b))if(mT(T))c=T;else{h.pop();continue}}if(T===void 0&&w&&l.push([f,c]),b)h.pop();else{var S;i={inArray:s,index:a,keys:o,edits:l,prev:i},s=Array.isArray(c),o=s?c:(S=n[c.kind])!==null&&S!==void 0?S:[],a=-1,l=[],d&&g.push(d),d=c}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function uV(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function cV(t){return lV(t,dV)}const fV=80,dV={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>Ee(t.definitions,`

`)},OperationDefinition:{leave(t){const e=pt("(",Ee(t.variableDefinitions,", "),")"),n=Ee([t.operation,Ee([t.name,e]),Ee(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+pt(" = ",n)+pt(" ",Ee(r," "))},SelectionSet:{leave:({selections:t})=>oi(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const s=pt("",t,": ")+e;let o=s+pt("(",Ee(n,", "),")");return o.length>fV&&(o=s+pt(`(
`,Qp(Ee(n,`
`)),`
)`)),Ee([o,Ee(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+pt(" ",Ee(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>Ee(["...",pt("on ",t),Ee(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${pt("(",Ee(n,", "),")")} on ${e} ${pt("",Ee(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?Q9(t):rV(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+Ee(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+Ee(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+pt("(",Ee(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>pt("",t,`
`)+Ee(["schema",Ee(e," "),oi(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>pt("",t,`
`)+Ee(["scalar",e,Ee(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>pt("",t,`
`)+Ee(["type",e,pt("implements ",Ee(n," & ")),Ee(r," "),oi(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>pt("",t,`
`)+e+(vT(n)?pt(`(
`,Qp(Ee(n,`
`)),`
)`):pt("(",Ee(n,", "),")"))+": "+r+pt(" ",Ee(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>pt("",t,`
`)+Ee([e+": "+n,pt("= ",r),Ee(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>pt("",t,`
`)+Ee(["interface",e,pt("implements ",Ee(n," & ")),Ee(r," "),oi(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>pt("",t,`
`)+Ee(["union",e,Ee(n," "),pt("= ",Ee(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>pt("",t,`
`)+Ee(["enum",e,Ee(n," "),oi(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>pt("",t,`
`)+Ee([e,Ee(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>pt("",t,`
`)+Ee(["input",e,Ee(n," "),oi(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>pt("",t,`
`)+"directive @"+e+(vT(n)?pt(`(
`,Qp(Ee(n,`
`)),`
)`):pt("(",Ee(n,", "),")"))+(r?" repeatable":"")+" on "+Ee(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>Ee(["extend schema",Ee(t," "),oi(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>Ee(["extend scalar",t,Ee(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>Ee(["extend type",t,pt("implements ",Ee(e," & ")),Ee(n," "),oi(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>Ee(["extend interface",t,pt("implements ",Ee(e," & ")),Ee(n," "),oi(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>Ee(["extend union",t,Ee(e," "),pt("= ",Ee(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>Ee(["extend enum",t,Ee(e," "),oi(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>Ee(["extend input",t,Ee(e," "),oi(n)]," ")}};function Ee(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function oi(t){return pt(`{
`,Qp(Ee(t,`
`)),`
}`)}function pt(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function Qp(t){return pt("  ",t.replace(/\n/g,`
  `))}function vT(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}var eR=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Zh=(t,e,n)=>(eR(t,e,"read from private field"),n?n.call(t):e.get(t)),ep=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},tp=(t,e,n,r)=>(eR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Yp,Xp,Jp,Zp;class hV extends Error{}class pV{constructor({url:e,fetch:n=fetch,headers:r={},queries:i={}}){ep(this,Yp,void 0),ep(this,Xp,void 0),ep(this,Jp,void 0),ep(this,Zp,void 0),tp(this,Yp,e),tp(this,Xp,i),tp(this,Jp,r),tp(this,Zp,(...s)=>n(...s))}async query(e){const n=await Zh(this,Zp).call(this,Zh(this,Yp),{method:"POST",headers:{"Content-Type":"application/json",...Zh(this,Jp)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):cV(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!n.ok)throw new hV(`GraphQL request failed: ${n.statusText} (${n.status})`);return await n.json()}async execute(e,n){return this.query({...n,query:Zh(this,Xp)[e]})}}Yp=new WeakMap;Xp=new WeakMap;Jp=new WeakMap;Zp=new WeakMap;var np={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class mV extends Error{constructor(e,n,r,i,s,o,a){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),n&&(this.nodes=Array.isArray(n)?n:[n]),r&&(this.source=r),i&&(this.positions=i),o&&(this.originalError=o);var l=a;if(!l&&o){var c=o.extensions;c&&typeof c=="object"&&(l=c)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var _t,Re;function un(t){return new mV(`Syntax Error: Unexpected token at ${Re} in ${t}`)}function Dr(t){if(t.lastIndex=Re,t.test(_t))return _t.slice(Re,Re=t.lastIndex)}var rp=/ +(?=[^\s])/y;function gV(t){for(var e=t.split(`
`),n="",r=0,i=0,s=e.length-1,o=0;o<e.length;o++)rp.lastIndex=0,rp.test(e[o])&&(o&&(!r||rp.lastIndex<r)&&(r=rp.lastIndex),i=i||o,s=o);for(var a=i;a<=s;a++)a!==i&&(n+=`
`),n+=e[a].slice(r).replace(/\\"""/g,'"""');return n}function rt(){for(var t=0|_t.charCodeAt(Re++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|_t.charCodeAt(Re++))if(t===35)for(;(t=_t.charCodeAt(Re++))!==10&&t!==13;);Re--}var lr=/[_A-Za-z]\w*/y,xy=new RegExp("(?:(null|true|false)|\\$("+lr.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+lr.source+"))","y"),ho=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(ho||{}),yV=/\\/g;function ng(t){var e,n;if(xy.lastIndex=Re,_t.charCodeAt(Re)===91){Re++,rt();for(var r=[];_t.charCodeAt(Re)!==93;)r.push(ng(t));return Re++,rt(),{kind:"ListValue",values:r}}else if(_t.charCodeAt(Re)===123){Re++,rt();for(var i=[];_t.charCodeAt(Re)!==125;){if((e=Dr(lr))==null||(rt(),_t.charCodeAt(Re++)!==58))throw un("ObjectField");rt(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:ng(t)})}return Re++,rt(),{kind:"ObjectValue",fields:i}}else if((n=xy.exec(_t))!=null){if(Re=xy.lastIndex,rt(),(e=n[ho.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=n[ho.Var])!=null){if(t)throw un("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=n[ho.Int])!=null){var s;return(s=n[ho.Float])!=null?{kind:"FloatValue",value:e+s}:{kind:"IntValue",value:e}}else{if((e=n[ho.BlockString])!=null)return{kind:"StringValue",value:gV(e.slice(3,-3)),block:!0};if((e=n[ho.String])!=null)return{kind:"StringValue",value:yV.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=n[ho.Enum])!=null)return{kind:"EnumValue",value:e}}}throw un("Value")}function tR(t){if(_t.charCodeAt(Re)===40){var e=[];Re++,rt();var n;do{if((n=Dr(lr))==null||(rt(),_t.charCodeAt(Re++)!==58))throw un("Argument");rt(),e.push({kind:"Argument",name:{kind:"Name",value:n},value:ng(t)})}while(_t.charCodeAt(Re)!==41);return Re++,rt(),e}}function Au(t){if(_t.charCodeAt(Re)===64){var e=[],n;do{if(Re++,(n=Dr(lr))==null)throw un("Directive");rt(),e.push({kind:"Directive",name:{kind:"Name",value:n},arguments:tR(t)})}while(_t.charCodeAt(Re)===64);return e}}function vV(){for(var t,e=0;_t.charCodeAt(Re)===91;)e++,Re++,rt();if((t=Dr(lr))==null)throw un("NamedType");rt();var n={kind:"NamedType",name:{kind:"Name",value:t}};do if(_t.charCodeAt(Re)===33&&(Re++,rt(),n={kind:"NonNullType",type:n}),e){if(_t.charCodeAt(Re++)!==93)throw un("NamedType");rt(),n={kind:"ListType",type:n}}while(e--);return n}var Cy=new RegExp("(?:(\\.{3})|("+lr.source+"))","y"),_w=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(_w||{});function rg(){var t=[],e,n;do if(Cy.lastIndex=Re,(n=Cy.exec(_t))!=null){if(Re=Cy.lastIndex,n[_w.Spread]!=null){rt();var r=Dr(lr);if(r!=null&&r!=="on")rt(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:r},directives:Au(!1)});else{if(rt(),r==="on"){if((r=Dr(lr))==null)throw un("NamedType");rt()}var i=Au(!1);if(_t.charCodeAt(Re++)!==123)throw un("InlineFragment");rt(),t.push({kind:"InlineFragment",typeCondition:r?{kind:"NamedType",name:{kind:"Name",value:r}}:void 0,directives:i,selectionSet:rg()})}}else if((e=n[_w.Name])!=null){var s=void 0;if(rt(),_t.charCodeAt(Re)===58){if(Re++,rt(),s=e,(e=Dr(lr))==null)throw un("Field");rt()}var o=tR(!1);rt();var a=Au(!1),l=void 0;_t.charCodeAt(Re)===123&&(Re++,rt(),l=rg()),t.push({kind:"Field",alias:s?{kind:"Name",value:s}:void 0,name:{kind:"Name",value:e},arguments:o,directives:a,selectionSet:l})}}else throw un("SelectionSet");while(_t.charCodeAt(Re)!==125);return Re++,rt(),{kind:"SelectionSet",selections:t}}function wV(){var t,e;if((t=Dr(lr))==null||(rt(),Dr(lr)!=="on")||(rt(),(e=Dr(lr))==null))throw un("FragmentDefinition");rt();var n=Au(!1);if(_t.charCodeAt(Re++)!==123)throw un("FragmentDefinition");return rt(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:n,selectionSet:rg()}}var _V=/(?:query|mutation|subscription|fragment)/y;function EV(t){var e,n,r;if(t&&(rt(),e=Dr(lr),n=function(){if(rt(),_t.charCodeAt(Re)===40){var s=[];Re++,rt();var o;do{if(_t.charCodeAt(Re++)!==36||(o=Dr(lr))==null)throw un("Variable");if(rt(),_t.charCodeAt(Re++)!==58)throw un("VariableDefinition");rt();var a=vV(),l=void 0;_t.charCodeAt(Re)===61&&(Re++,rt(),l=ng(!0)),rt(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:o}},type:a,defaultValue:l,directives:Au(!0)})}while(_t.charCodeAt(Re)!==41);return Re++,rt(),s}}(),r=Au(!1)),_t.charCodeAt(Re)===123)return Re++,rt(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:n,directives:r,selectionSet:rg()}}function bV(t,e){return _t=typeof t.body=="string"?t.body:t,Re=0,function(){var r,i;rt();var s=[];do if((r=Dr(_V))==="fragment")rt(),s.push(wV());else if((i=EV(r))!=null)s.push(i);else throw un("Document");while(Re<_t.length);return{kind:"Document",definitions:s}}()}function nR(){function t(e,n){var r=bV(e).definitions,i=new Set;for(var s of n||[])for(var o of s.definitions)o.kind===np.FRAGMENT_DEFINITION&&!i.has(o)&&(r.push(o),i.add(o));return r[0].kind===np.FRAGMENT_DEFINITION&&r[0].directives&&(r[0].directives=r[0].directives.filter(a=>a.name.value!=="_unmask")),{kind:np.DOCUMENT,definitions:r}}return t.scalar=function(n,r){return r},t.persisted=function(n,r){return{kind:np.DOCUMENT,definitions:r?r.definitions:[],documentId:n}},t}nR();const SV=nR();function TV(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(n===-1)throw new Error("Invalid base64Url character: "+t);const r=n.toString(2).padStart(6,"0");return Array.from(r).map(Number)}function IV(t){let e=[];for(let n=0;n<t.length;n++){const r=t.charAt(n),i=TV(r);e=e.concat(i)}return e}function xV(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let n=IV(t);const r=e%4;if(r!==0)if(r===1)n=n.slice(2);else if(r===2)n=n.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);const i=(e+t.length-1)%4;if(i!==3)if(i===2)n=n.slice(0,n.length-2);else if(i===1)n=n.slice(0,n.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(n.length%8!==0)throw new Error("We should never reach here...");const s=new Uint8Array(Math.floor(n.length/8));let o=0;for(let a=0;a<n.length;a+=8){const l=n.slice(a,a+8),c=parseInt(l.join(""),2);s[o++]=c}return new TextDecoder().decode(s)}function CV(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");const e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");const n=Object.keys(e)[0];return[n,e[n]]}function AV(t,e){const n=xV(t.value,t.indexMod4),[r,i]=CV(n);if(r!==e)throw new Error(`Invalid field name: found ${r} expected ${e}`);return i}const kV=L.struct("ZkLoginSignature",{inputs:L.struct("ZkLoginSignatureInputs",{proofPoints:L.struct("ZkLoginSignatureInputsProofPoints",{a:L.vector(L.string()),b:L.vector(L.vector(L.string())),c:L.vector(L.string())}),issBase64Details:L.struct("ZkLoginSignatureInputsClaim",{value:L.string(),indexMod4:L.u8()}),headerBase64:L.string(),addressSeed:L.string()}),maxEpoch:L.u64(),userSignature:L.vector(L.u8())});function RV(t){return kV.parse(typeof t=="string"?ar(t):t)}function PV(t,e){const n=t.toString(16);return Y4(n.padStart(e*2,"0").slice(-e*2))}var rR=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ay=(t,e,n)=>(rR(t,e,"read from private field"),n?n.call(t):e.get(t)),wT=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ip=(t,e,n,r)=>(rR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Gl,vf;class OV extends Xk{constructor(e,{client:n}={}){super(),wT(this,Gl,void 0),wT(this,vf,void 0),ip(this,vf,n),typeof e=="string"?ip(this,Gl,ar(e)):e instanceof Uint8Array?ip(this,Gl,e):ip(this,Gl,Uint8Array.from(e))}equals(e){return super.equals(e)}toRawBytes(){return Ay(this,Gl)}flag(){return eh.ZkLogin}async verify(e,n){throw Error("does not support")}verifyPersonalMessage(e,n){const r=Ew(n);return _T({address:r.zkLogin.address,bytes:Ft(e),signature:r.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:Ay(this,vf)})}verifyTransaction(e,n){const r=Ew(n);return _T({address:r.zkLogin.address,bytes:Ft(e),signature:r.serializedSignature,intentScope:"TRANSACTION_DATA",client:Ay(this,vf)})}}Gl=new WeakMap;vf=new WeakMap;function NV(t,e,n){const r=PV(t,32),i=new TextEncoder().encode(e),s=new Uint8Array(1+i.length+r.length);return s.set([i.length],0),s.set(i,1),s.set(r,1+i.length),new OV(s,n)}const DV=SV(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);async function _T({address:t,bytes:e,signature:n,intentScope:r,client:i=new pV({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){var o,a;const s=await i.query({query:DV,variables:{bytes:e,signature:n,intentScope:r,author:t}});return((o=s.data)==null?void 0:o.verifyZkloginSignature.success)===!0&&((a=s.data)==null?void 0:a.verifyZkloginSignature.errors.length)===0}function Ew(t){const e=typeof t=="string"?ar(t):t;if(e[0]!==eh.ZkLogin)throw new Error("Invalid signature scheme");const n=e.slice(1),{inputs:r,maxEpoch:i,userSignature:s}=RV(n),{issBase64Details:o,addressSeed:a}=r,l=AV(o,"iss"),c=NV(BigInt(a),l),f=c.toSuiAddress();return{serializedSignature:Ft(e),signatureScheme:"ZkLogin",zkLogin:{inputs:r,maxEpoch:i,userSignature:s,iss:l,address:f,addressSeed:BigInt(a)},signature:e,publicKey:c.toRawBytes()}}function MV({signature:t,signatureScheme:e,publicKey:n}){if(!n)throw new Error("`publicKey` is required");const r=n.toRawBytes(),i=new Uint8Array(1+t.length+r.length);return i.set([eh[e]]),i.set(t,1),i.set(r,1+t.length),Ft(i)}function LV(t){const e=ar(t),n=q9[e[0]];switch(n){case"MultiSig":const r=wt.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:n,multisig:r,bytes:e};case"ZkLogin":return Ew(t);case"ED25519":case"Secp256k1":case"Secp256r1":const i=H9[n],s=e.slice(1,e.length-i),o=e.slice(1+s.length);return{serializedSignature:t,signatureScheme:n,signature:s,publicKey:o,bytes:e};default:throw new Error("Unsupported signature scheme")}}class iR extends p_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,SA(e);const r=Bi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return ic(this),this.iHash.update(e),this}digestInto(e){ic(this),Xg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const o0=(t,e,n)=>new iR(t,e).update(n).digest();o0.create=(t,e)=>new iR(t,e);function $V(t,e,n,r){SA(t);const i=Z4({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(zo(s),zo(o),zo(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Bi(e),c=Bi(n),f=new Uint8Array(o),d=o0.create(t,l),h=d._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:f,PRF:d,PRFSalt:h}}function VV(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function FV(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:l}=$V(t,e,n,r);let c;const f=new Uint8Array(4),d=Np(f),h=new Uint8Array(a.outputLen);for(let g=1,y=0;y<s;g++,y+=a.outputLen){const v=o.subarray(y,y+a.outputLen);d.setInt32(0,g,!1),(c=l._cloneInto(c)).update(f).digestInto(h),v.set(h.subarray(0,v.length));for(let S=1;S<i;S++){a._cloneInto(c).update(h).digestInto(h);for(let b=0;b<v.length;b++)v[b]^=h[b]}}return VV(a,l,o,c,h)}function UV(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class jV extends p_{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Np(this.buffer)}update(e){ic(this);const{view:n,buffer:r,blockLen:i}=this;e=Bi(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Np(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ic(this),TA(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;UV(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Np(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,f[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const[BV,zV]=(()=>ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),so=new Uint32Array(80),oo=new Uint32Array(80);class WV extends jV{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:f,Fh:d,Fl:h,Gh:g,Gl:y,Hh:v,Hl:S}=this;return[e,n,r,i,s,o,a,l,c,f,d,h,g,y,v,S]}set(e,n,r,i,s,o,a,l,c,f,d,h,g,y,v,S){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=f|0,this.Fh=d|0,this.Fl=h|0,this.Gh=g|0,this.Gl=y|0,this.Hh=v|0,this.Hl=S|0}process(e,n){for(let T=0;T<16;T++,n+=4)so[T]=e.getUint32(n),oo[T]=e.getUint32(n+=4);for(let T=16;T<80;T++){const N=so[T-15]|0,F=oo[T-15]|0,j=ke.rotrSH(N,F,1)^ke.rotrSH(N,F,8)^ke.shrSH(N,F,7),A=ke.rotrSL(N,F,1)^ke.rotrSL(N,F,8)^ke.shrSL(N,F,7),I=so[T-2]|0,R=oo[T-2]|0,D=ke.rotrSH(I,R,19)^ke.rotrBH(I,R,61)^ke.shrSH(I,R,6),V=ke.rotrSL(I,R,19)^ke.rotrBL(I,R,61)^ke.shrSL(I,R,6),U=ke.add4L(A,V,oo[T-7],oo[T-16]),M=ke.add4H(U,j,D,so[T-7],so[T-16]);so[T]=M|0,oo[T]=U|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:f,Eh:d,El:h,Fh:g,Fl:y,Gh:v,Gl:S,Hh:b,Hl:w}=this;for(let T=0;T<80;T++){const N=ke.rotrSH(d,h,14)^ke.rotrSH(d,h,18)^ke.rotrBH(d,h,41),F=ke.rotrSL(d,h,14)^ke.rotrSL(d,h,18)^ke.rotrBL(d,h,41),j=d&g^~d&v,A=h&y^~h&S,I=ke.add5L(w,F,A,zV[T],oo[T]),R=ke.add5H(I,b,N,j,BV[T],so[T]),D=I|0,V=ke.rotrSH(r,i,28)^ke.rotrBH(r,i,34)^ke.rotrBH(r,i,39),U=ke.rotrSL(r,i,28)^ke.rotrBL(r,i,34)^ke.rotrBL(r,i,39),M=r&s^r&a^s&a,xe=i&o^i&l^o&l;b=v|0,w=S|0,v=g|0,S=y|0,g=d|0,y=h|0,{h:d,l:h}=ke.add(c|0,f|0,R|0,D|0),c=a|0,f=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const Ne=ke.add3L(D,U,xe);r=ke.add3H(Ne,R,V,M),i=Ne|0}({h:r,l:i}=ke.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ke.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=ke.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:f}=ke.add(this.Dh|0,this.Dl|0,c|0,f|0),{h:d,l:h}=ke.add(this.Eh|0,this.El|0,d|0,h|0),{h:g,l:y}=ke.add(this.Fh|0,this.Fl|0,g|0,y|0),{h:v,l:S}=ke.add(this.Gh|0,this.Gl|0,v|0,S|0),{h:b,l:w}=ke.add(this.Hh|0,this.Hl|0,b|0,w|0),this.set(r,i,s,o,a,l,c,f,d,h,g,y,v,S,b,w)}roundClean(){so.fill(0),oo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $_=eM(()=>new WV);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function sR(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function HV(t){const e=sR(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}const qV=t=>sR(`mnemonic${t}`);function GV(t,e=""){return FV($_,HV(t).nfkd,qV(e),{c:2048,dkLen:64})}function ET(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function KV(t){return GV(t,"")}function QV(t){return rc(KV(t))}var md={};Object.defineProperty(md,"__esModule",{value:!0});md.bech32m=bw=md.bech32=void 0;const ig="qpzry9x8gf2tvdw0s3jn54khce6mua7l",oR={};for(let t=0;t<ig.length;t++){const e=ig.charAt(t);oR[e]=t}function ku(t){const e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function bT(t){let e=1;for(let n=0;n<t.length;++n){const r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=ku(e)^r>>5}e=ku(e);for(let n=0;n<t.length;++n){const r=t.charCodeAt(n);e=ku(e)^r&31}return e}function V_(t,e,n,r){let i=0,s=0;const o=(1<<n)-1,a=[];for(let l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=e)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function YV(t){return V_(t,8,5,!0)}function XV(t){const e=V_(t,5,8,!1);if(Array.isArray(e))return e}function JV(t){const e=V_(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function aR(t){let e;t==="bech32"?e=1:e=734539939;function n(o,a,l){if(l=l||90,o.length+7+a.length>l)throw new TypeError("Exceeds length limit");o=o.toLowerCase();let c=bT(o);if(typeof c=="string")throw new Error(c);let f=o+"1";for(let d=0;d<a.length;++d){const h=a[d];if(h>>5)throw new Error("Non 5-bit word");c=ku(c)^h,f+=ig.charAt(h)}for(let d=0;d<6;++d)c=ku(c);c^=e;for(let d=0;d<6;++d){const h=c>>(5-d)*5&31;f+=ig.charAt(h)}return f}function r(o,a){if(a=a||90,o.length<8)return o+" too short";if(o.length>a)return"Exceeds length limit";const l=o.toLowerCase(),c=o.toUpperCase();if(o!==l&&o!==c)return"Mixed-case string "+o;o=l;const f=o.lastIndexOf("1");if(f===-1)return"No separator character for "+o;if(f===0)return"Missing prefix for "+o;const d=o.slice(0,f),h=o.slice(f+1);if(h.length<6)return"Data too short";let g=bT(d);if(typeof g=="string")return g;const y=[];for(let v=0;v<h.length;++v){const S=h.charAt(v),b=oR[S];if(b===void 0)return"Unknown character "+S;g=ku(g)^b,!(v+6>=h.length)&&y.push(b)}return g!==e?"Invalid checksum for "+o:{prefix:d,words:y}}function i(o,a){const l=r(o,a);if(typeof l=="object")return l}function s(o,a){const l=r(o,a);if(typeof l=="object")return l;throw new Error(l)}return{decodeUnsafe:i,decode:s,encode:n,toWords:YV,fromWordsUnsafe:XV,fromWords:JV}}var bw=md.bech32=aR("bech32");md.bech32m=aR("bech32m");const em=32,ZV="suiprivkey";class eF{async signWithIntent(e,n){const r=Qk(n,e),i=qm(r,{dkLen:32});return{signature:MV({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Ft(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){const{signature:n}=await this.signWithIntent(L.vector(L.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Ft(e),signature:n}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class tF extends eF{}function nF(t,e){if(t.length!==em)throw new Error("Invalid bytes length");const n=eh[e],r=new Uint8Array(t.length+1);return r.set([n]),r.set(t,1),bw.encode(ZV,bw.toWords(r))}function rF(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lR={exports:{}};const iF={},sF=Object.freeze(Object.defineProperty({__proto__:null,default:iF},Symbol.toStringTag,{value:"Module"})),oF=I3(sF);(function(t){(function(e){var n=function(E){var k,C=new Float64Array(16);if(E)for(k=0;k<E.length;k++)C[k]=E[k];return C},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),l=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(E,k,C,p){E[k]=C>>24&255,E[k+1]=C>>16&255,E[k+2]=C>>8&255,E[k+3]=C&255,E[k+4]=p>>24&255,E[k+5]=p>>16&255,E[k+6]=p>>8&255,E[k+7]=p&255}function v(E,k,C,p,O){var z,H=0;for(z=0;z<O;z++)H|=E[k+z]^C[p+z];return(1&H-1>>>8)-1}function S(E,k,C,p){return v(E,k,C,p,16)}function b(E,k,C,p){return v(E,k,C,p,32)}function w(E,k,C,p){for(var O=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,z=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,H=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,Y=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,se=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,we=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,le=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,nt=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,pe=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,$e=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Ve=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,ze=C[16]&255|(C[17]&255)<<8|(C[18]&255)<<16|(C[19]&255)<<24,We=C[20]&255|(C[21]&255)<<8|(C[22]&255)<<16|(C[23]&255)<<24,Fe=C[24]&255|(C[25]&255)<<8|(C[26]&255)<<16|(C[27]&255)<<24,je=C[28]&255|(C[29]&255)<<8|(C[30]&255)<<16|(C[31]&255)<<24,Le=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,me=O,Te=z,ue=H,he=Y,ye=se,ce=we,G=le,K=nt,te=pe,X=$e,J=Ve,re=ze,Ae=We,Qe=Fe,Xe=je,Ge=Le,$,it=0;it<20;it+=2)$=me+Ae|0,ye^=$<<7|$>>>32-7,$=ye+me|0,te^=$<<9|$>>>32-9,$=te+ye|0,Ae^=$<<13|$>>>32-13,$=Ae+te|0,me^=$<<18|$>>>32-18,$=ce+Te|0,X^=$<<7|$>>>32-7,$=X+ce|0,Qe^=$<<9|$>>>32-9,$=Qe+X|0,Te^=$<<13|$>>>32-13,$=Te+Qe|0,ce^=$<<18|$>>>32-18,$=J+G|0,Xe^=$<<7|$>>>32-7,$=Xe+J|0,ue^=$<<9|$>>>32-9,$=ue+Xe|0,G^=$<<13|$>>>32-13,$=G+ue|0,J^=$<<18|$>>>32-18,$=Ge+re|0,he^=$<<7|$>>>32-7,$=he+Ge|0,K^=$<<9|$>>>32-9,$=K+he|0,re^=$<<13|$>>>32-13,$=re+K|0,Ge^=$<<18|$>>>32-18,$=me+he|0,Te^=$<<7|$>>>32-7,$=Te+me|0,ue^=$<<9|$>>>32-9,$=ue+Te|0,he^=$<<13|$>>>32-13,$=he+ue|0,me^=$<<18|$>>>32-18,$=ce+ye|0,G^=$<<7|$>>>32-7,$=G+ce|0,K^=$<<9|$>>>32-9,$=K+G|0,ye^=$<<13|$>>>32-13,$=ye+K|0,ce^=$<<18|$>>>32-18,$=J+X|0,re^=$<<7|$>>>32-7,$=re+J|0,te^=$<<9|$>>>32-9,$=te+re|0,X^=$<<13|$>>>32-13,$=X+te|0,J^=$<<18|$>>>32-18,$=Ge+Xe|0,Ae^=$<<7|$>>>32-7,$=Ae+Ge|0,Qe^=$<<9|$>>>32-9,$=Qe+Ae|0,Xe^=$<<13|$>>>32-13,$=Xe+Qe|0,Ge^=$<<18|$>>>32-18;me=me+O|0,Te=Te+z|0,ue=ue+H|0,he=he+Y|0,ye=ye+se|0,ce=ce+we|0,G=G+le|0,K=K+nt|0,te=te+pe|0,X=X+$e|0,J=J+Ve|0,re=re+ze|0,Ae=Ae+We|0,Qe=Qe+Fe|0,Xe=Xe+je|0,Ge=Ge+Le|0,E[0]=me>>>0&255,E[1]=me>>>8&255,E[2]=me>>>16&255,E[3]=me>>>24&255,E[4]=Te>>>0&255,E[5]=Te>>>8&255,E[6]=Te>>>16&255,E[7]=Te>>>24&255,E[8]=ue>>>0&255,E[9]=ue>>>8&255,E[10]=ue>>>16&255,E[11]=ue>>>24&255,E[12]=he>>>0&255,E[13]=he>>>8&255,E[14]=he>>>16&255,E[15]=he>>>24&255,E[16]=ye>>>0&255,E[17]=ye>>>8&255,E[18]=ye>>>16&255,E[19]=ye>>>24&255,E[20]=ce>>>0&255,E[21]=ce>>>8&255,E[22]=ce>>>16&255,E[23]=ce>>>24&255,E[24]=G>>>0&255,E[25]=G>>>8&255,E[26]=G>>>16&255,E[27]=G>>>24&255,E[28]=K>>>0&255,E[29]=K>>>8&255,E[30]=K>>>16&255,E[31]=K>>>24&255,E[32]=te>>>0&255,E[33]=te>>>8&255,E[34]=te>>>16&255,E[35]=te>>>24&255,E[36]=X>>>0&255,E[37]=X>>>8&255,E[38]=X>>>16&255,E[39]=X>>>24&255,E[40]=J>>>0&255,E[41]=J>>>8&255,E[42]=J>>>16&255,E[43]=J>>>24&255,E[44]=re>>>0&255,E[45]=re>>>8&255,E[46]=re>>>16&255,E[47]=re>>>24&255,E[48]=Ae>>>0&255,E[49]=Ae>>>8&255,E[50]=Ae>>>16&255,E[51]=Ae>>>24&255,E[52]=Qe>>>0&255,E[53]=Qe>>>8&255,E[54]=Qe>>>16&255,E[55]=Qe>>>24&255,E[56]=Xe>>>0&255,E[57]=Xe>>>8&255,E[58]=Xe>>>16&255,E[59]=Xe>>>24&255,E[60]=Ge>>>0&255,E[61]=Ge>>>8&255,E[62]=Ge>>>16&255,E[63]=Ge>>>24&255}function T(E,k,C,p){for(var O=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,z=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,H=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,Y=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,se=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,we=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,le=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,nt=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,pe=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,$e=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Ve=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,ze=C[16]&255|(C[17]&255)<<8|(C[18]&255)<<16|(C[19]&255)<<24,We=C[20]&255|(C[21]&255)<<8|(C[22]&255)<<16|(C[23]&255)<<24,Fe=C[24]&255|(C[25]&255)<<8|(C[26]&255)<<16|(C[27]&255)<<24,je=C[28]&255|(C[29]&255)<<8|(C[30]&255)<<16|(C[31]&255)<<24,Le=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,me=O,Te=z,ue=H,he=Y,ye=se,ce=we,G=le,K=nt,te=pe,X=$e,J=Ve,re=ze,Ae=We,Qe=Fe,Xe=je,Ge=Le,$,it=0;it<20;it+=2)$=me+Ae|0,ye^=$<<7|$>>>32-7,$=ye+me|0,te^=$<<9|$>>>32-9,$=te+ye|0,Ae^=$<<13|$>>>32-13,$=Ae+te|0,me^=$<<18|$>>>32-18,$=ce+Te|0,X^=$<<7|$>>>32-7,$=X+ce|0,Qe^=$<<9|$>>>32-9,$=Qe+X|0,Te^=$<<13|$>>>32-13,$=Te+Qe|0,ce^=$<<18|$>>>32-18,$=J+G|0,Xe^=$<<7|$>>>32-7,$=Xe+J|0,ue^=$<<9|$>>>32-9,$=ue+Xe|0,G^=$<<13|$>>>32-13,$=G+ue|0,J^=$<<18|$>>>32-18,$=Ge+re|0,he^=$<<7|$>>>32-7,$=he+Ge|0,K^=$<<9|$>>>32-9,$=K+he|0,re^=$<<13|$>>>32-13,$=re+K|0,Ge^=$<<18|$>>>32-18,$=me+he|0,Te^=$<<7|$>>>32-7,$=Te+me|0,ue^=$<<9|$>>>32-9,$=ue+Te|0,he^=$<<13|$>>>32-13,$=he+ue|0,me^=$<<18|$>>>32-18,$=ce+ye|0,G^=$<<7|$>>>32-7,$=G+ce|0,K^=$<<9|$>>>32-9,$=K+G|0,ye^=$<<13|$>>>32-13,$=ye+K|0,ce^=$<<18|$>>>32-18,$=J+X|0,re^=$<<7|$>>>32-7,$=re+J|0,te^=$<<9|$>>>32-9,$=te+re|0,X^=$<<13|$>>>32-13,$=X+te|0,J^=$<<18|$>>>32-18,$=Ge+Xe|0,Ae^=$<<7|$>>>32-7,$=Ae+Ge|0,Qe^=$<<9|$>>>32-9,$=Qe+Ae|0,Xe^=$<<13|$>>>32-13,$=Xe+Qe|0,Ge^=$<<18|$>>>32-18;E[0]=me>>>0&255,E[1]=me>>>8&255,E[2]=me>>>16&255,E[3]=me>>>24&255,E[4]=ce>>>0&255,E[5]=ce>>>8&255,E[6]=ce>>>16&255,E[7]=ce>>>24&255,E[8]=J>>>0&255,E[9]=J>>>8&255,E[10]=J>>>16&255,E[11]=J>>>24&255,E[12]=Ge>>>0&255,E[13]=Ge>>>8&255,E[14]=Ge>>>16&255,E[15]=Ge>>>24&255,E[16]=G>>>0&255,E[17]=G>>>8&255,E[18]=G>>>16&255,E[19]=G>>>24&255,E[20]=K>>>0&255,E[21]=K>>>8&255,E[22]=K>>>16&255,E[23]=K>>>24&255,E[24]=te>>>0&255,E[25]=te>>>8&255,E[26]=te>>>16&255,E[27]=te>>>24&255,E[28]=X>>>0&255,E[29]=X>>>8&255,E[30]=X>>>16&255,E[31]=X>>>24&255}function N(E,k,C,p){w(E,k,C,p)}function F(E,k,C,p){T(E,k,C,p)}var j=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function A(E,k,C,p,O,z,H){var Y=new Uint8Array(16),se=new Uint8Array(64),we,le;for(le=0;le<16;le++)Y[le]=0;for(le=0;le<8;le++)Y[le]=z[le];for(;O>=64;){for(N(se,Y,H,j),le=0;le<64;le++)E[k+le]=C[p+le]^se[le];for(we=1,le=8;le<16;le++)we=we+(Y[le]&255)|0,Y[le]=we&255,we>>>=8;O-=64,k+=64,p+=64}if(O>0)for(N(se,Y,H,j),le=0;le<O;le++)E[k+le]=C[p+le]^se[le];return 0}function I(E,k,C,p,O){var z=new Uint8Array(16),H=new Uint8Array(64),Y,se;for(se=0;se<16;se++)z[se]=0;for(se=0;se<8;se++)z[se]=p[se];for(;C>=64;){for(N(H,z,O,j),se=0;se<64;se++)E[k+se]=H[se];for(Y=1,se=8;se<16;se++)Y=Y+(z[se]&255)|0,z[se]=Y&255,Y>>>=8;C-=64,k+=64}if(C>0)for(N(H,z,O,j),se=0;se<C;se++)E[k+se]=H[se];return 0}function R(E,k,C,p,O){var z=new Uint8Array(32);F(z,p,O,j);for(var H=new Uint8Array(8),Y=0;Y<8;Y++)H[Y]=p[Y+16];return I(E,k,C,H,z)}function D(E,k,C,p,O,z,H){var Y=new Uint8Array(32);F(Y,z,H,j);for(var se=new Uint8Array(8),we=0;we<8;we++)se[we]=z[we+16];return A(E,k,C,p,O,se,Y)}var V=function(E){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var k,C,p,O,z,H,Y,se;k=E[0]&255|(E[1]&255)<<8,this.r[0]=k&8191,C=E[2]&255|(E[3]&255)<<8,this.r[1]=(k>>>13|C<<3)&8191,p=E[4]&255|(E[5]&255)<<8,this.r[2]=(C>>>10|p<<6)&7939,O=E[6]&255|(E[7]&255)<<8,this.r[3]=(p>>>7|O<<9)&8191,z=E[8]&255|(E[9]&255)<<8,this.r[4]=(O>>>4|z<<12)&255,this.r[5]=z>>>1&8190,H=E[10]&255|(E[11]&255)<<8,this.r[6]=(z>>>14|H<<2)&8191,Y=E[12]&255|(E[13]&255)<<8,this.r[7]=(H>>>11|Y<<5)&8065,se=E[14]&255|(E[15]&255)<<8,this.r[8]=(Y>>>8|se<<8)&8191,this.r[9]=se>>>5&127,this.pad[0]=E[16]&255|(E[17]&255)<<8,this.pad[1]=E[18]&255|(E[19]&255)<<8,this.pad[2]=E[20]&255|(E[21]&255)<<8,this.pad[3]=E[22]&255|(E[23]&255)<<8,this.pad[4]=E[24]&255|(E[25]&255)<<8,this.pad[5]=E[26]&255|(E[27]&255)<<8,this.pad[6]=E[28]&255|(E[29]&255)<<8,this.pad[7]=E[30]&255|(E[31]&255)<<8};V.prototype.blocks=function(E,k,C){for(var p=this.fin?0:2048,O,z,H,Y,se,we,le,nt,pe,$e,Ve,ze,We,Fe,je,Le,me,Te,ue,he=this.h[0],ye=this.h[1],ce=this.h[2],G=this.h[3],K=this.h[4],te=this.h[5],X=this.h[6],J=this.h[7],re=this.h[8],Ae=this.h[9],Qe=this.r[0],Xe=this.r[1],Ge=this.r[2],$=this.r[3],it=this.r[4],st=this.r[5],Je=this.r[6],Ke=this.r[7],ft=this.r[8],dt=this.r[9];C>=16;)O=E[k+0]&255|(E[k+1]&255)<<8,he+=O&8191,z=E[k+2]&255|(E[k+3]&255)<<8,ye+=(O>>>13|z<<3)&8191,H=E[k+4]&255|(E[k+5]&255)<<8,ce+=(z>>>10|H<<6)&8191,Y=E[k+6]&255|(E[k+7]&255)<<8,G+=(H>>>7|Y<<9)&8191,se=E[k+8]&255|(E[k+9]&255)<<8,K+=(Y>>>4|se<<12)&8191,te+=se>>>1&8191,we=E[k+10]&255|(E[k+11]&255)<<8,X+=(se>>>14|we<<2)&8191,le=E[k+12]&255|(E[k+13]&255)<<8,J+=(we>>>11|le<<5)&8191,nt=E[k+14]&255|(E[k+15]&255)<<8,re+=(le>>>8|nt<<8)&8191,Ae+=nt>>>5|p,pe=0,$e=pe,$e+=he*Qe,$e+=ye*(5*dt),$e+=ce*(5*ft),$e+=G*(5*Ke),$e+=K*(5*Je),pe=$e>>>13,$e&=8191,$e+=te*(5*st),$e+=X*(5*it),$e+=J*(5*$),$e+=re*(5*Ge),$e+=Ae*(5*Xe),pe+=$e>>>13,$e&=8191,Ve=pe,Ve+=he*Xe,Ve+=ye*Qe,Ve+=ce*(5*dt),Ve+=G*(5*ft),Ve+=K*(5*Ke),pe=Ve>>>13,Ve&=8191,Ve+=te*(5*Je),Ve+=X*(5*st),Ve+=J*(5*it),Ve+=re*(5*$),Ve+=Ae*(5*Ge),pe+=Ve>>>13,Ve&=8191,ze=pe,ze+=he*Ge,ze+=ye*Xe,ze+=ce*Qe,ze+=G*(5*dt),ze+=K*(5*ft),pe=ze>>>13,ze&=8191,ze+=te*(5*Ke),ze+=X*(5*Je),ze+=J*(5*st),ze+=re*(5*it),ze+=Ae*(5*$),pe+=ze>>>13,ze&=8191,We=pe,We+=he*$,We+=ye*Ge,We+=ce*Xe,We+=G*Qe,We+=K*(5*dt),pe=We>>>13,We&=8191,We+=te*(5*ft),We+=X*(5*Ke),We+=J*(5*Je),We+=re*(5*st),We+=Ae*(5*it),pe+=We>>>13,We&=8191,Fe=pe,Fe+=he*it,Fe+=ye*$,Fe+=ce*Ge,Fe+=G*Xe,Fe+=K*Qe,pe=Fe>>>13,Fe&=8191,Fe+=te*(5*dt),Fe+=X*(5*ft),Fe+=J*(5*Ke),Fe+=re*(5*Je),Fe+=Ae*(5*st),pe+=Fe>>>13,Fe&=8191,je=pe,je+=he*st,je+=ye*it,je+=ce*$,je+=G*Ge,je+=K*Xe,pe=je>>>13,je&=8191,je+=te*Qe,je+=X*(5*dt),je+=J*(5*ft),je+=re*(5*Ke),je+=Ae*(5*Je),pe+=je>>>13,je&=8191,Le=pe,Le+=he*Je,Le+=ye*st,Le+=ce*it,Le+=G*$,Le+=K*Ge,pe=Le>>>13,Le&=8191,Le+=te*Xe,Le+=X*Qe,Le+=J*(5*dt),Le+=re*(5*ft),Le+=Ae*(5*Ke),pe+=Le>>>13,Le&=8191,me=pe,me+=he*Ke,me+=ye*Je,me+=ce*st,me+=G*it,me+=K*$,pe=me>>>13,me&=8191,me+=te*Ge,me+=X*Xe,me+=J*Qe,me+=re*(5*dt),me+=Ae*(5*ft),pe+=me>>>13,me&=8191,Te=pe,Te+=he*ft,Te+=ye*Ke,Te+=ce*Je,Te+=G*st,Te+=K*it,pe=Te>>>13,Te&=8191,Te+=te*$,Te+=X*Ge,Te+=J*Xe,Te+=re*Qe,Te+=Ae*(5*dt),pe+=Te>>>13,Te&=8191,ue=pe,ue+=he*dt,ue+=ye*ft,ue+=ce*Ke,ue+=G*Je,ue+=K*st,pe=ue>>>13,ue&=8191,ue+=te*it,ue+=X*$,ue+=J*Ge,ue+=re*Xe,ue+=Ae*Qe,pe+=ue>>>13,ue&=8191,pe=(pe<<2)+pe|0,pe=pe+$e|0,$e=pe&8191,pe=pe>>>13,Ve+=pe,he=$e,ye=Ve,ce=ze,G=We,K=Fe,te=je,X=Le,J=me,re=Te,Ae=ue,k+=16,C-=16;this.h[0]=he,this.h[1]=ye,this.h[2]=ce,this.h[3]=G,this.h[4]=K,this.h[5]=te,this.h[6]=X,this.h[7]=J,this.h[8]=re,this.h[9]=Ae},V.prototype.finish=function(E,k){var C=new Uint16Array(10),p,O,z,H;if(this.leftover){for(H=this.leftover,this.buffer[H++]=1;H<16;H++)this.buffer[H]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(p=this.h[1]>>>13,this.h[1]&=8191,H=2;H<10;H++)this.h[H]+=p,p=this.h[H]>>>13,this.h[H]&=8191;for(this.h[0]+=p*5,p=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=p,p=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=p,C[0]=this.h[0]+5,p=C[0]>>>13,C[0]&=8191,H=1;H<10;H++)C[H]=this.h[H]+p,p=C[H]>>>13,C[H]&=8191;for(C[9]-=8192,O=(p^1)-1,H=0;H<10;H++)C[H]&=O;for(O=~O,H=0;H<10;H++)this.h[H]=this.h[H]&O|C[H];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,z=this.h[0]+this.pad[0],this.h[0]=z&65535,H=1;H<8;H++)z=(this.h[H]+this.pad[H]|0)+(z>>>16)|0,this.h[H]=z&65535;E[k+0]=this.h[0]>>>0&255,E[k+1]=this.h[0]>>>8&255,E[k+2]=this.h[1]>>>0&255,E[k+3]=this.h[1]>>>8&255,E[k+4]=this.h[2]>>>0&255,E[k+5]=this.h[2]>>>8&255,E[k+6]=this.h[3]>>>0&255,E[k+7]=this.h[3]>>>8&255,E[k+8]=this.h[4]>>>0&255,E[k+9]=this.h[4]>>>8&255,E[k+10]=this.h[5]>>>0&255,E[k+11]=this.h[5]>>>8&255,E[k+12]=this.h[6]>>>0&255,E[k+13]=this.h[6]>>>8&255,E[k+14]=this.h[7]>>>0&255,E[k+15]=this.h[7]>>>8&255},V.prototype.update=function(E,k,C){var p,O;if(this.leftover){for(O=16-this.leftover,O>C&&(O=C),p=0;p<O;p++)this.buffer[this.leftover+p]=E[k+p];if(C-=O,k+=O,this.leftover+=O,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(C>=16&&(O=C-C%16,this.blocks(E,k,O),k+=O,C-=O),C){for(p=0;p<C;p++)this.buffer[this.leftover+p]=E[k+p];this.leftover+=C}};function U(E,k,C,p,O,z){var H=new V(z);return H.update(C,p,O),H.finish(E,k),0}function M(E,k,C,p,O,z){var H=new Uint8Array(16);return U(H,0,C,p,O,z),S(E,k,H,0)}function xe(E,k,C,p,O){var z;if(C<32)return-1;for(D(E,0,k,0,C,p,O),U(E,16,E,32,C-32,E),z=0;z<16;z++)E[z]=0;return 0}function Ne(E,k,C,p,O){var z,H=new Uint8Array(32);if(C<32||(R(H,0,32,p,O),M(k,16,k,32,C-32,H)!==0))return-1;for(D(E,0,k,0,C,p,O),z=0;z<32;z++)E[z]=0;return 0}function ut(E,k){var C;for(C=0;C<16;C++)E[C]=k[C]|0}function Oe(E){var k,C,p=1;for(k=0;k<16;k++)C=E[k]+p+65535,p=Math.floor(C/65536),E[k]=C-p*65536;E[0]+=p-1+37*(p-1)}function ne(E,k,C){for(var p,O=~(C-1),z=0;z<16;z++)p=O&(E[z]^k[z]),E[z]^=p,k[z]^=p}function Z(E,k){var C,p,O,z=n(),H=n();for(C=0;C<16;C++)H[C]=k[C];for(Oe(H),Oe(H),Oe(H),p=0;p<2;p++){for(z[0]=H[0]-65517,C=1;C<15;C++)z[C]=H[C]-65535-(z[C-1]>>16&1),z[C-1]&=65535;z[15]=H[15]-32767-(z[14]>>16&1),O=z[15]>>16&1,z[14]&=65535,ne(H,z,1-O)}for(C=0;C<16;C++)E[2*C]=H[C]&255,E[2*C+1]=H[C]>>8}function de(E,k){var C=new Uint8Array(32),p=new Uint8Array(32);return Z(C,E),Z(p,k),b(C,0,p,0)}function Me(E){var k=new Uint8Array(32);return Z(k,E),k[0]&1}function De(E,k){var C;for(C=0;C<16;C++)E[C]=k[2*C]+(k[2*C+1]<<8);E[15]&=32767}function Ce(E,k,C){for(var p=0;p<16;p++)E[p]=k[p]+C[p]}function ct(E,k,C){for(var p=0;p<16;p++)E[p]=k[p]-C[p]}function _e(E,k,C){var p,O,z=0,H=0,Y=0,se=0,we=0,le=0,nt=0,pe=0,$e=0,Ve=0,ze=0,We=0,Fe=0,je=0,Le=0,me=0,Te=0,ue=0,he=0,ye=0,ce=0,G=0,K=0,te=0,X=0,J=0,re=0,Ae=0,Qe=0,Xe=0,Ge=0,$=C[0],it=C[1],st=C[2],Je=C[3],Ke=C[4],ft=C[5],dt=C[6],Be=C[7],yt=C[8],Nt=C[9],Dt=C[10],Wt=C[11],Zt=C[12],Sn=C[13],Tn=C[14],In=C[15];p=k[0],z+=p*$,H+=p*it,Y+=p*st,se+=p*Je,we+=p*Ke,le+=p*ft,nt+=p*dt,pe+=p*Be,$e+=p*yt,Ve+=p*Nt,ze+=p*Dt,We+=p*Wt,Fe+=p*Zt,je+=p*Sn,Le+=p*Tn,me+=p*In,p=k[1],H+=p*$,Y+=p*it,se+=p*st,we+=p*Je,le+=p*Ke,nt+=p*ft,pe+=p*dt,$e+=p*Be,Ve+=p*yt,ze+=p*Nt,We+=p*Dt,Fe+=p*Wt,je+=p*Zt,Le+=p*Sn,me+=p*Tn,Te+=p*In,p=k[2],Y+=p*$,se+=p*it,we+=p*st,le+=p*Je,nt+=p*Ke,pe+=p*ft,$e+=p*dt,Ve+=p*Be,ze+=p*yt,We+=p*Nt,Fe+=p*Dt,je+=p*Wt,Le+=p*Zt,me+=p*Sn,Te+=p*Tn,ue+=p*In,p=k[3],se+=p*$,we+=p*it,le+=p*st,nt+=p*Je,pe+=p*Ke,$e+=p*ft,Ve+=p*dt,ze+=p*Be,We+=p*yt,Fe+=p*Nt,je+=p*Dt,Le+=p*Wt,me+=p*Zt,Te+=p*Sn,ue+=p*Tn,he+=p*In,p=k[4],we+=p*$,le+=p*it,nt+=p*st,pe+=p*Je,$e+=p*Ke,Ve+=p*ft,ze+=p*dt,We+=p*Be,Fe+=p*yt,je+=p*Nt,Le+=p*Dt,me+=p*Wt,Te+=p*Zt,ue+=p*Sn,he+=p*Tn,ye+=p*In,p=k[5],le+=p*$,nt+=p*it,pe+=p*st,$e+=p*Je,Ve+=p*Ke,ze+=p*ft,We+=p*dt,Fe+=p*Be,je+=p*yt,Le+=p*Nt,me+=p*Dt,Te+=p*Wt,ue+=p*Zt,he+=p*Sn,ye+=p*Tn,ce+=p*In,p=k[6],nt+=p*$,pe+=p*it,$e+=p*st,Ve+=p*Je,ze+=p*Ke,We+=p*ft,Fe+=p*dt,je+=p*Be,Le+=p*yt,me+=p*Nt,Te+=p*Dt,ue+=p*Wt,he+=p*Zt,ye+=p*Sn,ce+=p*Tn,G+=p*In,p=k[7],pe+=p*$,$e+=p*it,Ve+=p*st,ze+=p*Je,We+=p*Ke,Fe+=p*ft,je+=p*dt,Le+=p*Be,me+=p*yt,Te+=p*Nt,ue+=p*Dt,he+=p*Wt,ye+=p*Zt,ce+=p*Sn,G+=p*Tn,K+=p*In,p=k[8],$e+=p*$,Ve+=p*it,ze+=p*st,We+=p*Je,Fe+=p*Ke,je+=p*ft,Le+=p*dt,me+=p*Be,Te+=p*yt,ue+=p*Nt,he+=p*Dt,ye+=p*Wt,ce+=p*Zt,G+=p*Sn,K+=p*Tn,te+=p*In,p=k[9],Ve+=p*$,ze+=p*it,We+=p*st,Fe+=p*Je,je+=p*Ke,Le+=p*ft,me+=p*dt,Te+=p*Be,ue+=p*yt,he+=p*Nt,ye+=p*Dt,ce+=p*Wt,G+=p*Zt,K+=p*Sn,te+=p*Tn,X+=p*In,p=k[10],ze+=p*$,We+=p*it,Fe+=p*st,je+=p*Je,Le+=p*Ke,me+=p*ft,Te+=p*dt,ue+=p*Be,he+=p*yt,ye+=p*Nt,ce+=p*Dt,G+=p*Wt,K+=p*Zt,te+=p*Sn,X+=p*Tn,J+=p*In,p=k[11],We+=p*$,Fe+=p*it,je+=p*st,Le+=p*Je,me+=p*Ke,Te+=p*ft,ue+=p*dt,he+=p*Be,ye+=p*yt,ce+=p*Nt,G+=p*Dt,K+=p*Wt,te+=p*Zt,X+=p*Sn,J+=p*Tn,re+=p*In,p=k[12],Fe+=p*$,je+=p*it,Le+=p*st,me+=p*Je,Te+=p*Ke,ue+=p*ft,he+=p*dt,ye+=p*Be,ce+=p*yt,G+=p*Nt,K+=p*Dt,te+=p*Wt,X+=p*Zt,J+=p*Sn,re+=p*Tn,Ae+=p*In,p=k[13],je+=p*$,Le+=p*it,me+=p*st,Te+=p*Je,ue+=p*Ke,he+=p*ft,ye+=p*dt,ce+=p*Be,G+=p*yt,K+=p*Nt,te+=p*Dt,X+=p*Wt,J+=p*Zt,re+=p*Sn,Ae+=p*Tn,Qe+=p*In,p=k[14],Le+=p*$,me+=p*it,Te+=p*st,ue+=p*Je,he+=p*Ke,ye+=p*ft,ce+=p*dt,G+=p*Be,K+=p*yt,te+=p*Nt,X+=p*Dt,J+=p*Wt,re+=p*Zt,Ae+=p*Sn,Qe+=p*Tn,Xe+=p*In,p=k[15],me+=p*$,Te+=p*it,ue+=p*st,he+=p*Je,ye+=p*Ke,ce+=p*ft,G+=p*dt,K+=p*Be,te+=p*yt,X+=p*Nt,J+=p*Dt,re+=p*Wt,Ae+=p*Zt,Qe+=p*Sn,Xe+=p*Tn,Ge+=p*In,z+=38*Te,H+=38*ue,Y+=38*he,se+=38*ye,we+=38*ce,le+=38*G,nt+=38*K,pe+=38*te,$e+=38*X,Ve+=38*J,ze+=38*re,We+=38*Ae,Fe+=38*Qe,je+=38*Xe,Le+=38*Ge,O=1,p=z+O+65535,O=Math.floor(p/65536),z=p-O*65536,p=H+O+65535,O=Math.floor(p/65536),H=p-O*65536,p=Y+O+65535,O=Math.floor(p/65536),Y=p-O*65536,p=se+O+65535,O=Math.floor(p/65536),se=p-O*65536,p=we+O+65535,O=Math.floor(p/65536),we=p-O*65536,p=le+O+65535,O=Math.floor(p/65536),le=p-O*65536,p=nt+O+65535,O=Math.floor(p/65536),nt=p-O*65536,p=pe+O+65535,O=Math.floor(p/65536),pe=p-O*65536,p=$e+O+65535,O=Math.floor(p/65536),$e=p-O*65536,p=Ve+O+65535,O=Math.floor(p/65536),Ve=p-O*65536,p=ze+O+65535,O=Math.floor(p/65536),ze=p-O*65536,p=We+O+65535,O=Math.floor(p/65536),We=p-O*65536,p=Fe+O+65535,O=Math.floor(p/65536),Fe=p-O*65536,p=je+O+65535,O=Math.floor(p/65536),je=p-O*65536,p=Le+O+65535,O=Math.floor(p/65536),Le=p-O*65536,p=me+O+65535,O=Math.floor(p/65536),me=p-O*65536,z+=O-1+37*(O-1),O=1,p=z+O+65535,O=Math.floor(p/65536),z=p-O*65536,p=H+O+65535,O=Math.floor(p/65536),H=p-O*65536,p=Y+O+65535,O=Math.floor(p/65536),Y=p-O*65536,p=se+O+65535,O=Math.floor(p/65536),se=p-O*65536,p=we+O+65535,O=Math.floor(p/65536),we=p-O*65536,p=le+O+65535,O=Math.floor(p/65536),le=p-O*65536,p=nt+O+65535,O=Math.floor(p/65536),nt=p-O*65536,p=pe+O+65535,O=Math.floor(p/65536),pe=p-O*65536,p=$e+O+65535,O=Math.floor(p/65536),$e=p-O*65536,p=Ve+O+65535,O=Math.floor(p/65536),Ve=p-O*65536,p=ze+O+65535,O=Math.floor(p/65536),ze=p-O*65536,p=We+O+65535,O=Math.floor(p/65536),We=p-O*65536,p=Fe+O+65535,O=Math.floor(p/65536),Fe=p-O*65536,p=je+O+65535,O=Math.floor(p/65536),je=p-O*65536,p=Le+O+65535,O=Math.floor(p/65536),Le=p-O*65536,p=me+O+65535,O=Math.floor(p/65536),me=p-O*65536,z+=O-1+37*(O-1),E[0]=z,E[1]=H,E[2]=Y,E[3]=se,E[4]=we,E[5]=le,E[6]=nt,E[7]=pe,E[8]=$e,E[9]=Ve,E[10]=ze,E[11]=We,E[12]=Fe,E[13]=je,E[14]=Le,E[15]=me}function tt(E,k){_e(E,k,k)}function Ot(E,k){var C=n(),p;for(p=0;p<16;p++)C[p]=k[p];for(p=253;p>=0;p--)tt(C,C),p!==2&&p!==4&&_e(C,C,k);for(p=0;p<16;p++)E[p]=C[p]}function ti(E,k){var C=n(),p;for(p=0;p<16;p++)C[p]=k[p];for(p=250;p>=0;p--)tt(C,C),p!==1&&_e(C,C,k);for(p=0;p<16;p++)E[p]=C[p]}function on(E,k,C){var p=new Uint8Array(32),O=new Float64Array(80),z,H,Y=n(),se=n(),we=n(),le=n(),nt=n(),pe=n();for(H=0;H<31;H++)p[H]=k[H];for(p[31]=k[31]&127|64,p[0]&=248,De(O,C),H=0;H<16;H++)se[H]=O[H],le[H]=Y[H]=we[H]=0;for(Y[0]=le[0]=1,H=254;H>=0;--H)z=p[H>>>3]>>>(H&7)&1,ne(Y,se,z),ne(we,le,z),Ce(nt,Y,we),ct(Y,Y,we),Ce(we,se,le),ct(se,se,le),tt(le,nt),tt(pe,Y),_e(Y,we,Y),_e(we,se,nt),Ce(nt,Y,we),ct(Y,Y,we),tt(se,Y),ct(we,le,pe),_e(Y,we,l),Ce(Y,Y,le),_e(we,we,Y),_e(Y,le,pe),_e(le,se,O),tt(se,nt),ne(Y,se,z),ne(we,le,z);for(H=0;H<16;H++)O[H+16]=Y[H],O[H+32]=we[H],O[H+48]=se[H],O[H+64]=le[H];var $e=O.subarray(32),Ve=O.subarray(16);return Ot($e,$e),_e(Ve,Ve,$e),Z(E,Ve),0}function dr(E,k){return on(E,k,s)}function ss(E,k){return r(k,32),dr(E,k)}function Ii(E,k,C){var p=new Uint8Array(32);return on(p,C,k),F(E,i,p,j)}var qs=xe,ua=Ne;function ni(E,k,C,p,O,z){var H=new Uint8Array(32);return Ii(H,O,z),qs(E,k,C,p,H)}function ca(E,k,C,p,O,z){var H=new Uint8Array(32);return Ii(H,O,z),ua(E,k,C,p,H)}var fa=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Tl(E,k,C,p){for(var O=new Int32Array(16),z=new Int32Array(16),H,Y,se,we,le,nt,pe,$e,Ve,ze,We,Fe,je,Le,me,Te,ue,he,ye,ce,G,K,te,X,J,re,Ae=E[0],Qe=E[1],Xe=E[2],Ge=E[3],$=E[4],it=E[5],st=E[6],Je=E[7],Ke=k[0],ft=k[1],dt=k[2],Be=k[3],yt=k[4],Nt=k[5],Dt=k[6],Wt=k[7],Zt=0;p>=128;){for(ye=0;ye<16;ye++)ce=8*ye+Zt,O[ye]=C[ce+0]<<24|C[ce+1]<<16|C[ce+2]<<8|C[ce+3],z[ye]=C[ce+4]<<24|C[ce+5]<<16|C[ce+6]<<8|C[ce+7];for(ye=0;ye<80;ye++)if(H=Ae,Y=Qe,se=Xe,we=Ge,le=$,nt=it,pe=st,$e=Je,Ve=Ke,ze=ft,We=dt,Fe=Be,je=yt,Le=Nt,me=Dt,Te=Wt,G=Je,K=Wt,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=($>>>14|yt<<32-14)^($>>>18|yt<<32-18)^(yt>>>41-32|$<<32-(41-32)),K=(yt>>>14|$<<32-14)^(yt>>>18|$<<32-18)^($>>>41-32|yt<<32-(41-32)),te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,G=$&it^~$&st,K=yt&Nt^~yt&Dt,te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,G=fa[ye*2],K=fa[ye*2+1],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,G=O[ye%16],K=z[ye%16],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,ue=J&65535|re<<16,he=te&65535|X<<16,G=ue,K=he,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=(Ae>>>28|Ke<<32-28)^(Ke>>>34-32|Ae<<32-(34-32))^(Ke>>>39-32|Ae<<32-(39-32)),K=(Ke>>>28|Ae<<32-28)^(Ae>>>34-32|Ke<<32-(34-32))^(Ae>>>39-32|Ke<<32-(39-32)),te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,G=Ae&Qe^Ae&Xe^Qe&Xe,K=Ke&ft^Ke&dt^ft&dt,te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,$e=J&65535|re<<16,Te=te&65535|X<<16,G=we,K=Fe,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=ue,K=he,te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,we=J&65535|re<<16,Fe=te&65535|X<<16,Qe=H,Xe=Y,Ge=se,$=we,it=le,st=nt,Je=pe,Ae=$e,ft=Ve,dt=ze,Be=We,yt=Fe,Nt=je,Dt=Le,Wt=me,Ke=Te,ye%16===15)for(ce=0;ce<16;ce++)G=O[ce],K=z[ce],te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=O[(ce+9)%16],K=z[(ce+9)%16],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,ue=O[(ce+1)%16],he=z[(ce+1)%16],G=(ue>>>1|he<<32-1)^(ue>>>8|he<<32-8)^ue>>>7,K=(he>>>1|ue<<32-1)^(he>>>8|ue<<32-8)^(he>>>7|ue<<32-7),te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,ue=O[(ce+14)%16],he=z[(ce+14)%16],G=(ue>>>19|he<<32-19)^(he>>>61-32|ue<<32-(61-32))^ue>>>6,K=(he>>>19|ue<<32-19)^(ue>>>61-32|he<<32-(61-32))^(he>>>6|ue<<32-6),te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,O[ce]=J&65535|re<<16,z[ce]=te&65535|X<<16;G=Ae,K=Ke,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[0],K=k[0],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[0]=Ae=J&65535|re<<16,k[0]=Ke=te&65535|X<<16,G=Qe,K=ft,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[1],K=k[1],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[1]=Qe=J&65535|re<<16,k[1]=ft=te&65535|X<<16,G=Xe,K=dt,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[2],K=k[2],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[2]=Xe=J&65535|re<<16,k[2]=dt=te&65535|X<<16,G=Ge,K=Be,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[3],K=k[3],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[3]=Ge=J&65535|re<<16,k[3]=Be=te&65535|X<<16,G=$,K=yt,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[4],K=k[4],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[4]=$=J&65535|re<<16,k[4]=yt=te&65535|X<<16,G=it,K=Nt,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[5],K=k[5],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[5]=it=J&65535|re<<16,k[5]=Nt=te&65535|X<<16,G=st,K=Dt,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[6],K=k[6],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[6]=st=J&65535|re<<16,k[6]=Dt=te&65535|X<<16,G=Je,K=Wt,te=K&65535,X=K>>>16,J=G&65535,re=G>>>16,G=E[7],K=k[7],te+=K&65535,X+=K>>>16,J+=G&65535,re+=G>>>16,X+=te>>>16,J+=X>>>16,re+=J>>>16,E[7]=Je=J&65535|re<<16,k[7]=Wt=te&65535|X<<16,Zt+=128,p-=128}return p}function Ur(E,k,C){var p=new Int32Array(8),O=new Int32Array(8),z=new Uint8Array(256),H,Y=C;for(p[0]=1779033703,p[1]=3144134277,p[2]=1013904242,p[3]=2773480762,p[4]=1359893119,p[5]=2600822924,p[6]=528734635,p[7]=1541459225,O[0]=4089235720,O[1]=2227873595,O[2]=4271175723,O[3]=1595750129,O[4]=2917565137,O[5]=725511199,O[6]=4215389547,O[7]=327033209,Tl(p,O,k,C),C%=128,H=0;H<C;H++)z[H]=k[Y-C+H];for(z[C]=128,C=256-128*(C<112?1:0),z[C-9]=0,y(z,C-8,Y/536870912|0,Y<<3),Tl(p,O,z,C),H=0;H<8;H++)y(E,8*H,p[H],O[H]);return 0}function os(E,k){var C=n(),p=n(),O=n(),z=n(),H=n(),Y=n(),se=n(),we=n(),le=n();ct(C,E[1],E[0]),ct(le,k[1],k[0]),_e(C,C,le),Ce(p,E[0],E[1]),Ce(le,k[0],k[1]),_e(p,p,le),_e(O,E[3],k[3]),_e(O,O,f),_e(z,E[2],k[2]),Ce(z,z,z),ct(H,p,C),ct(Y,z,O),Ce(se,z,O),Ce(we,p,C),_e(E[0],H,Y),_e(E[1],we,se),_e(E[2],se,Y),_e(E[3],H,we)}function ri(E,k,C){var p;for(p=0;p<4;p++)ne(E[p],k[p],C)}function Il(E,k){var C=n(),p=n(),O=n();Ot(O,k[2]),_e(C,k[0],O),_e(p,k[1],O),Z(E,p),E[31]^=Me(C)<<7}function Mc(E,k,C){var p,O;for(ut(E[0],o),ut(E[1],a),ut(E[2],a),ut(E[3],o),O=255;O>=0;--O)p=C[O/8|0]>>(O&7)&1,ri(E,k,p),os(k,E),os(E,E),ri(E,k,p)}function Gs(E,k){var C=[n(),n(),n(),n()];ut(C[0],d),ut(C[1],h),ut(C[2],a),_e(C[3],d,h),Mc(E,C,k)}function da(E,k,C){var p=new Uint8Array(64),O=[n(),n(),n(),n()],z;for(C||r(k,32),Ur(p,k,32),p[0]&=248,p[31]&=127,p[31]|=64,Gs(O,p),Il(E,O),z=0;z<32;z++)k[z+32]=E[z];return 0}var Ks=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function cn(E,k){var C,p,O,z;for(p=63;p>=32;--p){for(C=0,O=p-32,z=p-12;O<z;++O)k[O]+=C-16*k[p]*Ks[O-(p-32)],C=Math.floor((k[O]+128)/256),k[O]-=C*256;k[O]+=C,k[p]=0}for(C=0,O=0;O<32;O++)k[O]+=C-(k[31]>>4)*Ks[O],C=k[O]>>8,k[O]&=255;for(O=0;O<32;O++)k[O]-=C*Ks[O];for(p=0;p<32;p++)k[p+1]+=k[p]>>8,E[p]=k[p]&255}function gn(E){var k=new Float64Array(64),C;for(C=0;C<64;C++)k[C]=E[C];for(C=0;C<64;C++)E[C]=0;cn(E,k)}function ha(E,k,C,p){var O=new Uint8Array(64),z=new Uint8Array(64),H=new Uint8Array(64),Y,se,we=new Float64Array(64),le=[n(),n(),n(),n()];Ur(O,p,32),O[0]&=248,O[31]&=127,O[31]|=64;var nt=C+64;for(Y=0;Y<C;Y++)E[64+Y]=k[Y];for(Y=0;Y<32;Y++)E[32+Y]=O[32+Y];for(Ur(H,E.subarray(32),C+32),gn(H),Gs(le,H),Il(E,le),Y=32;Y<64;Y++)E[Y]=p[Y];for(Ur(z,E,C+64),gn(z),Y=0;Y<64;Y++)we[Y]=0;for(Y=0;Y<32;Y++)we[Y]=H[Y];for(Y=0;Y<32;Y++)for(se=0;se<32;se++)we[Y+se]+=z[Y]*O[se];return cn(E.subarray(32),we),nt}function gh(E,k){var C=n(),p=n(),O=n(),z=n(),H=n(),Y=n(),se=n();return ut(E[2],a),De(E[1],k),tt(O,E[1]),_e(z,O,c),ct(O,O,E[2]),Ce(z,E[2],z),tt(H,z),tt(Y,H),_e(se,Y,H),_e(C,se,O),_e(C,C,z),ti(C,C),_e(C,C,O),_e(C,C,z),_e(C,C,z),_e(E[0],C,z),tt(p,E[0]),_e(p,p,z),de(p,O)&&_e(E[0],E[0],g),tt(p,E[0]),_e(p,p,z),de(p,O)?-1:(Me(E[0])===k[31]>>7&&ct(E[0],o,E[0]),_e(E[3],E[0],E[1]),0)}function xl(E,k,C,p){var O,z=new Uint8Array(32),H=new Uint8Array(64),Y=[n(),n(),n(),n()],se=[n(),n(),n(),n()];if(C<64||gh(se,p))return-1;for(O=0;O<C;O++)E[O]=k[O];for(O=0;O<32;O++)E[O+32]=p[O];if(Ur(H,E,C),gn(H),Mc(Y,se,H),Gs(se,k.subarray(32)),os(Y,se),Il(z,Y),C-=64,b(k,0,z,0)){for(O=0;O<C;O++)E[O]=0;return-1}for(O=0;O<C;O++)E[O]=k[O+64];return C}var Lc=32,xi=24,Qs=32,as=16,ls=32,Cl=32,pa=32,us=32,Al=32,$c=xi,ma=Qs,Vc=as,Sr=64,er=32,cs=64,Ys=32,kl=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:D,crypto_stream:R,crypto_stream_salsa20_xor:A,crypto_stream_salsa20:I,crypto_onetimeauth:U,crypto_onetimeauth_verify:M,crypto_verify_16:S,crypto_verify_32:b,crypto_secretbox:xe,crypto_secretbox_open:Ne,crypto_scalarmult:on,crypto_scalarmult_base:dr,crypto_box_beforenm:Ii,crypto_box_afternm:qs,crypto_box:ni,crypto_box_open:ca,crypto_box_keypair:ss,crypto_hash:Ur,crypto_sign:ha,crypto_sign_keypair:da,crypto_sign_open:xl,crypto_secretbox_KEYBYTES:Lc,crypto_secretbox_NONCEBYTES:xi,crypto_secretbox_ZEROBYTES:Qs,crypto_secretbox_BOXZEROBYTES:as,crypto_scalarmult_BYTES:ls,crypto_scalarmult_SCALARBYTES:Cl,crypto_box_PUBLICKEYBYTES:pa,crypto_box_SECRETKEYBYTES:us,crypto_box_BEFORENMBYTES:Al,crypto_box_NONCEBYTES:$c,crypto_box_ZEROBYTES:ma,crypto_box_BOXZEROBYTES:Vc,crypto_sign_BYTES:Sr,crypto_sign_PUBLICKEYBYTES:er,crypto_sign_SECRETKEYBYTES:cs,crypto_sign_SEEDBYTES:Ys,crypto_hash_BYTES:kl,gf:n,D:c,L:Ks,pack25519:Z,unpack25519:De,M:_e,A:Ce,S:tt,Z:ct,pow2523:ti,add:os,set25519:ut,modL:cn,scalarmult:Mc,scalarbase:Gs};function Xs(E,k){if(E.length!==Lc)throw new Error("bad key size");if(k.length!==xi)throw new Error("bad nonce size")}function yh(E,k){if(E.length!==pa)throw new Error("bad public key size");if(k.length!==us)throw new Error("bad secret key size")}function kt(){for(var E=0;E<arguments.length;E++)if(!(arguments[E]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Fc(E){for(var k=0;k<E.length;k++)E[k]=0}e.randomBytes=function(E){var k=new Uint8Array(E);return r(k,E),k},e.secretbox=function(E,k,C){kt(E,k,C),Xs(C,k);for(var p=new Uint8Array(Qs+E.length),O=new Uint8Array(p.length),z=0;z<E.length;z++)p[z+Qs]=E[z];return xe(O,p,p.length,k,C),O.subarray(as)},e.secretbox.open=function(E,k,C){kt(E,k,C),Xs(C,k);for(var p=new Uint8Array(as+E.length),O=new Uint8Array(p.length),z=0;z<E.length;z++)p[z+as]=E[z];return p.length<32||Ne(O,p,p.length,k,C)!==0?null:O.subarray(Qs)},e.secretbox.keyLength=Lc,e.secretbox.nonceLength=xi,e.secretbox.overheadLength=as,e.scalarMult=function(E,k){if(kt(E,k),E.length!==Cl)throw new Error("bad n size");if(k.length!==ls)throw new Error("bad p size");var C=new Uint8Array(ls);return on(C,E,k),C},e.scalarMult.base=function(E){if(kt(E),E.length!==Cl)throw new Error("bad n size");var k=new Uint8Array(ls);return dr(k,E),k},e.scalarMult.scalarLength=Cl,e.scalarMult.groupElementLength=ls,e.box=function(E,k,C,p){var O=e.box.before(C,p);return e.secretbox(E,k,O)},e.box.before=function(E,k){kt(E,k),yh(E,k);var C=new Uint8Array(Al);return Ii(C,E,k),C},e.box.after=e.secretbox,e.box.open=function(E,k,C,p){var O=e.box.before(C,p);return e.secretbox.open(E,k,O)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var E=new Uint8Array(pa),k=new Uint8Array(us);return ss(E,k),{publicKey:E,secretKey:k}},e.box.keyPair.fromSecretKey=function(E){if(kt(E),E.length!==us)throw new Error("bad secret key size");var k=new Uint8Array(pa);return dr(k,E),{publicKey:k,secretKey:new Uint8Array(E)}},e.box.publicKeyLength=pa,e.box.secretKeyLength=us,e.box.sharedKeyLength=Al,e.box.nonceLength=$c,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(E,k){if(kt(E,k),k.length!==cs)throw new Error("bad secret key size");var C=new Uint8Array(Sr+E.length);return ha(C,E,E.length,k),C},e.sign.open=function(E,k){if(kt(E,k),k.length!==er)throw new Error("bad public key size");var C=new Uint8Array(E.length),p=xl(C,E,E.length,k);if(p<0)return null;for(var O=new Uint8Array(p),z=0;z<O.length;z++)O[z]=C[z];return O},e.sign.detached=function(E,k){for(var C=e.sign(E,k),p=new Uint8Array(Sr),O=0;O<p.length;O++)p[O]=C[O];return p},e.sign.detached.verify=function(E,k,C){if(kt(E,k,C),k.length!==Sr)throw new Error("bad signature size");if(C.length!==er)throw new Error("bad public key size");var p=new Uint8Array(Sr+E.length),O=new Uint8Array(Sr+E.length),z;for(z=0;z<Sr;z++)p[z]=k[z];for(z=0;z<E.length;z++)p[z+Sr]=E[z];return xl(O,p,p.length,C)>=0},e.sign.keyPair=function(){var E=new Uint8Array(er),k=new Uint8Array(cs);return da(E,k),{publicKey:E,secretKey:k}},e.sign.keyPair.fromSecretKey=function(E){if(kt(E),E.length!==cs)throw new Error("bad secret key size");for(var k=new Uint8Array(er),C=0;C<k.length;C++)k[C]=E[32+C];return{publicKey:k,secretKey:new Uint8Array(E)}},e.sign.keyPair.fromSeed=function(E){if(kt(E),E.length!==Ys)throw new Error("bad seed size");for(var k=new Uint8Array(er),C=new Uint8Array(cs),p=0;p<32;p++)C[p]=E[p];return da(k,C,!0),{publicKey:k,secretKey:C}},e.sign.publicKeyLength=er,e.sign.secretKeyLength=cs,e.sign.seedLength=Ys,e.sign.signatureLength=Sr,e.hash=function(E){kt(E);var k=new Uint8Array(kl);return Ur(k,E,E.length),k},e.hash.hashLength=kl,e.verify=function(E,k){return kt(E,k),E.length===0||k.length===0||E.length!==k.length?!1:v(E,0,k,0,E.length)===0},e.setPRNG=function(E){r=E},function(){var E=typeof self<"u"?self.crypto||self.msCrypto:null;if(E&&E.getRandomValues){var k=65536;e.setPRNG(function(C,p){var O,z=new Uint8Array(p);for(O=0;O<p;O+=k)E.getRandomValues(z.subarray(O,O+Math.min(p-O,k)));for(O=0;O<p;O++)C[O]=z[O];Fc(z)})}else typeof rF<"u"&&(E=oF,E&&E.randomBytes&&e.setPRNG(function(C,p){var O,z=E.randomBytes(p);for(O=0;O<p;O++)C[O]=z[O];Fc(z)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(lR);var aF=lR.exports;const Aa=hl(aF),lF="ed25519 seed",uF=2147483648,cF=new RegExp("^m(\\/[0-9]+')+$"),uR=t=>t.replace("'",""),fF=t=>{const n=o0.create($_,lF).update(i_(t)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},dF=({key:t,chainCode:e},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const s=new Uint8Array(1+t.length+r.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(t,1),s.set(new Uint8Array(r,0,r.byteLength),t.length+1);const o=o0.create($_,e).update(s).digest(),a=o.slice(0,32),l=o.slice(32);return{key:a,chainCode:l}},hF=t=>cF.test(t)?!t.split("/").slice(1).map(uR).some(isNaN):!1,ST=(t,e,n=uF)=>{if(!hF(t))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=fF(e);return t.split("/").slice(1).map(uR).map(o=>parseInt(o,10)).reduce((o,a)=>dF(o,a+n),{key:r,chainCode:i})},Sw=32;class cR extends Xk{constructor(e){if(super(),typeof e=="string"?this.data=ar(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Sw)throw new Error(`Invalid public key input. Expected ${Sw} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return eh.ED25519}async verify(e,n){let r;if(typeof n=="string"){const i=LV(n);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!Yk(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");r=i.signature}else r=n;return Aa.sign.detached.verify(e,r,this.toRawBytes())}}cR.SIZE=Sw;const TT="m/44'/784'/0'/0'/0'";class hu extends tF{constructor(e){super(),e?this.keypair=e:this.keypair=Aa.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new hu(Aa.sign.keyPair())}static fromSecretKey(e,n){const r=e.length;if(r!==em)throw new Error(`Wrong secretKey size. Expected ${em} bytes, got ${r}.`);const i=Aa.sign.keyPair.fromSeed(e);if(!n||!n.skipValidation){const o=new TextEncoder().encode("sui validation"),a=Aa.sign.detached(o,i.secretKey);if(!Aa.sign.detached.verify(o,a,i.publicKey))throw new Error("provided secretKey is invalid")}return new hu(i)}getPublicKey(){return new cR(this.keypair.publicKey)}getSecretKey(){return nF(this.keypair.secretKey.slice(0,em),this.getKeyScheme())}async sign(e){return Aa.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,n){if(n==null&&(n=TT),!ET(n))throw new Error("Invalid derivation path");const{key:r}=ST(n,QV(e));return hu.fromSecretKey(r)}static deriveKeypairFromSeed(e,n){if(n==null&&(n=TT),!ET(n))throw new Error("Invalid derivation path");const{key:r}=ST(n,e);return hu.fromSecretKey(r)}}function pF(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}function mF(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),reject:e,resolve:t}}const gF=_A("type",[Ue({type:qt("connect"),address:At()}),Ue({type:qt("sign-transaction-block"),bytes:At(),signature:At()}),Ue({type:qt("sign-personal-message"),bytes:At(),signature:At()})]),yF=_A("type",[Ue({type:qt("reject")}),Ue({type:qt("resolve"),data:gF})]),vF=Ue({id:At([g4()]),source:qt("zksend-channel"),payload:yF});var F_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Cr=(t,e,n)=>(F_(t,e,"read from private field"),n?n.call(t):e.get(t)),Ai=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ys=(t,e,n,r)=>(F_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mf=(t,e,n)=>(F_(t,e,"access private method"),n),Kl,Lf,$f,tm,nm,sg,og,Ru,ag,U_,Vf,lg;const fR="https://getstashed.com";class sp{constructor({name:e,origin:n=fR}){Ai(this,ag),Ai(this,Vf),Ai(this,Kl,void 0),Ai(this,Lf,void 0),Ai(this,$f,void 0),Ai(this,tm,void 0),Ai(this,nm,void 0),Ai(this,sg,void 0),Ai(this,og,void 0),Ai(this,Ru,null);const r=window.open("about:blank","_blank");if(!r)throw new Error("Failed to open new window");ys(this,Kl,r),ys(this,Lf,crypto.randomUUID()),ys(this,$f,n),ys(this,tm,e);const{promise:i,resolve:s,reject:o}=mF();ys(this,nm,i),ys(this,sg,s),ys(this,og,o),ys(this,Ru,setInterval(()=>{try{Cr(this,Kl).closed&&(Mf(this,Vf,lg).call(this),o(new Error("User closed the Stashed window")))}catch{}},1e3))}send({type:e,...n}){return window.addEventListener("message",Mf(this,ag,U_)),Cr(this,Kl).location.assign(`${Cr(this,$f)}/dapp/${e}?${new URLSearchParams({id:Cr(this,Lf),origin:window.origin,name:Cr(this,tm)})}${n?`#${new URLSearchParams(n)}`:""}`),Cr(this,nm)}close(){Mf(this,Vf,lg).call(this),Cr(this,Kl).close()}}Kl=new WeakMap;Lf=new WeakMap;$f=new WeakMap;tm=new WeakMap;nm=new WeakMap;sg=new WeakMap;og=new WeakMap;Ru=new WeakMap;ag=new WeakSet;U_=function(t){if(t.origin!==Cr(this,$f))return;const{success:e,output:n}=p4(vF,t.data);!e||n.id!==Cr(this,Lf)||(Mf(this,Vf,lg).call(this),n.payload.type==="reject"?Cr(this,og).call(this,new Error("User rejected the request")):n.payload.type==="resolve"&&Cr(this,sg).call(this,n.payload.data))};Vf=new WeakSet;lg=function(){Cr(this,Ru)&&(clearInterval(Cr(this,Ru)),ys(this,Ru,null)),window.removeEventListener("message",Mf(this,ag,U_))};var j_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xn=(t,e,n)=>(j_(t,e,"read from private field"),n?n.call(t):e.get(t)),ai=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},pu=(t,e,n,r)=>(j_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),op=(t,e,n)=>(j_(t,e,"access private method"),n),mu,Pu,ka,Ra,Tw,Iw,xw,Cw,Ql,wf,Aw,kw;const Rw="stashed:recentAddress",dR="Stashed";class wF{constructor({name:e,address:n,origin:r=fR}){ai(this,Ql),ai(this,mu,void 0),ai(this,Pu,void 0),ai(this,ka,void 0),ai(this,Ra,void 0),ai(this,Tw,async({transactionBlock:i,account:s})=>{i.setSenderIfNotSet(s.address);const o=i.serialize(),l=await new sp({name:xn(this,Ra),origin:xn(this,ka)}).send({type:"sign-transaction-block",data:o,address:s.address});return{transactionBlockBytes:l.bytes,signature:l.signature}}),ai(this,Iw,async({transaction:i,account:s})=>{const o=new sp({name:xn(this,Ra),origin:xn(this,ka)}),a=Yv.from(await i.toJSON());a.setSenderIfNotSet(s.address);const l=a.serialize(),c=await o.send({type:"sign-transaction-block",data:l,address:s.address});return{bytes:c.bytes,signature:c.signature}}),ai(this,xw,async({message:i,account:s})=>{const o=new sp({name:xn(this,Ra),origin:xn(this,ka)}),a=Ft(i),l=await o.send({type:"sign-personal-message",bytes:a,address:s.address});return{bytes:a,signature:l.signature}}),ai(this,Cw,(i,s)=>(xn(this,mu).on(i,s),()=>xn(this,mu).off(i,s))),ai(this,Aw,async i=>{if(i!=null&&i.silent){const a=localStorage.getItem(Rw);return a&&op(this,Ql,wf).call(this,a),{accounts:this.accounts}}const o=await new sp({name:xn(this,Ra),origin:xn(this,ka)}).send({type:"connect"});if(!("address"in o))throw new Error("Unexpected response");return op(this,Ql,wf).call(this,o.address),{accounts:this.accounts}}),ai(this,kw,async()=>{localStorage.removeItem(Rw),op(this,Ql,wf).call(this)}),pu(this,Pu,[]),pu(this,mu,pF()),pu(this,ka,r),pu(this,Ra,e),n&&op(this,Ql,wf).call(this,n)}get name(){return dR}get icon(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjU0IiBoZWlnaHQ9IjU0IiB4PSIxIiB5PSIxIiBmaWxsPSIjNTE5REU5IiByeD0iMjciLz48cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHg9IjEiIHk9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iMjciLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTguMzUzIDM1LjA2NGMuOTIxIDMuNDM4IDQuMzYzIDYuNTUxIDExLjQ4MyA0LjY0NCA2Ljc5NC0xLjgyMSAxMS4wNTItNy40MSA5Ljk0OC0xMS41My0uMzgxLTEuNDIzLTEuNTMtMi4zODctMy4zLTIuMjNsLTE1LjgzMiAxLjMyYy0uOTk3LjA3Ni0xLjQ1NC0uMDg4LTEuNzE4LS43MTYtLjI1Ni0uNTk5LS4xMS0xLjI0MSAxLjA5NC0xLjg1bDEyLjA0OC02LjE4M2MuOTI0LS40NyAxLjUzOS0uNjY2IDIuMTAxLS40NjguMzUyLjEyOC41ODQuNjM4LjM3MSAxLjI2N2wtLjc4MSAyLjMwNmMtLjk1OSAyLjgzIDEuMDk0IDMuNDg4IDIuMjUgMy4xNzggMS43NTEtLjQ2OSAyLjE2My0yLjEzNiAxLjU5OS00LjI0LTEuNDMtNS4zMzctNy4wOS02LjE3LTEyLjIyMy00Ljc5Ni01LjIyMiAxLjQtOS43NDggNS42My04LjM2NiAxMC43ODkuMzI1IDEuMjE1IDEuNDQ0IDIuMTg2IDIuNzQgMi4xNTdsMS45NzgtLjAwNWMuNDA3LS4wMS4yNi4wMjQgMS4wNDYtLjA0MS43ODQtLjA2NSAyLjg4LS4zMjMgMi44OC0uMzIzbDEwLjI4Ni0xLjE2NC4yNjUtLjAzOGMuNjAyLS4xMDMgMS4wNTYuMDUzIDEuNDQuNzE1LjU3Ni45OTEtLjMwMiAxLjczOC0xLjM1MiAyLjYzM2wtLjA4NS4wNzItOS4wNDEgNy43OTJjLTEuNTUgMS4zMzctMi42MzkuODM0LTMuMDItLjU4OWwtMS4zNS01LjA0Yy0uMzM0LTEuMjQ0LTEuNTUtMi4yMjEtMi45NzQtMS44NC0xLjc4LjQ3Ny0xLjkyNCAyLjU1LTEuNDg3IDQuMThaIi8+PC9zdmc+Cg=="}get version(){return"1.0.0"}get chains(){return[I_]}get accounts(){return xn(this,Pu)}get features(){return{"standard:connect":{version:"1.0.0",connect:xn(this,Aw)},"standard:disconnect":{version:"1.0.0",disconnect:xn(this,kw)},"standard:events":{version:"1.0.0",on:xn(this,Cw)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:xn(this,Tw)},"sui:signTransaction":{version:"2.0.0",signTransaction:xn(this,Iw)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:xn(this,xw)}}}}mu=new WeakMap;Pu=new WeakMap;ka=new WeakMap;Ra=new WeakMap;Tw=new WeakMap;Iw=new WeakMap;xw=new WeakMap;Cw=new WeakMap;Ql=new WeakSet;wf=function(t){t?(pu(this,Pu,[new t0({address:t,chains:[I_],features:["sui:signTransactionBlock","sui:signPersonalMessage"],publicKey:new Uint8Array})]),localStorage.setItem(Rw,t)):pu(this,Pu,[]),xn(this,mu).emit("change",{accounts:this.accounts})};Aw=new WeakMap;kw=new WeakMap;function _F(t,{origin:e}){const n=e0();let r=null;try{const o=new URLSearchParams(window.location.search);r=o.get("stashed_address")||o.get("zksend_address")}catch{}const i=new wF({name:t,origin:e,address:r}),s=n.register(i);return{wallet:i,unregister:s,addressFromRedirect:r}}function hR(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>n.removeItem(i)}}const gd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return gd(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return gd(r)(n)}}}},EF=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,b)=>({...b,...S}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,i);const f=gd(s.serialize),d=()=>{const S=s.partialize({...r()});let b;const w=f({state:S,version:s.version}).then(T=>c.setItem(s.name,T)).catch(T=>{b=T});if(b)throw b;return w},h=i.setState;i.setState=(S,b)=>{h(S,b),d()};const g=t((...S)=>{n(...S),d()},r,i);let y;const v=()=>{var S;if(!c)return;o=!1,a.forEach(w=>w(r()));const b=((S=s.onRehydrateStorage)==null?void 0:S.call(s,r()))||void 0;return gd(c.getItem.bind(c))(s.name).then(w=>{if(w)return s.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var T;return y=s.merge(w,(T=r())!=null?T:g),n(y,!0),d()}).then(()=>{b==null||b(y,void 0),o=!0,l.forEach(w=>w(y))}).catch(w=>{b==null||b(void 0,w)})};return i.persist={setOptions:S=>{s={...s,...S},S.getStorage&&(c=S.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(l.add(S),()=>{l.delete(S)})},v(),y||g},bF=(t,e)=>(n,r,i)=>{let s={storage:hR(()=>localStorage),partialize:v=>v,version:0,merge:(v,S)=>({...S,...v}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const f=()=>{const v=s.partialize({...r()});return c.setItem(s.name,{state:v,version:s.version})},d=i.setState;i.setState=(v,S)=>{d(v,S),f()};const h=t((...v)=>{n(...v),f()},r,i);i.getInitialState=()=>h;let g;const y=()=>{var v,S;if(!c)return;o=!1,a.forEach(w=>{var T;return w((T=r())!=null?T:h)});const b=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(v=r())!=null?v:h))||void 0;return gd(c.getItem.bind(c))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var T;return g=s.merge(w,(T=r())!=null?T:h),n(g,!0),f()}).then(()=>{b==null||b(g,void 0),g=r(),o=!0,l.forEach(w=>w(g))}).catch(w=>{b==null||b(void 0,w)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||y(),g||h},SF=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?EF(t,e):bF(t,e),TF=SF;function Pw(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}function IF(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}function B_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var i in t){var s=t[i],o=[...n,i];typeof s=="string"||typeof s=="number"||s==null?r[i]=e(s,o):typeof s=="object"&&!Array.isArray(s)?r[i]=B_(s,e,o):console.warn('Skipping invalid key "'.concat(o.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(s)?"Array":typeof s,'"'))}return r}function xF(t,e){var n={};if(typeof e=="object"){var r=t;B_(e,(a,l)=>{if(a!=null){var c=IF(r,l);n[Pw(c)]=String(a)}})}else{var i=t;for(var s in i){var o=i[s];o!=null&&(n[Pw(s)]=o)}}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(l=>"".concat(l,":").concat(this[l])).join(";")},writable:!1}),n}var IT={},CF=t=>{var{fileScope:e,css:n}=t,r=e.packageName?[e.packageName,e.filePath].join("/"):e.filePath,i=IT[r];if(!i){var s=document.createElement("style");e.packageName&&s.setAttribute("data-package",e.packageName),s.setAttribute("data-file",e.filePath),s.setAttribute("type","text/css"),i=IT[r]=s,document.head.appendChild(s)}i.innerHTML=n};/*! https://mths.be/cssesc v3.0.0 by @mathias */var AF={},kF=AF.hasOwnProperty,RF=function(e,n){if(!e)return n;var r={};for(var i in n)r[i]=kF.call(e,i)?e[i]:n[i];return r},PF=/[ -,\.\/:-@\[-\^`\{-~]/,OF=/[ -,\.\/:-@\[\]\^`\{-~]/,NF=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,z_=function t(e,n){n=RF(n,t.options),n.quotes!="single"&&n.quotes!="double"&&(n.quotes="single");for(var r=n.quotes=="double"?'"':"'",i=n.isIdentifier,s=e.charAt(0),o="",a=0,l=e.length;a<l;){var c=e.charAt(a++),f=c.charCodeAt(),d=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&a<l){var h=e.charCodeAt(a++);(h&64512)==56320?f=((f&1023)<<10)+(h&1023)+65536:a--}d="\\"+f.toString(16).toUpperCase()+" "}else n.escapeEverything?PF.test(c)?d="\\"+c:d="\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?d="\\"+f.toString(16).toUpperCase()+" ":c=="\\"||!i&&(c=='"'&&r==c||c=="'"&&r==c)||i&&OF.test(c)?d="\\"+c:d=c;o+=d}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(s)&&(o="\\3"+s+" "+o.slice(1))),o=o.replace(NF,function(g,y,v){return y&&y.length%2?g:(y||"")+v}),!i&&n.wrap?r+o+r:o};z_.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};z_.version="3.0.0";var DF=z_;const W_=hl(DF);class MF{constructor(e){const{failure:n,gotoFn:r,output:i}=this._buildTables(e);this.gotoFn=r,this.output=i,this.failure=n}_buildTables(e){const n={0:{}},r={};let i=0;for(const a of e){let l=0;for(const c of a)n[l]&&c in n[l]?l=n[l][c]:(i++,n[l][c]=i,n[i]={},l=i,r[i]=[]);r[l].push(a)}const s={},o=[];for(const a in n[0]){const l=n[0][a];s[l]=0,o.push(l)}for(;o.length>0;){const a=o.shift();if(a!==void 0)for(const l in n[a]){const c=n[a][l];o.push(c);let f=s[a];for(;f>0&&!(l in n[f]);)f=s[f];if(l in n[f]){const d=n[f][l];s[c]=d,r[c]=[...r[c],...r[d]]}else s[c]=0}}return{gotoFn:n,output:r,failure:s}}search(e){let n=0;const r=[];for(let i=0;i<e.length;i++){const s=e[i];for(;n>0&&!(s in this.gotoFn[n]);)n=this.failure[n];if(s in this.gotoFn[n]&&(n=this.gotoFn[n][s],this.output[n].length>0)){const o=this.output[n];r.push([i,o])}}return r}}var LF={appendCss:()=>{},registerClassName:()=>{},onEndFileScope:()=>{},registerComposition:()=>{},markCompositionUsed:()=>{},getIdentOption:()=>"short"},rm=[LF],$F=()=>{if(rm.length<1)throw new Error("No adapter configured");return rm[rm.length-1]},pR=!1,VF=t=>{pR||FF(t)},FF=t=>{if(!t)throw new Error('No adapter provided when calling "setAdapter"');pR=!0,rm.push(t)},UF=function(){return $F().markCompositionUsed(...arguments)};function mR(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Kt;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(Kt||(Kt={}));var Gr;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(Gr||(Gr={}));const xT=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,jF=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,BF=new Map([[126,Gr.Element],[94,Gr.Start],[36,Gr.End],[42,Gr.Any],[33,Gr.Not],[124,Gr.Hyphen]]),zF=new Set(["has","not","matches","is","where","host","host-context"]);function WF(t){switch(t.type){case Kt.Adjacent:case Kt.Child:case Kt.Descendant:case Kt.Parent:case Kt.Sibling:case Kt.ColumnCombinator:return!0;default:return!1}}const HF=new Set(["contains","icontains"]);function qF(t,e,n){const r=parseInt(e,16)-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function nf(t){return t.replace(jF,qF)}function ky(t){return t===39||t===34}function CT(t){return t===32||t===9||t===10||t===12||t===13}function GF(t){const e=[],n=gR(e,`${t}`,0);if(n<t.length)throw new Error(`Unmatched selector: ${t.slice(n)}`);return e}function gR(t,e,n){let r=[];function i(h){const g=e.slice(n+h).match(xT);if(!g)throw new Error(`Expected name, found ${e.slice(n)}`);const[y]=g;return n+=h+y.length,nf(y)}function s(h){for(n+=h;n<e.length&&CT(e.charCodeAt(n));)n++}function o(){n+=1;const h=n;let g=1;for(;g>0&&n<e.length;n++)e.charCodeAt(n)===40&&!a(n)?g++:e.charCodeAt(n)===41&&!a(n)&&g--;if(g)throw new Error("Parenthesis not matched");return nf(e.slice(h,n-1))}function a(h){let g=0;for(;e.charCodeAt(--h)===92;)g++;return(g&1)===1}function l(){if(r.length>0&&WF(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(h){if(r.length>0&&r[r.length-1].type===Kt.Descendant){r[r.length-1].type=h;return}l(),r.push({type:h})}function f(h,g){r.push({type:Kt.Attribute,name:h,action:g,value:i(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===Kt.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");t.push(r)}if(s(0),e.length===n)return n;e:for(;n<e.length;){const h=e.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Kt.Descendant)&&(l(),r.push({type:Kt.Descendant})),s(1);break}case 62:{c(Kt.Child),s(1);break}case 60:{c(Kt.Parent),s(1);break}case 126:{c(Kt.Sibling),s(1);break}case 43:{c(Kt.Adjacent),s(1);break}case 46:{f("class",Gr.Element);break}case 35:{f("id",Gr.Equals);break}case 91:{s(1);let g,y=null;e.charCodeAt(n)===124?g=i(1):e.startsWith("*|",n)?(y="*",g=i(2)):(g=i(0),e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==61&&(y=g,g=i(1))),s(0);let v=Gr.Exists;const S=BF.get(e.charCodeAt(n));if(S){if(v=S,e.charCodeAt(n+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(n)===61&&(v=Gr.Equals,s(1));let b="",w=null;if(v!=="exists"){if(ky(e.charCodeAt(n))){const F=e.charCodeAt(n);let j=n+1;for(;j<e.length&&(e.charCodeAt(j)!==F||a(j));)j+=1;if(e.charCodeAt(j)!==F)throw new Error("Attribute value didn't end");b=nf(e.slice(n+1,j)),n=j+1}else{const F=n;for(;n<e.length&&(!CT(e.charCodeAt(n))&&e.charCodeAt(n)!==93||a(n));)n+=1;b=nf(e.slice(F,n))}s(0);const N=e.charCodeAt(n)|32;N===115?(w=!1,s(1)):N===105&&(w=!0,s(1))}if(e.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const T={type:Kt.Attribute,name:g,action:v,value:b,namespace:y,ignoreCase:w};r.push(T);break}case 58:{if(e.charCodeAt(n+1)===58){r.push({type:Kt.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(n)===40?o():null});continue}const g=i(1).toLowerCase();let y=null;if(e.charCodeAt(n)===40)if(zF.has(g)){if(ky(e.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${g} cannot be quoted`);if(y=[],n=gR(y,e,n+1),e.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${g} (${e})`);n+=1}else{if(y=o(),HF.has(g)){const v=y.charCodeAt(0);v===y.charCodeAt(y.length-1)&&ky(v)&&(y=y.slice(1,-1))}y=nf(y)}r.push({type:Kt.Pseudo,name:g,data:y});break}case 44:{d(),r=[],s(1);break}default:{if(e.startsWith("/*",n)){const v=e.indexOf("*/",n+2);if(v<0)throw new Error("Comment was not terminated");n=v+2,r.length===0&&s(0);break}let g=null,y;if(h===42)n+=1,y="*";else if(h===124){if(y="",e.charCodeAt(n+1)===124){c(Kt.ColumnCombinator),s(2);break}}else if(xT.test(e.slice(n)))y=i(0);else break e;e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==124&&(g=y,e.charCodeAt(n+1)===42?(y="*",n+=2):y=i(1)),r.push(y==="*"?{type:Kt.Universal,namespace:g}:{type:Kt.Tag,name:y,namespace:g})}}}return d(),n}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){KF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KF(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=YF(t,"string");return typeof e=="symbol"?e:String(e)}function YF(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const yR=vR({});function vR(t){return e.withOptions=n=>vR(kT(kT({},t),n)),e;function e(n,...r){const i=typeof n=="string"?[n]:n.raw,{escapeSpecialCharacters:s=Array.isArray(n)}=t;let o="";for(let c=0;c<i.length;c++){let f=i[c];s&&(f=f.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),o+=f,c<r.length&&(o+=r[c])}const a=o.split(`
`);let l=null;for(const c of a){const f=c.match(/^(\s+)\S+/);if(f){const d=f[1].length;l?l=Math.min(l,d):l=d}}if(l!==null){const c=l;o=a.map(f=>f[0]===" "||f[0]==="	"?f.slice(c):f).join(`
`)}return o=o.trim(),s&&(o=o.replace(/\\n/g,`
`)),o}}/*! @license MediaQueryParser - MIT License - Tom Golden (github@tbjgolden.com) *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ug=function(){return ug=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ug.apply(this,arguments)};function Ow(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}var JF=/(\u000D|\u000C|\u000D\u000A)/g,ZF=/[\u0000\uD800-\uDFFF]/g,eU=/(\/\*)[\s\S]*?(\*\/)/g,tU=function(e,n){n===void 0&&(n=0),e=e.replace(JF,`
`).replace(ZF,"�"),e=e.replace(eU,"");for(var r=[];n<e.length;n+=1){var i=e.charCodeAt(n);if(i===9||i===32||i===10){for(var s=e.charCodeAt(++n);s===9||s===32||s===10;)s=e.charCodeAt(++n);n-=1,r.push({type:"<whitespace-token>"})}else if(i===34){var o=RT(e,n);if(o===null)return null;var a=vn(o,2),l=a[0],c=a[1];r.push({type:"<string-token>",value:c}),n=l}else if(i===35){if(n+1<e.length){var f=e.charCodeAt(n+1);if(f===95||f>=65&&f<=90||f>=97&&f<=122||f>=128||f>=48&&f<=57||f===92&&n+2<e.length&&e.charCodeAt(n+2)!==10){var d=wR(e,n+1)?"id":"unrestricted",o=rU(e,n+1);if(o!==null){var h=vn(o,2),l=h[0],c=h[1];r.push({type:"<hash-token>",value:c.toLowerCase(),flag:d}),n=l;continue}}}r.push({type:"<delim-token>",value:i})}else if(i===39){var o=RT(e,n);if(o===null)return null;var g=vn(o,2),l=g[0],c=g[1];r.push({type:"<string-token>",value:c}),n=l}else if(i===40)r.push({type:"<(-token>"});else if(i===41)r.push({type:"<)-token>"});else if(i===43){var y=ap(e,n);if(y===null)r.push({type:"<delim-token>",value:i});else{var v=vn(y,2),l=v[0],S=v[1];S[0]==="<dimension-token>"?r.push({type:"<dimension-token>",value:S[1],unit:S[2].toLowerCase(),flag:"number"}):S[0]==="<number-token>"?r.push({type:S[0],value:S[1],flag:S[2]}):r.push({type:S[0],value:S[1],flag:"number"}),n=l}}else if(i===44)r.push({type:"<comma-token>"});else if(i===45){var b=ap(e,n);if(b!==null){var w=vn(b,2),l=w[0],S=w[1];S[0]==="<dimension-token>"?r.push({type:"<dimension-token>",value:S[1],unit:S[2].toLowerCase(),flag:"number"}):S[0]==="<number-token>"?r.push({type:S[0],value:S[1],flag:S[2]}):r.push({type:S[0],value:S[1],flag:"number"}),n=l;continue}if(n+2<e.length){var f=e.charCodeAt(n+1),T=e.charCodeAt(n+2);if(f===45&&T===62){r.push({type:"<CDC-token>"}),n+=2;continue}}var o=PT(e,n);if(o!==null){var N=vn(o,3),l=N[0],c=N[1],F=N[2];r.push({type:F,value:c}),n=l;continue}r.push({type:"<delim-token>",value:i})}else if(i===46){var b=ap(e,n);if(b===null)r.push({type:"<delim-token>",value:i});else{var j=vn(b,2),l=j[0],S=j[1];S[0]==="<dimension-token>"?r.push({type:"<dimension-token>",value:S[1],unit:S[2].toLowerCase(),flag:"number"}):S[0]==="<number-token>"?r.push({type:S[0],value:S[1],flag:S[2]}):r.push({type:S[0],value:S[1],flag:"number"}),n=l;continue}}else if(i===58)r.push({type:"<colon-token>"});else if(i===59)r.push({type:"<semicolon-token>"});else if(i===60){if(n+3<e.length){var f=e.charCodeAt(n+1),T=e.charCodeAt(n+2),A=e.charCodeAt(n+3);if(f===33&&T===45&&A===45){r.push({type:"<CDO-token>"}),n+=3;continue}}r.push({type:"<delim-token>",value:i})}else if(i===64){var o=H_(e,n+1);if(o!==null){var I=vn(o,2),l=I[0],c=I[1];r.push({type:"<at-keyword-token>",value:c.toLowerCase()}),n=l;continue}r.push({type:"<delim-token>",value:i})}else if(i===91)r.push({type:"<[-token>"});else if(i===92){var o=th(e,n);if(o===null)return null;var R=vn(o,2),l=R[0],c=R[1];e=e.slice(0,n)+c+e.slice(l+1),n-=1}else if(i===93)r.push({type:"<]-token>"});else if(i===123)r.push({type:"<{-token>"});else if(i===125)r.push({type:"<}-token>"});else if(i>=48&&i<=57){var o=ap(e,n),D=vn(o,2),l=D[0],S=D[1];S[0]==="<dimension-token>"?r.push({type:"<dimension-token>",value:S[1],unit:S[2].toLowerCase(),flag:"number"}):S[0]==="<number-token>"?r.push({type:S[0],value:S[1],flag:S[2]}):r.push({type:S[0],value:S[1],flag:"number"}),n=l}else if(i===95||i>=65&&i<=90||i>=97&&i<=122||i>=128){var o=PT(e,n);if(o===null)return null;var V=vn(o,3),l=V[0],c=V[1],F=V[2];r.push({type:F,value:c}),n=l}else r.push({type:"<delim-token>",value:i})}return r.push({type:"<EOF-token>"}),r},RT=function(e,n){if(e.length<=n+1)return null;for(var r=e.charCodeAt(n),i=[],s=n+1;s<e.length;s+=1){var o=e.charCodeAt(s);if(o===r)return[s,String.fromCharCode.apply(null,i)];if(o===92){var a=th(e,s);if(a===null)return null;var l=vn(a,2),c=l[0],f=l[1];i.push(f),s=c}else{if(o===10)return null;i.push(o)}}return null},wR=function(e,n){if(e.length<=n)return!1;var r=e.charCodeAt(n);if(r===45){if(e.length<=n+1)return!1;var i=e.charCodeAt(n+1);if(i===45||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=128)return!0;if(i===92){if(e.length<=n+2)return!1;var s=e.charCodeAt(n+2);return s!==10}else return!1}else{if(r===95||r>=65&&r<=90||r>=97&&r<=122||r>=128)return!0;if(r===92){if(e.length<=n+1)return!1;var i=e.charCodeAt(n+1);return i!==10}else return!1}},th=function(e,n){if(e.length<=n+1||e.charCodeAt(n)!==92)return null;var r=e.charCodeAt(n+1);if(r===10)return null;if(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102){for(var i=[r],s=Math.min(n+7,e.length),o=n+2;o<s;o+=1){var a=e.charCodeAt(o);if(a>=48&&a<=57||a>=65&&a<=70||a>=97&&a<=102)i.push(a);else break}if(o<e.length){var l=e.charCodeAt(o);(l===9||l===32||l===10)&&(o+=1)}return[o-1,parseInt(String.fromCharCode.apply(null,i),16)]}else return[n+1,r]},ap=function(e,n){var r=nU(e,n);if(r===null)return null;var i=vn(r,3),s=i[0],o=i[1],a=i[2],l=H_(e,s+1);if(l!==null){var c=vn(l,2),f=c[0],d=c[1];return[f,["<dimension-token>",o,d]]}return s+1<e.length&&e.charCodeAt(s+1)===37?[s+1,["<percentage-token>",o]]:[s,["<number-token>",o,a]]},nU=function(e,n){if(e.length<=n)return null;var r="integer",i=[],s=e.charCodeAt(n);for((s===43||s===45)&&(n+=1,s===45&&i.push(45));n<e.length;){var o=e.charCodeAt(n);if(o>=48&&o<=57)i.push(o),n+=1;else break}if(n+1<e.length){var a=e.charCodeAt(n),l=e.charCodeAt(n+1);if(a===46&&l>=48&&l<=57)for(i.push(a,l),r="number",n+=2;n<e.length;){var o=e.charCodeAt(n);if(o>=48&&o<=57)i.push(o),n+=1;else break}}if(n+1<e.length){var a=e.charCodeAt(n),l=e.charCodeAt(n+1),c=e.charCodeAt(n+2);if(a===69||a===101){var f=l>=48&&l<=57;if(f||(l===43||l===45)&&c>=48&&c<=57)for(r="number",f?(i.push(69,l),n+=2):l===45?(i.push(69,45,c),n+=3):(i.push(69,c),n+=3);n<e.length;){var o=e.charCodeAt(n);if(o>=48&&o<=57)i.push(o),n+=1;else break}}}var d=String.fromCharCode.apply(null,i),h=r==="number"?parseFloat(d):parseInt(d);return h===-0&&(h=0),Number.isNaN(h)?null:[n-1,h,r]},rU=function(e,n){if(e.length<=n)return null;for(var r=[],i=e.charCodeAt(n);n<e.length;i=e.charCodeAt(++n)){if(i===45||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=128||i>=48&&i<=57){r.push(i);continue}else{var s=th(e,n);if(s!==null){var o=vn(s,2),a=o[0],l=o[1];r.push(l),n=a;continue}}break}return n===0?null:[n-1,String.fromCharCode.apply(null,r)]},H_=function(e,n){if(e.length<=n||!wR(e,n))return null;for(var r=[],i=e.charCodeAt(n);n<e.length;i=e.charCodeAt(++n)){if(i===45||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=128||i>=48&&i<=57){r.push(i);continue}else{var s=th(e,n);if(s!==null){var o=vn(s,2),a=o[0],l=o[1];r.push(l),n=a;continue}}break}return[n-1,String.fromCharCode.apply(null,r)]},iU=function(e,n){for(var r=e.charCodeAt(n);r===9||r===32||r===10;)r=e.charCodeAt(++n);for(var i=[],s=!1;n<e.length;){if(r===41)return[n,String.fromCharCode.apply(null,i)];if(r===34||r===39||r===40)return null;if(r===9||r===32||r===10)!s&&i.length!==0&&(s=!0);else if(r===92){var o=th(e,n);if(o===null||s)return null;var a=vn(o,2),l=a[0],c=a[1];i.push(c),n=l}else{if(s)return null;i.push(r)}r=e.charCodeAt(++n)}return null},PT=function(e,n){var r=H_(e,n);if(r===null)return null;var i=vn(r,2),s=i[0],o=i[1];if(o.toLowerCase()==="url"){if(e.length>s+1){var a=e.charCodeAt(s+1);if(a===40){for(var l=2;s+l<e.length;l+=1){var c=e.charCodeAt(s+l);if(c===34||c===39)return[s+1,o.toLowerCase(),"<function-token>"];if(c!==9&&c!==32&&c!==10){var f=iU(e,s+l);if(f===null)return null;var d=vn(f,2),h=d[0],g=d[1];return[h,g,"<url-token>"]}}return[s+1,o.toLowerCase(),"<function-token>"]}}}else if(e.length>s+1){var a=e.charCodeAt(s+1);if(a===40)return[s+1,o.toLowerCase(),"<function-token>"]}return[s,o.toLowerCase(),"<ident-token>"]},sU=function(e){for(var n=e.length-1;n>=0;n--)e[n]=oU(e[n]);return e},oU=function(e){if(e.mediaCondition===null)return e;var n=aU(e.mediaCondition);return n.operator===null&&n.children.length===1&&"children"in n.children[0]&&(n=n.children[0]),{mediaPrefix:e.mediaPrefix,mediaType:e.mediaType,mediaCondition:n}},aU=function t(e){for(var n=e.children.length-1;n>=0;n--){var r=e.children[n];if(!("context"in r)){var i=t(r);if(i.operator===null&&i.children.length===1)e.children[n]=i.children[0];else if(i.operator===e.operator&&(i.operator==="and"||i.operator==="or")){for(var s=[n,1],o=0;o<i.children.length;o++)s.push(i.children[o]);e.children.splice.apply(e.children,s)}}}return e},mr=function(e,n){return n instanceof Error?new Error("".concat(n.message.trim(),`
`).concat(e.trim())):new Error(e.trim())},lU=function(e){return sU(uU(e))},uU=function(e){var n=tU(e.trim());if(n===null)throw mr("Failed tokenizing");var r=0,i=n.length-1;if(n[0].type==="<at-keyword-token>"&&n[0].value==="media"){if(n[1].type!=="<whitespace-token>")throw mr("Expected whitespace after media");r=2;for(var s=2;s<n.length-1;s++){var o=n[s];if(o.type==="<{-token>"){i=s;break}else if(o.type==="<semicolon-token>")throw mr("Expected '{' in media query but found ';'")}}return n=n.slice(r,i),fU(n)},cU=function(e){for(var n=[],r=!1,i=0;i<e.length;i++)e[i].type==="<whitespace-token>"?(r=!0,n.length>0&&(n[n.length-1].wsAfter=!0)):(n.push(ug(ug({},e[i]),{wsBefore:r,wsAfter:!1})),r=!1);return n},fU=function(e){for(var n,r,i=[[]],s=0;s<e.length;s++){var o=e[s];o.type==="<comma-token>"?i.push([]):i[i.length-1].push(o)}var a=i.map(cU);if(a.length===1&&a[0].length===0)return[{mediaCondition:null,mediaPrefix:null,mediaType:"all"}];var l=a.map(function(g){return g.length===0?null:dU(g)}),c=[];try{for(var f=XF(l),d=f.next();!d.done;d=f.next()){var h=d.value;h!==null&&c.push(h)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(c.length===0)throw mr("No valid media queries");return c},dU=function(e){var n=e[0];if(n.type==="<(-token>")try{return{mediaPrefix:null,mediaType:"all",mediaCondition:Ry(e,!0)}}catch(d){throw mr("Expected media condition after '('",d)}else if(n.type==="<ident-token>"){var r=null,i=void 0,s=n.value;(s==="only"||s==="not")&&(r=s);var o=r===null?0:1;if(e.length<=o)throw mr("Expected extra token in media query");var a=e[o];if(a.type==="<ident-token>"){var l=a.value;if(l==="all")i="all";else if(l==="print"||l==="screen")i=l;else if(l==="tty"||l==="tv"||l==="projection"||l==="handheld"||l==="braille"||l==="embossed"||l==="aural"||l==="speech")r=r==="not"?null:"not",i="all";else throw mr("Unknown ident '".concat(l,"' in media query"))}else if(r==="not"&&a.type==="<(-token>"){var c=[{type:"<(-token>",wsBefore:!1,wsAfter:!1}];c.push.apply(c,e),c.push({type:"<)-token>",wsBefore:!1,wsAfter:!1});try{return{mediaPrefix:null,mediaType:"all",mediaCondition:Ry(c,!0)}}catch(d){throw mr("Expected media condition after '('",d)}}else throw mr("Invalid media query");if(o+1===e.length)return{mediaPrefix:r,mediaType:i,mediaCondition:null};if(o+4<e.length){var f=e[o+1];if(f.type==="<ident-token>"&&f.value==="and")try{return{mediaPrefix:r,mediaType:i,mediaCondition:Ry(e.slice(o+2),!1)}}catch(d){throw mr("Expected media condition after 'and'",d)}else throw mr("Expected 'and' after media prefix")}else throw mr("Expected media condition after media prefix")}else throw mr("Expected media condition or media prefix")},Ry=function t(e,n,r){if(r===void 0&&(r=null),e.length<3||e[0].type!=="<(-token>"||e[e.length-1].type!=="<)-token>")throw new Error("Invalid media condition");for(var i=e.length-1,s=0,o=0,a=0;a<e.length;a++){var l=e[a];if(l.type==="<(-token>"?(o+=1,s=Math.max(s,o)):l.type==="<)-token>"&&(o-=1),o===0){i=a;break}}if(o!==0)throw new Error(`Mismatched parens
Invalid media condition`);var c,f=e.slice(0,i+1);if(s===1?c=hU(f):f[1].type==="<ident-token>"&&f[1].value==="not"?c=t(f.slice(2,-1),!0,"not"):c=t(f.slice(1,-1),!0),i===e.length-1)return{operator:r,children:[c]};var d=e[i+1];if(d.type!=="<ident-token>")throw new Error(`Invalid operator
Invalid media condition`);if(r!==null&&r!==d.value)throw new Error("'".concat(d.value,"' and '").concat(r,`' must not be at same level
Invalid media condition`));if(d.value==="or"&&!n)throw new Error(`Cannot use 'or' at top level of a media query
Invalid media condition`);if(d.value!=="and"&&d.value!=="or")throw new Error("Invalid operator: '".concat(d.value,`'
Invalid media condition`));var h=t(e.slice(i+2),n,d.value);return{operator:d.value,children:[c].concat(h.children)}},hU=function(e){if(e.length<3||e[0].type!=="<(-token>"||e[e.length-1].type!=="<)-token>")throw new Error("Invalid media feature");for(var n=[e[0]],r=1;r<e.length;r++){if(r<e.length-2){var i=e[r],s=e[r+1],o=e[r+2];if(i.type==="<number-token>"&&i.value>0&&s.type==="<delim-token>"&&s.value===47&&o.type==="<number-token>"&&o.value>0){n.push({type:"<ratio-token>",numerator:i.value,denominator:o.value,wsBefore:i.wsBefore,wsAfter:o.wsAfter}),r+=2;continue}}n.push(e[r])}var a=n[1];if(a.type==="<ident-token>"&&n.length===3)return{context:"boolean",feature:a.value};if(n.length===5&&n[1].type==="<ident-token>"&&n[2].type==="<colon-token>"){var l=n[3];if(l.type==="<number-token>"||l.type==="<dimension-token>"||l.type==="<ratio-token>"||l.type==="<ident-token>"){var c=n[1].value,f=null,d=c.slice(0,4);d==="min-"?(f="min",c=c.slice(4)):d==="max-"&&(f="max",c=c.slice(4)),l.wsBefore,l.wsAfter;var h=Ow(l,["wsBefore","wsAfter"]);return{context:"value",prefix:f,feature:c,value:h}}}else if(n.length>=5)try{var g=pU(n);return{context:"range",feature:g.featureName,range:g}}catch(y){throw mr("Invalid media feature",y)}throw new Error("Invalid media feature")},pU=function(e){var n,r,i,s;if(e.length<5||e[0].type!=="<(-token>"||e[e.length-1].type!=="<)-token>")throw new Error("Invalid range");var o={leftToken:null,leftOp:null,featureName:"",rightOp:null,rightToken:null},a=e[1].type==="<number-token>"||e[1].type==="<dimension-token>"||e[1].type==="<ratio-token>"||e[1].type==="<ident-token>"&&e[1].value==="infinite";if(e[2].type==="<delim-token>"){if(e[2].value===60)e[3].type==="<delim-token>"&&e[3].value===61&&!e[3].wsBefore?o[a?"leftOp":"rightOp"]="<=":o[a?"leftOp":"rightOp"]="<";else if(e[2].value===62)e[3].type==="<delim-token>"&&e[3].value===61&&!e[3].wsBefore?o[a?"leftOp":"rightOp"]=">=":o[a?"leftOp":"rightOp"]=">";else if(e[2].value===61)o[a?"leftOp":"rightOp"]="=";else throw new Error("Invalid range");if(a)o.leftToken=e[1];else if(e[1].type==="<ident-token>")o.featureName=e[1].value;else throw new Error("Invalid range");var l=2+((r=(n=o[a?"leftOp":"rightOp"])===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0),c=e[l];if(a)if(c.type==="<ident-token>"){if(o.featureName=c.value,e.length>=7){var f=e[l+1],d=e[l+2];if(f.type==="<delim-token>"){var h=f.value;if(h===60)d.type==="<delim-token>"&&d.value===61&&!d.wsBefore?o.rightOp="<=":o.rightOp="<";else if(h===62)d.type==="<delim-token>"&&d.value===61&&!d.wsBefore?o.rightOp=">=":o.rightOp=">";else throw new Error("Invalid range");var g=e[l+1+((s=(i=o.rightOp)===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0)];o.rightToken=g}else throw new Error("Invalid range")}else if(l+2!==e.length)throw new Error("Invalid range")}else throw new Error("Invalid range");else o.rightToken=c;var y=null,v=o.leftToken,S=o.leftOp,b=o.featureName,w=o.rightOp,T=o.rightToken,N=null;if(v!==null){if(v.type==="<ident-token>"){var F=v.type,j=v.value;j==="infinite"&&(N={type:F,value:j})}else if(v.type==="<number-token>"||v.type==="<dimension-token>"||v.type==="<ratio-token>"){v.wsBefore,v.wsAfter;var A=Ow(v,["wsBefore","wsAfter"]);N=A}}var I=null;if(T!==null){if(T.type==="<ident-token>"){var F=T.type,j=T.value;j==="infinite"&&(I={type:F,value:j})}else if(T.type==="<number-token>"||T.type==="<dimension-token>"||T.type==="<ratio-token>"){T.wsBefore,T.wsAfter;var R=Ow(T,["wsBefore","wsAfter"]);I=R}}if(N!==null&&I!==null)if((S==="<"||S==="<=")&&(w==="<"||w==="<="))y={leftToken:N,leftOp:S,featureName:b,rightOp:w,rightToken:I};else if((S===">"||S===">=")&&(w===">"||w===">="))y={leftToken:N,leftOp:S,featureName:b,rightOp:w,rightToken:I};else throw new Error("Invalid range");else N===null&&S===null&&w!==null&&I!==null?y={leftToken:N,leftOp:S,featureName:b,rightOp:w,rightToken:I}:N!==null&&S!==null&&w===null&&I===null&&(y={leftToken:N,leftOp:S,featureName:b,rightOp:w,rightToken:I});return y}else throw new Error("Invalid range")};function mU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gU(t){var e=mU(t,"string");return typeof e=="symbol"?e:String(e)}function yU(t,e,n){return e=gU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){yU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NT(t,e){if(t==null)return{};var n=vU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rf(t,e){for(var n in t)e(t[n],n)}function Ul(t,e){var n={};for(var r in t)e.indexOf(r)===-1&&(n[r]=t[r]);return n}function wU(t,e){var n={};for(var r in t)n[e(t[r],r)]=t[r];return n}var DT;function _U(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var EU=(t,e)=>{var n=()=>{var i=new RegExp(".".concat(_U(W_(e,{isIdentifier:!0}))),"g");return t.replace(i,"&")},r;try{r=GF(t)}catch{throw new Error("Invalid selector: ".concat(n()))}r.forEach(i=>{try{for(var s=i.length-1;s>=-1;s--){if(!i[s])throw new Error;var o=i[s];if(o.type==="child"||o.type==="parent"||o.type==="sibling"||o.type==="adjacent"||o.type==="descendant")throw new Error;if(o.type==="attribute"&&o.name==="class"&&o.value===e)return}}catch{throw new Error(yR(DT||(DT=mR([`
        Invalid selector: `,`
    
        Style selectors must target the '&' character (along with any modifiers), e.g. `," or ",`.
        
        This is to ensure that each style block only affects the styling of a single class.
        
        If your selector is targeting another class, you should move it to the style definition for that class, e.g. given we have styles for 'parent' and 'child' elements, instead of adding a selector of `,") to 'parent', you should add ",` to 'child').
        
        If your selector is targeting something global, use the 'globalStyle' function instead, e.g. if you wanted to write `,", you should instead write 'globalStyle(",`, { ... })'
      `])),n(),"`${parent} &`","`${parent} &:hover`","`& ${child}`","`${parent} &`","`& h1`","`${parent} h1`"))}})};class cg{constructor(){this.ruleset=new Map,this.precedenceLookup=new Map}findOrCreateCondition(e){var n=this.ruleset.get(e);return n||(n={query:e,rules:[],children:new cg},this.ruleset.set(e,n)),n}getConditionalRulesetByPath(e){var n=this;for(var r of e){var i=n.findOrCreateCondition(r);n=i.children}return n}addRule(e,n,r){var i=this.getConditionalRulesetByPath(r),s=i.findOrCreateCondition(n);if(!s)throw new Error("Failed to add conditional rule");s.rules.push(e)}addConditionPrecedence(e,n){for(var r=this.getConditionalRulesetByPath(e),i=0;i<n.length;i++){var s,o=n[i],a=(s=r.precedenceLookup.get(o))!==null&&s!==void 0?s:new Set;for(var l of n.slice(i+1))a.add(l);r.precedenceLookup.set(o,a)}}isCompatible(e){for(var[n,r]of this.precedenceLookup.entries())for(var i of r){var s;if((s=e.precedenceLookup.get(i))!==null&&s!==void 0&&s.has(n))return!1}for(var{query:o,children:a}of e.ruleset.values()){var l=this.ruleset.get(o);if(l&&!l.children.isCompatible(a))return!1}return!0}merge(e){for(var{query:n,rules:r,children:i}of e.ruleset.values()){var s=this.ruleset.get(n);s?(s.rules.push(...r),s.children.merge(i)):this.ruleset.set(n,{query:n,rules:r,children:i})}for(var[o,a]of e.precedenceLookup.entries()){var l,c=(l=this.precedenceLookup.get(o))!==null&&l!==void 0?l:new Set;this.precedenceLookup.set(o,new Set([...c,...a]))}}mergeIfCompatible(e){return this.isCompatible(e)?(this.merge(e),!0):!1}getSortedRuleset(){var e=this,n=[],r=function(a){var l=e.ruleset.get(i);if(!l)throw new Error("Can't find condition for ".concat(i));var c=n.findIndex(f=>a.has(f.query));c>-1?n.splice(c,0,l):n.push(l)};for(var[i,s]of this.precedenceLookup.entries())r(s);return n}renderToArray(){var e=[];for(var{query:n,rules:r,children:i}of this.getSortedRuleset()){var s={};for(var o of r)s[o.selector]=o.rule;Object.assign(s,...i.renderToArray()),e.push({[n]:s})}return e}}var _R={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},bU=Object.keys(_R),SU=_R,MT,LT=(t,e)=>new Error(yR(MT||(MT=mR([`
    Invalid media query: "`,`"

    `,`

    Read more on MDN: https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries
  `])),t,e)),TU=t=>{if(t==="@media ")throw LT(t,"Query is empty");try{lU(t)}catch(e){throw LT(t,e.message)}},IU=["vars"],xU=["content"],ER="__DECLARATION",CU={animationIterationCount:!0,borderImage:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,initialLetter:!0,lineClamp:!0,lineHeight:!0,maxLines:!0,opacity:!0,order:!0,orphans:!0,scale:!0,tabSize:!0,WebkitLineClamp:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,maskBorder:!0,maskBorderOutset:!0,maskBorderSlice:!0,maskBorderWidth:!0,shapeImageThreshold:!0,stopOpacity:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function AU(t){return t.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function kU(t,e,n,r){var i=t.slice(0,e),s=t.slice(n);return"".concat(i).concat(r).concat(s)}var RU="  ",jl=[...bU,"@layer","@media","@supports","@container","selectors"];class PU{constructor(e,n){this.rules=[],this.conditionalRulesets=[new cg],this.fontFaceRules=[],this.keyframesRules=[],this.localClassNamesMap=new Map(e.map(r=>[r,r])),this.localClassNamesSearch=new MF(e),this.layers=new Map,this.composedClassLists=n.map(r=>{var{identifier:i,classList:s}=r;return{identifier:i,regex:RegExp("(".concat(s,")"),"g")}}).reverse()}processCssObj(e){if(e.type==="fontFace"){this.fontFaceRules.push(e.rule);return}if(e.type==="keyframes"){e.rule=Object.fromEntries(Object.entries(e.rule).map(s=>{var[o,a]=s;return[o,this.transformProperties(a)]})),this.keyframesRules.push(e);return}if(this.currConditionalRuleset=new cg,e.type==="layer"){var n="@layer ".concat(e.name);this.addLayer([n])}else{var r=Ul(e.rule,jl);this.addRule({selector:e.selector,rule:r}),this.transformLayer(e,e.rule["@layer"]),this.transformMedia(e,e.rule["@media"]),this.transformSupports(e,e.rule["@supports"]),this.transformContainer(e,e.rule["@container"]),this.transformSimplePseudos(e,e.rule),this.transformSelectors(e,e.rule)}var i=this.conditionalRulesets[this.conditionalRulesets.length-1];i.mergeIfCompatible(this.currConditionalRuleset)||this.conditionalRulesets.push(this.currConditionalRuleset)}addConditionalRule(e,n){var r=this.transformVars(this.transformProperties(e.rule)),i=this.transformSelector(e.selector);if(!this.currConditionalRuleset)throw new Error("Couldn't add conditional rule");var s=n[n.length-1],o=n.slice(0,n.length-1);this.currConditionalRuleset.addRule({selector:i,rule:r},s,o)}addRule(e){var n=this.transformVars(this.transformProperties(e.rule)),r=this.transformSelector(e.selector);this.rules.push({selector:r,rule:n})}addLayer(e){var n=e.join(" - ");this.layers.set(n,e)}transformProperties(e){return this.transformContent(this.pixelifyProperties(e))}pixelifyProperties(e){return rf(e,(n,r)=>{typeof n=="number"&&n!==0&&!CU[r]&&(e[r]="".concat(n,"px"))}),e}transformVars(e){var{vars:n}=e,r=NT(e,IU);return n?Py(Py({},wU(n,(i,s)=>Pw(s))),r):r}transformContent(e){var{content:n}=e,r=NT(e,xU);if(typeof n>"u")return r;var i=Array.isArray(n)?n:[n];return Py({content:i.map(s=>s&&(s.includes('"')||s.includes("'")||/^([A-Za-z\-]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)(\s|$)/.test(s))?s:'"'.concat(s,'"'))},r)}transformClassname(e){return".".concat(W_(e,{isIdentifier:!0}))}transformSelector(e){var n=e,r=function(g){n=n.replace(s,()=>(UF(g),g))};for(var{identifier:i,regex:s}of this.composedClassLists)r(i);if(this.localClassNamesMap.has(n))return this.transformClassname(n);for(var o=this.localClassNamesSearch.search(n),a=n.length,l=o.length-1;l>=0;l--){var[c,[f]]=o[l],d=c-f.length+1;d>=a||(a=d,n[d-1]!=="."&&(n=kU(n,d,c+1,this.transformClassname(f))))}return n}transformSelectors(e,n,r){rf(n.selectors,(i,s)=>{if(e.type!=="local")throw new Error("Selectors are not allowed within ".concat(e.type==="global"?'"globalStyle"':'"selectors"'));var o=this.transformSelector(s.replace(RegExp("&","g"),e.selector));EU(o,e.selector);var a={selector:o,rule:Ul(i,jl)};r?this.addConditionalRule(a,r):this.addRule(a);var l={type:"selector",selector:o,rule:i};this.transformLayer(l,i["@layer"],r),this.transformSupports(l,i["@supports"],r),this.transformMedia(l,i["@media"],r)})}transformMedia(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n){var i;(i=this.currConditionalRuleset)===null||i===void 0||i.addConditionPrecedence(r,Object.keys(n).map(c=>"@media ".concat(c)));for(var[s,o]of Object.entries(n)){var a="@media ".concat(s);TU(a);var l=[...r,a];this.addConditionalRule({selector:e.selector,rule:Ul(o,jl)},l),e.type==="local"&&(this.transformSimplePseudos(e,o,l),this.transformSelectors(e,o,l)),this.transformLayer(e,o["@layer"],l),this.transformSupports(e,o["@supports"],l),this.transformContainer(e,o["@container"],l)}}}transformContainer(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n){var i;(i=this.currConditionalRuleset)===null||i===void 0||i.addConditionPrecedence(r,Object.keys(n).map(s=>"@container ".concat(s))),rf(n,(s,o)=>{var a="@container ".concat(o),l=[...r,a];this.addConditionalRule({selector:e.selector,rule:Ul(s,jl)},l),e.type==="local"&&(this.transformSimplePseudos(e,s,l),this.transformSelectors(e,s,l)),this.transformLayer(e,s["@layer"],l),this.transformSupports(e,s["@supports"],l),this.transformMedia(e,s["@media"],l)})}}transformLayer(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n){var i;(i=this.currConditionalRuleset)===null||i===void 0||i.addConditionPrecedence(r,Object.keys(n).map(s=>"@layer ".concat(s))),rf(n,(s,o)=>{var a=[...r,"@layer ".concat(o)];this.addLayer(a),this.addConditionalRule({selector:e.selector,rule:Ul(s,jl)},a),e.type==="local"&&(this.transformSimplePseudos(e,s,a),this.transformSelectors(e,s,a)),this.transformMedia(e,s["@media"],a),this.transformSupports(e,s["@supports"],a),this.transformContainer(e,s["@container"],a)})}}transformSupports(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n){var i;(i=this.currConditionalRuleset)===null||i===void 0||i.addConditionPrecedence(r,Object.keys(n).map(s=>"@supports ".concat(s))),rf(n,(s,o)=>{var a=[...r,"@supports ".concat(o)];this.addConditionalRule({selector:e.selector,rule:Ul(s,jl)},a),e.type==="local"&&(this.transformSimplePseudos(e,s,a),this.transformSelectors(e,s,a)),this.transformLayer(e,s["@layer"],a),this.transformMedia(e,s["@media"],a),this.transformContainer(e,s["@container"],a)})}}transformSimplePseudos(e,n,r){for(var i of Object.keys(n))if(SU[i]){if(e.type!=="local")throw new Error("Simple pseudos are not valid in ".concat(e.type==="global"?'"globalStyle"':'"selectors"'));r?this.addConditionalRule({selector:"".concat(e.selector).concat(i),rule:n[i]},r):this.addRule({conditions:r,selector:"".concat(e.selector).concat(i),rule:n[i]})}}toCss(){var e=[];for(var n of this.fontFaceRules)e.push(Oa({"@font-face":n}));for(var r of this.keyframesRules)e.push(Oa({["@keyframes ".concat(r.name)]:r.rule}));for(var i of this.layers.values()){var[s,...o]=i.reverse(),a={[s]:ER};for(var l of o)a={[l]:a};e.push(Oa(a))}for(var c of this.rules)e.push(Oa({[c.selector]:c.rule}));for(var f of this.conditionalRulesets)for(var d of f.renderToArray())e.push(Oa(d));return e.filter(Boolean)}}function Oa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=[],r=function(o){var a=t[o];if(a&&Array.isArray(a))n.push(...a.map(c=>Oa({[o]:c},e)));else if(a&&typeof a=="object"){var l=Object.keys(a).length===0;l||n.push("".concat(e).concat(o,` {
`).concat(Oa(a,e+RU),`
`).concat(e,"}"))}else a===ER?n.push("".concat(e).concat(o,";")):n.push("".concat(e).concat(o.startsWith("--")?o:AU(o),": ").concat(a,";"))};for(var i of Object.keys(t))r(i);return n.join(`
`)}function OU(t){var{localClassNames:e,cssObjs:n,composedClassLists:r}=t,i=new PU(e,r);for(var s of n)i.processCssObj(s);return i.toCss()}var NU=function(e){return DU(e)&&!MU(e)};function DU(t){return!!t&&typeof t=="object"}function MU(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||VU(t)}var LU=typeof Symbol=="function"&&Symbol.for,$U=LU?Symbol.for("react.element"):60103;function VU(t){return t.$$typeof===$U}function FU(t){return Array.isArray(t)?[]:{}}function yd(t,e){return e.clone!==!1&&e.isMergeableObject(t)?vd(FU(t),t,e):t}function UU(t,e,n){return t.concat(e).map(function(r){return yd(r,n)})}function jU(t,e){if(!e.customMerge)return vd;var n=e.customMerge(t);return typeof n=="function"?n:vd}function BU(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function $T(t){return Object.keys(t).concat(BU(t))}function bR(t,e){try{return e in t}catch{return!1}}function zU(t,e){return bR(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function WU(t,e,n){var r={};return n.isMergeableObject(t)&&$T(t).forEach(function(i){r[i]=yd(t[i],n)}),$T(e).forEach(function(i){zU(t,i)||(bR(t,i)&&n.isMergeableObject(e[i])?r[i]=jU(i,n)(t[i],e[i],n):r[i]=yd(e[i],n))}),r}function vd(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||UU,n.isMergeableObject=n.isMergeableObject||NU,n.cloneUnlessOtherwiseSpecified=yd;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):WU(t,e,n):yd(e,n)}vd.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return vd(r,i,n)},{})};var VT=new Set,FT=[],Oy=[],HU={appendCss:t=>{Oy.push(t)},registerClassName:t=>{VT.add(t)},registerComposition:t=>{FT.push(t)},markCompositionUsed:()=>{},onEndFileScope:t=>{var e=OU({localClassNames:Array.from(VT),composedClassLists:FT,cssObjs:Oy}).join(`
`);CF({fileScope:t,css:e}),Oy=[]},getIdentOption:()=>"short"};VF(HU);function qU(t,e){return B_(t,(n,r)=>{var i=typeof e=="function"?e(n,r):n,s=typeof i=="string"?i.replace(/^\-\-/,""):null;if(typeof s!="string"||s!==W_(s,{isIdentifier:!0}))throw new Error('Invalid variable name for "'.concat(r.join("."),'": ').concat(s));return"var(--".concat(s,")")})}var GU=Object.create,SR=Object.defineProperty,KU=Object.getOwnPropertyDescriptor,q_=Object.getOwnPropertyNames,QU=Object.getPrototypeOf,YU=Object.prototype.hasOwnProperty,XU=(t,e)=>function(){return t&&(e=(0,t[q_(t)[0]])(t=0)),e},JU=(t,e)=>function(){return e||(0,t[q_(t)[0]])((e={exports:{}}).exports,e),e.exports},ZU=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of q_(e))!YU.call(t,i)&&i!==n&&SR(t,i,{get:()=>e[i],enumerable:!(r=KU(e,i))||r.enumerable});return t},ej=(t,e,n)=>(n=t!=null?GU(QU(t)):{},ZU(e||!t||!t.__esModule?SR(n,"default",{value:t,enumerable:!0}):n,t)),tj=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},va=(t,e,n)=>(tj(t,e,"read from private field"),n?n.call(t):e.get(t)),wa=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},nj=XU({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),rj=JU({"src/components/styling/StyleMarker.css.ts"(){nj()}}),a0={all:{baseScope:"wallet"},connectWallet:ao("connect-wallet"),autoconnectWallet:ao("autoconnect-wallet"),disconnectWallet:ao("disconnect-wallet"),signPersonalMessage:ao("sign-personal-message"),signTransaction:ao("sign-transaction"),signAndExecuteTransaction:ao("sign-and-execute-transaction"),switchAccount:ao("switch-account"),reportTransactionEffects:ao("report-transaction-effects")};function ao(t){return function(n=[]){return[{...a0.all,baseEntity:t},...n]}}var TR=x.createContext(null);function Yn(t){const e=x.useContext(TR);if(!e)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return l8(e,t)}function G_({mutationKey:t,...e}={}){const n=Yn(i=>i.setWalletConnected),r=Yn(i=>i.setConnectionStatus);return T_({mutationKey:a0.connectWallet(t),mutationFn:async({wallet:i,accountAddress:s,...o})=>{try{r("connecting");const a=await i.features["standard:connect"].connect(o),l=a.accounts.filter(f=>f.chains.some(d=>d.split(":")[0]==="sui")),c=ij(l,s);return n(i,l,c,a.supportedIntents),{accounts:l}}catch(a){throw r("disconnected"),a}},...e})}function ij(t,e){return t.length===0?null:e?t.find(r=>r.address===e)??t[0]:t[0]}function im(t,e){const i=e0().get().filter(s=>m8(s)&&(!e||e(s)));return[...t.map(s=>i.find(o=>o.name===s)).filter(Boolean),...i.filter(s=>!t.includes(s.name))]}function Ka(t){return(t==null?void 0:t.id)??(t==null?void 0:t.name)}function sj(t){return q.jsx("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:q.jsx("path",{d:"M7.57 12.262c0 .341.13.629.403.895l5.175 5.059c.204.205.45.307.751.307.609 0 1.101-.485 1.101-1.087 0-.293-.123-.574-.349-.8L10.14 12.27l4.511-4.375A1.13 1.13 0 0 0 15 7.087C15 6.485 14.508 6 13.9 6c-.295 0-.54.103-.752.308l-5.175 5.058c-.28.28-.404.56-.404.896Z",fill:"currentColor"})})}function oj(t){return q.jsx("svg",{width:10,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:q.jsx("path",{d:"M9.708.292a.999.999 0 0 0-1.413 0l-3.289 3.29L1.717.291A.999.999 0 0 0 .305 1.705l3.289 3.289-3.29 3.289a.999.999 0 1 0 1.413 1.412l3.29-3.289 3.288 3.29a.999.999 0 0 0 1.413-1.413l-3.29-3.29 3.29-3.288a.999.999 0 0 0 0-1.413Z",fill:"currentColor"})})}var IR="data-dapp-kit",aj=`[${IR}]`,lj={[IR]:""};ej(rj());var wd=x.forwardRef(({children:t,...e},n)=>q.jsx(Rn,{ref:n,...e,...lj,children:t}));wd.displayName="StyleMarker";var uj=x_({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),vl=x.forwardRef(({children:t,className:e,asChild:n=!1,as:r="h1",size:i,weight:s,truncate:o,...a},l)=>q.jsx(Rn,{...a,ref:l,className:Ln(uj({size:i,weight:s,truncate:o}),e),children:n?t:q.jsx(r,{children:t})}));vl.displayName="Heading";var cj="IconButton_container__s6n7bq0",Nw=x.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?Rn:"button";return q.jsx(i,{...n,className:Ln(cj,t),ref:r})});Nw.displayName="Button";var fj="ConnectModal_backButtonContainer__gz8z96",dj="ConnectModal_closeButtonContainer__gz8z97",hj="ConnectModal_content__gz8z92",pj="ConnectModal_overlay__gz8z90",mj="ConnectModal_selectedViewContainer__gz8z95",gj="ConnectModal_title__gz8z91",yj="ConnectModal_viewContainer__gz8z94",vj="ConnectModal_walletListContainer__gz8z99",wj="ConnectModal_walletListContainerWithViewSelected__gz8z9a",_j="ConnectModal_walletListContent__gz8z98",Ej="ConnectModal_whatIsAWalletButton__gz8z93",bj=x_({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),nh=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Rn:"button";return q.jsx(o,{...i,className:Ln(bj({variant:e,size:n}),t),ref:s})});nh.displayName="Button";var Sj=x_({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),uc=x.forwardRef(({children:t,className:e,asChild:n=!1,as:r="div",size:i,weight:s,color:o,mono:a,...l},c)=>q.jsx(Rn,{...l,ref:c,className:Ln(Sj({size:i,weight:s,color:o,mono:a}),e),children:n?t:q.jsx(r,{children:t})}));uc.displayName="Text";var Tj="ConnectionStatus_connectionStatus__nckm2d3",Ij="ConnectionStatus_container__nckm2d0",xj="ConnectionStatus_retryButtonContainer__nckm2d4",Cj="ConnectionStatus_title__nckm2d2",Aj="ConnectionStatus_walletIcon__nckm2d1";function kj({selectedWallet:t,hadConnectionError:e,onRetryConnection:n}){return q.jsxs("div",{className:Ij,children:[q.jsx("img",{className:Aj,src:t.icon,alt:`${t.name} logo`}),q.jsx("div",{className:Cj,children:q.jsxs(vl,{as:"h2",size:"xl",children:["Opening ",t.name]})}),q.jsx("div",{className:Tj,children:e?q.jsx(uc,{color:"danger",children:"Connection failed"}):q.jsx(uc,{color:"muted",children:"Confirm connection in the wallet..."})}),e?q.jsx("div",{className:xj,children:q.jsx(nh,{type:"button",variant:"outline",onClick:()=>n(t),children:"Retry Connection"})}):null]})}var Rj="InfoSection_container__1wtioi70";function Ff({title:t,children:e}){return q.jsxs("section",{className:Rj,children:[q.jsx(vl,{as:"h3",size:"sm",weight:"normal",children:t}),q.jsx(uc,{weight:"medium",color:"muted",children:e})]})}var Pj="GettingStarted_container__1fp07e10",Oj="GettingStarted_content__1fp07e11",Nj="GettingStarted_installButtonContainer__1fp07e12";function Dj(){return q.jsxs("div",{className:Pj,children:[q.jsx(vl,{as:"h2",children:"Get Started with Sui"}),q.jsxs("div",{className:Oj,children:[q.jsx(Ff,{title:"Install the Sui Wallet Extension",children:"We recommend pinning Sui Wallet to your taskbar for quicker access."}),q.jsx(Ff,{title:"Create or Import a Wallet",children:"Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."}),q.jsx(Ff,{title:"Refresh Your Browser",children:"Once you set up your wallet, refresh this window browser to load up the extension."}),q.jsx("div",{className:Nj,children:q.jsx(nh,{variant:"outline",asChild:!0,children:q.jsx("a",{href:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",target:"_blank",rel:"noreferrer",children:"Install Wallet Extension"})})})]})]})}var Mj="WhatIsAWallet_container__1ktpkq90",Lj="WhatIsAWallet_content__1ktpkq91";function UT(){return q.jsxs("div",{className:Mj,children:[q.jsx(vl,{as:"h2",children:"What is a Wallet"}),q.jsxs("div",{className:Lj,children:[q.jsx(Ff,{title:"Easy Login",children:"No need to create new accounts and passwords for every website. Just connect your wallet and get going."}),q.jsx(Ff,{title:"Store your Digital Assets",children:"Send, receive, store, and display your digital assets like NFTs & coins."})]})]})}function xR(){return Yn(t=>t.wallets)}function $j(t){return q.jsxs("svg",{width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[q.jsx("rect",{width:28,height:28,rx:6,fill:"#6FBCF0"}),q.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.942 20.527A6.875 6.875 0 0 0 13.957 24c2.51 0 4.759-1.298 6.015-3.473a6.875 6.875 0 0 0 0-6.945l-5.29-9.164a.837.837 0 0 0-1.45 0l-5.29 9.164a6.875 6.875 0 0 0 0 6.945Zm4.524-11.75 1.128-1.953a.418.418 0 0 1 .725 0l4.34 7.516a5.365 5.365 0 0 1 .449 4.442 4.675 4.675 0 0 0-.223-.73c-.599-1.512-1.954-2.68-4.029-3.47-1.426-.54-2.336-1.336-2.706-2.364-.476-1.326.021-2.77.316-3.44Zm-1.923 3.332L9.255 14.34a5.373 5.373 0 0 0 0 5.43 5.373 5.373 0 0 0 4.702 2.714 5.38 5.38 0 0 0 3.472-1.247c.125-.314.51-1.462.034-2.646-.44-1.093-1.5-1.965-3.15-2.594-1.864-.707-3.076-1.811-3.6-3.28a4.601 4.601 0 0 1-.17-.608Z",fill:"#fff"})]})}var Vj="WalletList_container__1v2s6cz0",Fj="WalletListItem_container__1dqqtqs0",Uj="WalletListItem_selectedWalletItem__1dqqtqs2",jj="WalletListItem_walletIcon__1dqqtqs3",Bj="WalletListItem_walletItem__1dqqtqs1";function jT({name:t,icon:e,onClick:n,isSelected:r=!1}){return q.jsx("li",{className:Fj,children:q.jsxs("button",{className:Ln(Bj,{[Uj]:r}),type:"button",onClick:n,children:[typeof e=="string"?q.jsx("img",{className:jj,src:e,alt:`${t} logo`}):e,q.jsx(vl,{size:"md",truncate:!0,asChild:!0,children:q.jsx("div",{children:t})})]})})}function zj({selectedWalletName:t,onPlaceholderClick:e,onSelect:n}){const r=xR();return q.jsx("ul",{className:Vj,children:r.length>0?r.map(i=>q.jsx(jT,{name:i.name,icon:i.icon,isSelected:Ka(i)===t,onClick:()=>n(i)},Ka(i))):q.jsx(jT,{name:"Sui Wallet",icon:q.jsx($j,{}),onClick:e,isSelected:!0})})}function Wj({trigger:t,open:e,defaultOpen:n,onOpenChange:r}){const[i,s]=x.useState(e??n),[o,a]=x.useState(),[l,c]=x.useState(),{mutate:f,isError:d}=G_(),h=()=>{c(void 0),a(void 0)},g=S=>{S||h(),s(S),r==null||r(S)},y=S=>{a("connection-status"),f({wallet:S},{onSuccess:()=>g(!1)})};let v;switch(o){case"what-is-a-wallet":v=q.jsx(UT,{});break;case"getting-started":v=q.jsx(Dj,{});break;case"connection-status":v=q.jsx(kj,{selectedWallet:l,hadConnectionError:d,onRetryConnection:y});break;default:v=q.jsx(UT,{})}return q.jsxs(J5,{open:e??i,onOpenChange:g,children:[q.jsx(Z5,{asChild:!0,children:t}),q.jsx(eL,{children:q.jsx(wd,{children:q.jsx(tL,{className:pj,children:q.jsxs(nL,{className:hj,"aria-describedby":void 0,children:[q.jsxs("div",{className:Ln(vj,{[wj]:!!o}),children:[q.jsxs("div",{className:_j,children:[q.jsx(rL,{className:gj,asChild:!0,children:q.jsx(vl,{as:"h2",children:"Connect a Wallet"})}),q.jsx(zj,{selectedWalletName:Ka(l),onPlaceholderClick:()=>a("getting-started"),onSelect:S=>{Ka(l)!==Ka(S)&&(c(S),y(S))}})]}),q.jsx("button",{className:Ej,onClick:()=>a("what-is-a-wallet"),type:"button",children:"What is a Wallet?"})]}),q.jsxs("div",{className:Ln(yj,{[mj]:!!o}),children:[q.jsx("div",{className:fj,children:q.jsx(Nw,{type:"button","aria-label":"Back",onClick:()=>h(),children:q.jsx(sj,{})})}),v]}),q.jsx(iL,{className:dj,asChild:!0,children:q.jsx(Nw,{type:"button","aria-label":"Close",children:q.jsx(oj,{})})})]})})})})]})}function l0(){return Yn(t=>t.currentAccount)}var CR=x.createContext(null),Hj={localnet:{url:pf("localnet")}},qj=function(e,n){return kM(n)?n:new RA(n)};function Gj(t){const{onNetworkChange:e,network:n,children:r}=t,i=t.networks??Hj,s=t.createClient??qj,[o,a]=x.useState(t.network??t.defaultNetwork??Object.keys(i)[0]),l=t.network??o,c=x.useMemo(()=>s(l,i[l]),[s,l,i]),f=x.useMemo(()=>({client:c,networks:i,network:l,config:i[l]instanceof RA?null:i[l],selectNetwork:d=>{l!==d&&(!n&&d!==o&&a(d),e==null||e(d))}}),[c,i,o,l,n,e]);return q.jsx(CR.Provider,{value:f,children:r})}function K_(){const t=x.useContext(CR);if(!t)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return t}function Kj(){return K_().client}function AR(...t){const[e,n,{queryKey:r=[],...i}={}]=t,s=K_();return mk({...i,queryKey:[s.network,e,n,...r],queryFn:async()=>await s.client[e](n)})}function kR(t,e){return AR("resolveNameServiceNames",{address:t,limit:1},{...e,refetchOnWindowFocus:!1,retry:!1,select:n=>n.data.length>0?n.data[0]:null,enabled:!!t&&(e==null?void 0:e.enabled)!==!1})}function Qj(){return Yn(t=>t.accounts)}var RR=class extends Error{},Yj=class extends Error{};function u0(){const t=Yn(r=>r.currentWallet),e=Yn(r=>r.connectionStatus),n=Yn(r=>r.supportedIntents);switch(e){case"connecting":return{connectionStatus:e,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:e,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:e,currentWallet:t,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:n}}}function Xj({mutationKey:t,...e}={}){const{currentWallet:n}=u0(),r=Yn(i=>i.setWalletDisconnected);return T_({mutationKey:a0.disconnectWallet(t),mutationFn:async()=>{var i;if(!n)throw new RR("No wallet is connected.");try{await((i=n.features["standard:disconnect"])==null?void 0:i.disconnect())}catch(s){console.error("Failed to disconnect the application from the current wallet.",s)}r()},...e})}function Jj({mutationKey:t,...e}={}){const{currentWallet:n}=u0(),r=Yn(i=>i.setAccountSwitched);return T_({mutationKey:a0.switchAccount(t),mutationFn:async({account:i})=>{if(!n)throw new RR("No wallet is connected.");const s=n.accounts.find(o=>o.address===i.address);if(!s)throw new Yj(`No account with address ${i.address} is connected to ${n.name}.`);r(s)},...e})}var Zj="AccountDropdownMenu_connectedAccount__div2ql0",e7="AccountDropdownMenu_menuContainer__div2ql1",t7="AccountDropdownMenu_menuContent__div2ql2",PR="AccountDropdownMenu_menuItem__div2ql3",n7="AccountDropdownMenu_separator__div2ql5",r7="AccountDropdownMenu_switchAccountMenuItem__div2ql4";function i7(t){return q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...t,children:q.jsx("path",{fill:"currentColor",d:"m11.726 5.048-4.73 5.156-1.722-1.879a.72.72 0 0 0-.529-.23.722.722 0 0 0-.525.24.858.858 0 0 0-.22.573.86.86 0 0 0 .211.576l2.255 2.458c.14.153.332.24.53.24.2 0 .391-.087.532-.24l5.261-5.735A.86.86 0 0 0 13 5.63a.858.858 0 0 0-.22-.572.722.722 0 0 0-.525-.24.72.72 0 0 0-.529.23Z"})})}function s7(t){return q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...t,children:q.jsx("path",{stroke:"#A0B6C3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m4 6 4 4 4-4"})})}function o7({currentAccount:t}){const{mutate:e}=Xj(),{data:n}=kR(t.label?null:t.address),r=Qj();return q.jsxs(U9,{modal:!1,children:[q.jsx(wd,{children:q.jsx(j9,{asChild:!0,children:q.jsxs(nh,{size:"lg",className:Zj,children:[q.jsx(uc,{mono:!0,weight:"bold",children:t.label??n??hA(t.address)}),q.jsx(s7,{})]})})}),q.jsx(B9,{children:q.jsx(wd,{className:e7,children:q.jsxs(z9,{className:t7,children:[r.map(i=>q.jsx(a7,{account:i,active:t.address===i.address},i.address)),q.jsx(W9,{className:n7}),q.jsx(Kk,{className:Ln(PR),onSelect:()=>e(),children:"Disconnect"})]})})})]})}function a7({account:t,active:e}){const{mutate:n}=Jj(),{data:r}=kR(t.label?null:t.address);return q.jsxs(Kk,{className:Ln(PR,r7),onSelect:()=>n({account:t}),children:[q.jsx(uc,{mono:!0,children:t.label??r??hA(t.address)}),e?q.jsx(i7,{}):null]})}function l7({connectText:t="Connect Wallet",...e}){const n=l0();return n?q.jsx(o7,{currentAccount:n}):q.jsx(Wj,{trigger:q.jsx(wd,{children:q.jsx(nh,{...e,children:t})})})}function OR(){const t=new Map;return{getItem(e){return t.get(e)},setItem(e,n){t.set(e,n)},removeItem(e){t.delete(e)}}}var u7="Sui Wallet",c7=typeof window<"u"&&window.localStorage?localStorage:OR(),f7="sui-dapp-kit:wallet-connection-info",d7=["sui:signTransaction","sui:signTransactionBlock"],NR=t=>d7.some(e=>t.features[e]),DR=[u7,dR];function MR(){const{mutateAsync:t}=G_(),e=Yn(f=>f.autoConnectEnabled),n=Yn(f=>f.lastConnectedWalletName),r=Yn(f=>f.lastConnectedAccountAddress),i=xR(),{isConnected:s}=u0(),[o,a]=x.useState(!1);x.useLayoutEffect(()=>{a(!0)},[]);const{data:l,isError:c}=mk({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:s,autoConnectEnabled:e,lastConnectedWalletName:n,lastConnectedAccountAddress:r,walletCount:i.length}],queryFn:async()=>{if(!e)return"disabled";if(!n||!r||s)return"attempted";const f=i.find(d=>Ka(d)===n);return f&&await t({wallet:f,accountAddress:r,silent:!0}),"attempted"},enabled:e,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return e?o?s||!n||c?"attempted":l??"idle":"idle":"disabled"}function h7(t){const e=MR(),[n,r]=x.useState(null),[i,s]=x.useState(null),{mutate:o}=G_();x.useEffect(()=>{!n||!i||e!=="attempted"||(o({wallet:i,silent:!0}),r(null))},[n,e,o,i]),x.useLayoutEffect(()=>{if(!(t!=null&&t.name))return;const{wallet:a,unregister:l,addressFromRedirect:c}=_F(t.name,{origin:t.origin});return c&&(s(a),r(c)),l},[t==null?void 0:t.name,t==null?void 0:t.origin])}var BT="Unsafe Burner Wallet";function p7(t){const e=Kj();x.useEffect(()=>t?m7(e):void 0,[t,e])}function m7(t){var e,n,r,i,s,o,a;const l=e0();if(l.get().find(g=>g.name===BT)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const f=new hu,d=new t0({address:f.getPublicKey().toSuiAddress(),publicKey:f.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class h{constructor(){wa(this,e,()=>()=>{}),wa(this,n,async()=>({accounts:this.accounts})),wa(this,r,async y=>{const{bytes:v,signature:S}=await f.signPersonalMessage(y.message);return{bytes:v,signature:S}}),wa(this,i,async y=>{const{bytes:v,signature:S}=await y.transactionBlock.sign({client:t,signer:f});return{transactionBlockBytes:v,signature:S}}),wa(this,s,async y=>{var b;const{bytes:v,signature:S}=await Yv.from(await y.transaction.toJSON()).sign({client:t,signer:f});return(b=y.signal)==null||b.throwIfAborted(),{bytes:v,signature:S}}),wa(this,o,async y=>{const{bytes:v,signature:S}=await y.transactionBlock.sign({client:t,signer:f});return t.executeTransactionBlock({signature:S,transactionBlock:v,options:y.options})}),wa(this,a,async y=>{var T;const{bytes:v,signature:S}=await Yv.from(await y.transaction.toJSON()).sign({client:t,signer:f});(T=y.signal)==null||T.throwIfAborted();const{rawEffects:b,digest:w}=await t.executeTransactionBlock({signature:S,transactionBlock:v,options:{showRawEffects:!0}});return{bytes:v,signature:S,digest:w,effects:Ft(new Uint8Array(b))}})}get version(){return"1.0.0"}get name(){return BT}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return w8}get accounts(){return[d]}get features(){return{"standard:connect":{version:"1.0.0",connect:va(this,n)},"standard:events":{version:"1.0.0",on:va(this,e)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:va(this,r)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:va(this,i)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:va(this,o)},"sui:signTransaction":{version:"2.0.0",signTransaction:va(this,s)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:va(this,a)}}}}return e=new WeakMap,n=new WeakMap,r=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,l.register(new h)}function g7(){const{currentWallet:t}=u0(),e=Yn(n=>n.updateWalletAccounts);x.useEffect(()=>t==null?void 0:t.features["standard:events"].on("change",({accounts:r})=>{r&&e(r)}),[t==null?void 0:t.features,e])}function y7(t,e){const n=Yn(i=>i.setWalletRegistered),r=Yn(i=>i.setWalletUnregistered);x.useEffect(()=>{const i=e0();n(im(t,e));const s=i.on("register",()=>{n(im(t,e))}),o=i.on("unregister",a=>{r(im(t,e),a)});return()=>{s(),o()}},[t,e,n,r])}var v7={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function w7({wallets:t,storage:e,storageKey:n,autoConnectEnabled:r}){return VL()(TF((i,s)=>({autoConnectEnabled:r,wallets:t,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(o){i(()=>({connectionStatus:o}))},setWalletConnected(o,a,l,c=[]){i(()=>({accounts:a,currentWallet:o,currentAccount:l,lastConnectedWalletName:Ka(o),lastConnectedAccountAddress:l==null?void 0:l.address,connectionStatus:"connected",supportedIntents:c}))},setWalletDisconnected(){i(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(o){i(()=>({currentAccount:o,lastConnectedAccountAddress:o.address}))},setWalletRegistered(o){i(()=>({wallets:o}))},setWalletUnregistered(o,a){a===s().currentWallet?i(()=>({wallets:o,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):i(()=>({wallets:o}))},updateWalletAccounts(o){const a=s().currentAccount;i(()=>({accounts:o,currentAccount:a&&o.find(({address:l})=>l===a.address)||o[0]}))}}),{name:n,storage:hR(()=>e),partialize:({lastConnectedWalletName:i,lastConnectedAccountAddress:s})=>({lastConnectedWalletName:i,lastConnectedAccountAddress:s})}))}var _7={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},E7=qU(_7,(t,e)=>`dapp-kit-${e.join("-")}`);function b7({theme:t}){const e=Array.isArray(t)?S7(t):LR(t);return q.jsx("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:e}})}function S7(t){return t.map(({mediaQuery:e,selector:n,variables:r})=>{const i=LR(r),s=n?`${n} ${i}`:i;return e?`@media ${e}{${s}}`:s}).join(" ")}function LR(t){return`${aj} {${T7(t)}}`}function T7(t){return Object.entries(xF(E7,t)).map(([e,n])=>`${e}:${n};`).join("")}function I7({preferredWallets:t=DR,walletFilter:e=NR,storage:n=c7,storageKey:r=f7,enableUnsafeBurner:i=!1,autoConnect:s=!1,stashedWallet:o,theme:a=v7,children:l}){const c=x.useRef(w7({autoConnectEnabled:s,wallets:im(t,e),storage:n||OR(),storageKey:r}));return q.jsx(TR.Provider,{value:c.current,children:q.jsxs(x7,{preferredWallets:t,walletFilter:e,enableUnsafeBurner:i,stashedWallet:o,children:[a?q.jsx(b7,{theme:a}):null,l]})})}function x7({preferredWallets:t=DR,walletFilter:e=NR,enableUnsafeBurner:n=!1,stashedWallet:r,children:i}){return y7(t,e),g7(),h7(r),p7(n),MR(),i}function C7(t){function e(){const{config:i}=K_();if(!i)throw new Error("No network config found");return i}function n(){const{variables:i}=e();return i??{}}function r(i){return n()[i]}return{networkConfig:t,useNetworkConfig:e,useNetworkVariables:n,useNetworkVariable:r}}var $R={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($R);var A7=$R.exports;const Hs=hl(A7),[c0,aY]=gl("Tooltip",[r0]);r0();const k7="TooltipProvider",R7=700,[P7,lY]=c0(k7),O7=t=>{const{__scopeTooltip:e,delayDuration:n=R7,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=x.useState(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),x.createElement(P7,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(f=>{l.current=f},[]),disableHoverableContent:i},s)},VR="Tooltip";c0(VR);const N7="TooltipPortal";c0(N7,{forceMount:void 0});c0(VR,{isInside:!1});const D7=O7,M7=["tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","brown","orange"],L7=["sky","mint","lime","yellow","amber"],$7=["gold","bronze"],V7=[...M7,...L7,...$7],F7="gray",U7=["mauve","slate","sage","olive","sand"],j7=[F7,...U7];function B7(t){switch(t){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand"}}const z7=["inherit","light","dark"],W7=[...V7,"gray"],H7=[...j7,"auto"],q7=["solid","translucent"],G7=["none","small","medium","large","full"],K7=["90%","95%","100%","105%","110%"],ir={hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:z7,default:"inherit"},accentColor:{type:"enum",values:W7,default:"indigo"},grayColor:{type:"enum",values:H7,default:"auto"},panelBackground:{type:"enum",values:q7,default:"translucent"},radius:{type:"enum",values:G7,default:"medium"},scaling:{type:"enum",values:K7,default:"100%"}};function FR(t){return t==="gray"?"gray":B7(t)}const Bl=()=>{},Dw=x.createContext(void 0),UR=x.forwardRef((t,e)=>x.useContext(Dw)===void 0?x.createElement(D7,null,x.createElement(T8,{dir:"ltr"},x.createElement(jR,{...t,ref:e}))):x.createElement(Q_,{...t,ref:e}));UR.displayName="Theme";const jR=x.forwardRef((t,e)=>{const{appearance:n=ir.appearance.default,accentColor:r=ir.accentColor.default,grayColor:i=ir.grayColor.default,panelBackground:s=ir.panelBackground.default,radius:o=ir.radius.default,scaling:a=ir.scaling.default,hasBackground:l=ir.hasBackground.default,...c}=t,[f,d]=x.useState(n);x.useEffect(()=>d(n),[n]);const[h,g]=x.useState(r);x.useEffect(()=>g(r),[r]);const[y,v]=x.useState(i);x.useEffect(()=>v(i),[i]);const[S,b]=x.useState(s);x.useEffect(()=>b(s),[s]);const[w,T]=x.useState(o);x.useEffect(()=>T(o),[o]);const[N,F]=x.useState(a);x.useEffect(()=>F(a),[a]);const j=x.memo(({appearance:I})=>x.createElement("script",{dangerouslySetInnerHTML:{__html:`!(function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');d.style.colorScheme='${I}';c.add('${I}');}catch(e){}})();`}}),()=>!0);j.displayName="ExplicitRootAppearanceScript",x.useEffect(()=>Q7(n),[n]);const A=y==="auto"?FR(h):y;return x.createElement(x.Fragment,null,f!=="inherit"&&x.createElement(j,{appearance:f}),l&&x.createElement("style",{dangerouslySetInnerHTML:{__html:`
:root, .light, .light-theme { --color-page-background: white; }
.dark, .dark-theme { --color-page-background: var(--${A}-1); }
body { background-color: var(--color-page-background); }
`}}),x.createElement(Q_,{...c,ref:e,isRoot:!0,hasBackground:l,appearance:f,accentColor:h,grayColor:y,panelBackground:S,radius:w,scaling:N,onAppearanceChange:d,onAccentColorChange:g,onGrayColorChange:v,onPanelBackgroundChange:b,onRadiusChange:T,onScalingChange:F}))});jR.displayName="ThemeRoot";const Q_=x.forwardRef((t,e)=>{var n,r,i,s,o,a;const l=x.useContext(Dw),{asChild:c,isRoot:f,hasBackground:d,appearance:h=(n=l==null?void 0:l.appearance)!==null&&n!==void 0?n:ir.appearance.default,accentColor:g=(r=l==null?void 0:l.accentColor)!==null&&r!==void 0?r:ir.accentColor.default,grayColor:y=(i=l==null?void 0:l.resolvedGrayColor)!==null&&i!==void 0?i:ir.grayColor.default,panelBackground:v=(s=l==null?void 0:l.panelBackground)!==null&&s!==void 0?s:ir.panelBackground.default,radius:S=(o=l==null?void 0:l.radius)!==null&&o!==void 0?o:ir.radius.default,scaling:b=(a=l==null?void 0:l.scaling)!==null&&a!==void 0?a:ir.scaling.default,onAppearanceChange:w=Bl,onAccentColorChange:T=Bl,onGrayColorChange:N=Bl,onPanelBackgroundChange:F=Bl,onRadiusChange:j=Bl,onScalingChange:A=Bl,...I}=t,R=c?Rn:"div",D=y==="auto"?FR(g):y,V=t.appearance!==void 0&&t.appearance!=="inherit",U=t.grayColor!==void 0,M=!f&&(d===!0||d!==!1&&(V||U));return x.createElement(Dw.Provider,{value:x.useMemo(()=>({appearance:h,accentColor:g,grayColor:y,resolvedGrayColor:D,panelBackground:v,radius:S,scaling:b,onAppearanceChange:w,onAccentColorChange:T,onGrayColorChange:N,onPanelBackgroundChange:F,onRadiusChange:j,onScalingChange:A}),[h,g,y,D,v,S,b,w,T,N,F,j,A])},x.createElement(R,{"data-is-root-theme":f?"true":"false","data-accent-color":g,"data-gray-color":D,"data-has-background":M?"true":"false","data-panel-background":v,"data-radius":S,"data-scaling":b,ref:e,...I,className:Hs("radix-themes",{light:!f&&h==="light",dark:!f&&h==="dark"},I.className)}))});Q_.displayName="ThemeImpl";function Q7(t){if(t==="inherit")return;const e=document.documentElement;(e.classList.contains("light-theme")||e.classList.contains("dark-theme"))&&(e.classList.remove("light-theme","dark-theme"),e.style.colorScheme=t,e.classList.add(`${t}-theme`)),(e.classList.contains("light")||e.classList.contains("dark"))&&(e.classList.remove("light","dark"),e.style.colorScheme=t,e.classList.add(t))}const Y7=["none","inline","inline-block","block"],X7={display:{type:"enum",values:Y7,default:void 0,responsive:!0}},Y_={type:"enum",values:ir.accentColor.values,default:void 0},X_={type:"boolean",default:void 0};function Ze(t,e="",n){var r,i,s,o;const a=[];if(typeof t=="object"){for(const l of Object.keys(t))if(l in t){const c=(r=t[l])===null||r===void 0?void 0:r.toString(),f=c==null?void 0:c.startsWith("-"),d=e===""?"":"-",h=f?`-${e}`:e,g=f?c==null?void 0:c.substring(1):c;if(g===void 0)continue;const y=(i=n==null?void 0:n[g])!==null&&i!==void 0?i:g,v=l==="initial"?`${h}${d}${y}`:`${l}:${h}${d}${y}`;a.push(v)}}if(typeof t=="string"){const l=t.startsWith("-"),c=e===""?"":"-",f=l?`-${e}`:e,d=l?t.substring(1):t,h=(s=n==null?void 0:n[d])!==null&&s!==void 0?s:d;a.push(`${f}${c}${h}`)}if(typeof t=="boolean"){const l=e===""?"":"-",c=t.toString(),f=(o=n==null?void 0:n[c])!==null&&o!==void 0?o:c;a.push(`${e}${l}${f}`)}return a.join(" ")}const _a=["0","1","2","3","4","5","6","7","8","9"],J7={p:{type:"enum",values:_a,default:void 0,responsive:!0},px:{type:"enum",values:_a,default:void 0,responsive:!0},py:{type:"enum",values:_a,default:void 0,responsive:!0},pt:{type:"enum",values:_a,default:void 0,responsive:!0},pr:{type:"enum",values:_a,default:void 0,responsive:!0},pb:{type:"enum",values:_a,default:void 0,responsive:!0},pl:{type:"enum",values:_a,default:void 0,responsive:!0}};function Z7(t){const{p:e=Nn.p.default,px:n=Nn.px.default,py:r=Nn.py.default,pt:i=Nn.pt.default,pr:s=Nn.pr.default,pb:o=Nn.pb.default,pl:a=Nn.pl.default,...l}=t;return{p:e,px:n,py:r,pt:i,pr:s,pb:o,pl:a,rest:l}}function eB(t){return[Ze(t.p,"rt-r-p"),Ze(t.px,"rt-r-px"),Ze(t.py,"rt-r-py"),Ze(t.pt,"rt-r-pt"),Ze(t.pr,"rt-r-pr"),Ze(t.pb,"rt-r-pb"),Ze(t.pl,"rt-r-pl")].filter(Boolean).join(" ")}const tB=["static","relative","absolute","fixed","sticky"],sf=["auto","0","50%","100%"],zT=["auto","min-content","max-content","100%","0","1","2","3","4","5","6","7","8","9"],nB=["0","1"],rB=["0","1"],Nn={...J7,position:{type:"enum",values:tB,default:void 0,responsive:!0},inset:{type:"enum",values:sf,default:void 0,responsive:!0},top:{type:"enum",values:sf,default:void 0,responsive:!0},right:{type:"enum",values:sf,default:void 0,responsive:!0},bottom:{type:"enum",values:sf,default:void 0,responsive:!0},left:{type:"enum",values:sf,default:void 0,responsive:!0},width:{type:"enum",values:zT,default:void 0,responsive:!0},height:{type:"enum",values:zT,default:void 0,responsive:!0},shrink:{type:"enum",values:nB,default:void 0,responsive:!0},grow:{type:"enum",values:rB,default:void 0,responsive:!0}};function J_(t){const{rest:e,...n}=Z7(t),{position:r=Nn.position.default,width:i=Nn.width.default,height:s=Nn.height.default,inset:o=Nn.inset.default,top:a=Nn.top.default,bottom:l=Nn.bottom.default,left:c=Nn.left.default,right:f=Nn.right.default,shrink:d=Nn.shrink.default,grow:h=Nn.grow.default,...g}=e;return{...n,position:r,width:i,height:s,inset:o,top:a,bottom:l,left:c,right:f,shrink:d,grow:h,rest:g}}function Z_(t){return[eB(t),Ze(t.position,"rt-r-position"),Ze(t.shrink,"rt-r-fs"),Ze(t.grow,"rt-r-fg"),Ze(t.width,"rt-r-w"),Ze(t.height,"rt-r-h"),Ze(t.inset,"rt-r-inset"),Ze(t.top,"rt-r-top"),Ze(t.bottom,"rt-r-bottom"),Ze(t.left,"rt-r-left"),Ze(t.right,"rt-r-right")].filter(Boolean).join(" ")}const iB=["normal","start","end","both"],BR={type:"enum",values:iB,default:void 0,responsive:!0},Ea=["auto","0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],ba={m:{type:"enum",values:Ea,default:void 0,responsive:!0},mx:{type:"enum",values:Ea,default:void 0,responsive:!0},my:{type:"enum",values:Ea,default:void 0,responsive:!0},mt:{type:"enum",values:Ea,default:void 0,responsive:!0},mr:{type:"enum",values:Ea,default:void 0,responsive:!0},mb:{type:"enum",values:Ea,default:void 0,responsive:!0},ml:{type:"enum",values:Ea,default:void 0,responsive:!0}};function wl(t){const{m:e=ba.m.default,mx:n=ba.mx.default,my:r=ba.my.default,mt:i=ba.mt.default,mr:s=ba.mr.default,mb:o=ba.mb.default,ml:a=ba.ml.default,...l}=t;return{m:e,mx:n,my:r,mt:i,mr:s,mb:o,ml:a,rest:l}}function _l(t){return[Ze(t.m,"rt-r-m"),Ze(t.mx,"rt-r-mx"),Ze(t.my,"rt-r-my"),Ze(t.mt,"rt-r-mt"),Ze(t.mr,"rt-r-mr"),Ze(t.mb,"rt-r-mb"),Ze(t.ml,"rt-r-ml")].filter(Boolean).join(" ")}const sB={type:"enum",values:ir.radius.values,default:void 0},oB=["left","center","right"],zR={type:"enum",values:oB,default:void 0,responsive:!0},aB=["light","regular","medium","bold"],WR={type:"enum",values:aB,default:void 0,responsive:!0},sm=x.forwardRef((t,e)=>{const{rest:n,...r}=wl(t),{rest:i,...s}=J_(n),{className:o,asChild:a,display:l=X7.display.default,...c}=i,f=a?Rn:"div";return x.createElement(f,{...c,ref:e,className:Hs("rt-Box",o,Ze(l,"rt-r-display"),Z_(s),_l(r))})});sm.displayName="Box";const lB=["none","inline-flex","flex"],uB=["row","column","row-reverse","column-reverse"],cB=["start","center","end","baseline","stretch"],fB=["start","center","end","between"],dB=["nowrap","wrap","wrap-reverse"],hB=["0","1","2","3","4","5","6","7","8","9"],zl={display:{type:"enum",values:lB,default:"flex",responsive:!0},direction:{type:"enum",values:uB,default:void 0,responsive:!0},align:{type:"enum",values:cB,default:void 0,responsive:!0},justify:{type:"enum",values:fB,default:"start",responsive:!0},wrap:{type:"enum",values:dB,default:void 0,responsive:!0},gap:{type:"enum",values:hB,default:void 0,responsive:!0}},Oo=x.forwardRef((t,e)=>{const{rest:n,...r}=wl(t),{rest:i,...s}=J_(n),{className:o,asChild:a,display:l=zl.display.default,direction:c=zl.direction.default,align:f=zl.align.default,justify:d=zl.justify.default,wrap:h=zl.wrap.default,gap:g=zl.gap.default,...y}=i,v=a?Rn:"div";return x.createElement(v,{...y,ref:e,className:Hs("rt-Flex",o,Ze(l,"rt-r-display"),Ze(c,"rt-r-fd"),Ze(f,"rt-r-ai"),Ze(d,"rt-r-jc",{between:"space-between"}),Ze(h,"rt-r-fw"),Ze(g,"rt-r-gap"),Z_(s),_l(r))})});Oo.displayName="Flex";const pB=["1","2","3","4"],mB=["none","block"],WT={size:{type:"enum",values:pB,default:"4",responsive:!0},display:{type:"enum",values:mB,default:void 0,responsive:!0}},fg=x.forwardRef((t,e)=>{const{rest:n,...r}=wl(t),{rest:i,...s}=J_(n),{children:o,className:a,size:l=WT.size.default,display:c=WT.display.default,...f}=i;return x.createElement("div",{...f,ref:e,className:Hs("rt-Container",a,Ze(l,"rt-r-size"),Ze(c,"rt-r-display"),Z_(s),_l(r))},x.createElement("div",{className:"rt-ContainerInner"},o))});fg.displayName="Container";const gB=["1","2","3","4","5","6","7","8","9"],Wl={size:{type:"enum",values:gB,default:"6",responsive:!0},weight:{...WR,default:"bold"},align:zR,trim:BR,color:Y_,highContrast:X_},_d=x.forwardRef((t,e)=>{const{rest:n,...r}=wl(t),{children:i,className:s,asChild:o=!1,as:a="h1",size:l=Wl.size.default,weight:c=Wl.weight.default,align:f=Wl.align.default,trim:d=Wl.trim.default,color:h=Wl.color.default,highContrast:g=Wl.highContrast.default,...y}=n;return x.createElement(Rn,{"data-accent-color":h,...y,ref:e,className:Hs("rt-Heading",s,Ze(l,"rt-r-size"),Ze(c,"rt-r-weight"),Ze(f,"rt-r-ta"),Ze(d,"rt-r-lt"),{"rt-high-contrast":g},_l(r))},o?i:x.createElement(a,null,i))});_d.displayName="Heading";const yB=["1","2","3","4","5","6","7","8","9"],Hl={size:{type:"enum",values:yB,default:void 0,responsive:!0},weight:WR,align:zR,trim:BR,color:Y_,highContrast:X_},Qa=x.forwardRef((t,e)=>{const{rest:n,...r}=wl(t),{children:i,className:s,asChild:o=!1,as:a="span",size:l=Hl.size.default,weight:c=Hl.weight.default,align:f=Hl.align.default,trim:d=Hl.trim.default,color:h=Hl.color.default,highContrast:g=Hl.highContrast.default,...y}=n;return x.createElement(Rn,{"data-accent-color":h,...y,ref:e,className:Hs("rt-Text",s,Ze(l,"rt-r-size"),Ze(c,"rt-r-weight"),Ze(f,"rt-r-ta"),Ze(d,"rt-r-lt"),{"rt-high-contrast":g},_l(r))},o?i:x.createElement(a,null,i))});Qa.displayName="Text";const vB=["1","2","3","4"],wB=["classic","solid","soft","surface","outline","ghost"],of={size:{type:"enum",values:vB,default:"2",responsive:!0},variant:{type:"enum",values:wB,default:"solid"},color:Y_,highContrast:X_,radius:sB},HR=x.forwardRef((t,e)=>{const{rest:n,...r}=wl(t),{className:i,asChild:s=!1,size:o=of.size.default,variant:a=of.variant.default,color:l=of.color.default,highContrast:c=of.highContrast.default,radius:f=of.radius.default,...d}=n,h=s?Rn:"button";return x.createElement(h,{"data-disabled":d.disabled||void 0,"data-accent-color":l,"data-radius":f,...d,ref:e,className:Hs("rt-reset","rt-BaseButton",i,Ze(o,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":c},_l(r))})});HR.displayName="BaseButton";const qR=x.forwardRef((t,e)=>x.createElement(HR,{...t,ref:e,className:Hs("rt-Button",t.className)}));qR.displayName="Button";const _B=["1","2","3","4","5"],EB=["surface","classic","ghost"],HT={size:{type:"enum",values:_B,default:"1",responsive:!0},variant:{type:"enum",values:EB,default:"surface"}},GR=x.forwardRef((t,e)=>{const{rest:n,...r}=wl(t),{asChild:i,children:s,className:o,size:a=HT.size.default,variant:l=HT.variant.default,...c}=n,f=i?Rn:"div";function d(){const h=x.Children.only(s);return x.cloneElement(h,{children:x.createElement("div",{className:"rt-CardInner"},h.props.children)})}return x.createElement(f,{ref:e,...c,className:Hs("rt-reset","rt-Card",o,Ze(a,"rt-r-size"),`rt-variant-${l}`,_l(r))},i?d():x.createElement("div",{className:"rt-CardInner"},s))});GR.displayName="Card";function bB(){const t=l0(),{data:e,isPending:n,error:r}=AR("getOwnedObjects",{owner:t==null?void 0:t.address},{enabled:!!t});if(t)return r?q.jsxs(Oo,{children:["Error: ",r.message]}):n||!e?q.jsx(Oo,{children:"Loading..."}):q.jsxs(Oo,{direction:"column",my:"2",children:[e.data.length===0?q.jsx(Qa,{children:"No deos owned by the connected wallet"}):q.jsx(_d,{size:"4",children:"Deos owned by the connected wallet"}),e.data.map(i=>{var s,o;return q.jsx(Oo,{children:q.jsxs(Qa,{children:["Object ID: ",(s=i.data)==null?void 0:s.objectId]})},(o=i.data)==null?void 0:o.objectId)})]})}function SB(){const t=l0();return q.jsxs(fg,{my:"2",children:[q.jsx(_d,{mb:"2",children:"Wallet $tatus"}),t?q.jsxs(Oo,{direction:"column",children:[q.jsx(Qa,{children:"Wallet connected"}),q.jsxs(Qa,{children:["Address: ",t.address]})]}):q.jsx(Qa,{children:"Wallet not connected. Connect now to earn $!"}),q.jsx(bB,{})]})}const Ed=t=>typeof t=="number"&&!isNaN(t),Ya=t=>typeof t=="string",Rr=t=>typeof t=="function",om=t=>Ya(t)||Rr(t)?t:null,Mw=t=>x.isValidElement(t)||Ya(t)||Rr(t)||Ed(t);function TB(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function f0(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:f,nodeRef:d,isIn:h,playToast:g}=o;const y=r?`${e}--${l}`:e,v=r?`${n}--${l}`:n,S=x.useRef(0);return x.useLayoutEffect(()=>{const b=d.current,w=y.split(" "),T=N=>{N.target===d.current&&(g(),b.removeEventListener("animationend",T),b.removeEventListener("animationcancel",T),S.current===0&&N.type!=="animationcancel"&&b.classList.remove(...w))};b.classList.add(...w),b.addEventListener("animationend",T),b.addEventListener("animationcancel",T)},[]),x.useEffect(()=>{const b=d.current,w=()=>{b.removeEventListener("animationend",w),i?TB(b,f,s):f()};h||(c?w():(S.current=1,b.className+=` ${v}`,b.addEventListener("animationend",w)))},[h]),lt.createElement(lt.Fragment,null,a)}}function qT(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const sr=new Map;let bd=[];const Lw=new Set,IB=t=>Lw.forEach(e=>e(t)),KR=()=>sr.size>0;function QR(t,e){var n;if(e)return!((n=sr.get(e))==null||!n.isToastActive(t));let r=!1;return sr.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function YR(t,e){Mw(t)&&(KR()||bd.push({content:t,options:e}),sr.forEach(n=>{n.buildToast(t,e)}))}function GT(t,e){sr.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function xB(t){const{subscribe:e,getSnapshot:n,setProps:r}=x.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(f,d,h){let g=1,y=0,v=[],S=[],b=[],w=d;const T=new Map,N=new Set,F=()=>{b=Array.from(T.values()),N.forEach(I=>I())},j=I=>{S=I==null?[]:S.filter(R=>R!==I),F()},A=I=>{const{toastId:R,onOpen:D,updateId:V,children:U}=I.props,M=V==null;I.staleId&&T.delete(I.staleId),T.set(R,I),S=[...S,I.props.toastId].filter(xe=>xe!==I.staleId),F(),h(qT(I,M?"added":"updated")),M&&Rr(D)&&D(x.isValidElement(U)&&U.props)};return{id:f,props:w,observe:I=>(N.add(I),()=>N.delete(I)),toggle:(I,R)=>{T.forEach(D=>{R!=null&&R!==D.props.toastId||Rr(D.toggle)&&D.toggle(I)})},removeToast:j,toasts:T,clearQueue:()=>{y-=v.length,v=[]},buildToast:(I,R)=>{if((De=>{let{containerId:Ce,toastId:ct,updateId:_e}=De;const tt=Ce?Ce!==f:f!==1,Ot=T.has(ct)&&_e==null;return tt||Ot})(R))return;const{toastId:D,updateId:V,data:U,staleId:M,delay:xe}=R,Ne=()=>{j(D)},ut=V==null;ut&&y++;const Oe={...w,style:w.toastStyle,key:g++,...Object.fromEntries(Object.entries(R).filter(De=>{let[Ce,ct]=De;return ct!=null})),toastId:D,updateId:V,data:U,closeToast:Ne,isIn:!1,className:om(R.className||w.toastClassName),bodyClassName:om(R.bodyClassName||w.bodyClassName),progressClassName:om(R.progressClassName||w.progressClassName),autoClose:!R.isLoading&&(ne=R.autoClose,Z=w.autoClose,ne===!1||Ed(ne)&&ne>0?ne:Z),deleteToast(){const De=T.get(D),{onClose:Ce,children:ct}=De.props;Rr(Ce)&&Ce(x.isValidElement(ct)&&ct.props),h(qT(De,"removed")),T.delete(D),y--,y<0&&(y=0),v.length>0?A(v.shift()):F()}};var ne,Z;Oe.closeButton=w.closeButton,R.closeButton===!1||Mw(R.closeButton)?Oe.closeButton=R.closeButton:R.closeButton===!0&&(Oe.closeButton=!Mw(w.closeButton)||w.closeButton);let de=I;x.isValidElement(I)&&!Ya(I.type)?de=x.cloneElement(I,{closeToast:Ne,toastProps:Oe,data:U}):Rr(I)&&(de=I({closeToast:Ne,toastProps:Oe,data:U}));const Me={content:de,props:Oe,staleId:M};w.limit&&w.limit>0&&y>w.limit&&ut?v.push(Me):Ed(xe)?setTimeout(()=>{A(Me)},xe):A(Me)},setProps(I){w=I},setToggle:(I,R)=>{T.get(I).toggle=R},isToastActive:I=>S.some(R=>R===I),getSnapshot:()=>w.newestOnTop?b.reverse():b}}(o,s,IB);sr.set(o,l);const c=l.observe(a);return bd.forEach(f=>YR(f.content,f.options)),bd=[],()=>{c(),sr.delete(o)}},setProps(a){var l;(l=sr.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=sr.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=x.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:QR,count:i==null?void 0:i.length}}function CB(t){const[e,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),o=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:f,closeOnClick:d}=t;var h,g;function y(){n(!0)}function v(){n(!1)}function S(T){const N=s.current;o.canDrag&&N&&(o.didMove=!0,e&&v(),o.delta=t.draggableDirection==="x"?T.clientX-o.start:T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1),N.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,N.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",b);const T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}(g=sr.get((h={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||g.setToggle(h.id,h.fn),x.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",y),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",v)}},[t.pauseOnFocusLoss]);const w={onPointerDown:function(T){if(t.draggable===!0||t.draggable===T.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",b);const N=s.current;o.canCloseOnClick=!0,o.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=N.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(T){const{top:N,bottom:F,left:j,right:A}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=j&&T.clientX<=A&&T.clientY>=N&&T.clientY<=F?v():y()}};return a&&l&&(w.onMouseEnter=v,t.stacked||(w.onMouseLeave=y)),d&&(w.onClick=T=>{f&&f(T),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function AB(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:f,isIn:d,theme:h}=t;const g=s||l&&c===0,y={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(y.transform=`scaleX(${c})`);const v=Ln("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),S=Rr(o)?o({rtl:f,type:i,defaultClassName:v}):Ln(v,o),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),lt.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:S,style:y,...b}))}let kB=1;const XR=()=>""+kB++;function RB(t){return t&&(Ya(t.toastId)||Ed(t.toastId))?t.toastId:XR()}function Uf(t,e){return YR(t,e),e.toastId}function dg(t,e){return{...e,type:e&&e.type||t,toastId:RB(e)}}function lp(t){return(e,n)=>Uf(e,dg(t,n))}function Lt(t,e){return Uf(t,dg("default",e))}Lt.loading=(t,e)=>Uf(t,dg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Lt.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Ya(i)?Lt.loading(i,n):Lt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(f,d,h)=>{if(d==null)return void Lt.dismiss(r);const g={type:f,...a,...n,data:h},y=Ya(d)?{render:d}:d;return r?Lt.update(r,{...g,...y}):Lt(y.render,{...g,...y}),h},c=Rr(t)?t():t;return c.then(f=>l("success",o,f)).catch(f=>l("error",s,f)),c},Lt.success=lp("success"),Lt.info=lp("info"),Lt.error=lp("error"),Lt.warning=lp("warning"),Lt.warn=Lt.warning,Lt.dark=(t,e)=>Uf(t,dg("default",{theme:"dark",...e})),Lt.dismiss=function(t){(function(e){var n;if(KR()){if(e==null||Ya(n=e)||Ed(n))sr.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=sr.get(e.containerId);r?r.removeToast(e.id):sr.forEach(i=>{i.removeToast(e.id)})}}else bd=bd.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Lt.clearWaitingQueue=function(t){t===void 0&&(t={}),sr.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Lt.isActive=QR,Lt.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=sr.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:XR()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Uf(o,s)}},Lt.done=t=>{Lt.update(t,{progress:1})},Lt.onChange=function(t){return Lw.add(t),()=>{Lw.delete(t)}},Lt.play=t=>GT(!0,t),Lt.pause=t=>GT(!1,t);const PB=typeof window<"u"?x.useLayoutEffect:x.useEffect,up=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Ny={info:function(t){return lt.createElement(up,{...t},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return lt.createElement(up,{...t},lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return lt.createElement(up,{...t},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return lt.createElement(up,{...t},lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return lt.createElement("div",{className:"Toastify__spinner"})}},OB=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=CB(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:f,hideProgressBar:d,closeToast:h,transition:g,position:y,className:v,style:S,bodyClassName:b,bodyStyle:w,progressClassName:T,progressStyle:N,updateId:F,role:j,progress:A,rtl:I,toastId:R,deleteToast:D,isIn:V,isLoading:U,closeOnClick:M,theme:xe}=t,Ne=Ln("Toastify__toast",`Toastify__toast-theme--${xe}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":M}),ut=Rr(v)?v({rtl:I,position:y,type:f,defaultClassName:Ne}):Ln(Ne,v),Oe=function(Me){let{theme:De,type:Ce,isLoading:ct,icon:_e}=Me,tt=null;const Ot={theme:De,type:Ce};return _e===!1||(Rr(_e)?tt=_e({...Ot,isLoading:ct}):x.isValidElement(_e)?tt=x.cloneElement(_e,Ot):ct?tt=Ny.spinner():(ti=>ti in Ny)(Ce)&&(tt=Ny[Ce](Ot))),tt}(t),ne=!!A||!l,Z={closeToast:h,type:f,theme:xe};let de=null;return o===!1||(de=Rr(o)?o(Z):x.isValidElement(o)?x.cloneElement(o,Z):function(Me){let{closeToast:De,theme:Ce,ariaLabel:ct="close"}=Me;return lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Ce}`,type:"button",onClick:_e=>{_e.stopPropagation(),De(_e)},"aria-label":ct},lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Z)),lt.createElement(g,{isIn:V,done:D,position:y,preventExitTransition:n,nodeRef:r,playToast:s},lt.createElement("div",{id:R,onClick:c,"data-in":V,className:ut,...i,style:S,ref:r},lt.createElement("div",{...V&&{role:j},className:Rr(b)?b({type:f}):Ln("Toastify__toast-body",b),style:w},Oe!=null&&lt.createElement("div",{className:Ln("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},Oe),lt.createElement("div",null,a)),de,lt.createElement(AB,{...F&&!ne?{key:`pb-${F}`}:{},rtl:I,theme:xe,delay:l,isRunning:e,isIn:V,closeToast:h,hide:d,type:f,style:N,className:T,controlledProgress:ne,progress:A||0})))},d0=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},NB=f0(d0("bounce",!0));f0(d0("slide",!0));f0(d0("zoom"));f0(d0("flip"));const DB={position:"top-right",transition:NB,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function MB(t){let e={...DB,...t};const n=t.stacked,[r,i]=x.useState(!0),s=x.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=xB(e),{className:c,style:f,rtl:d,containerId:h}=e;function g(v){const S=Ln("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":d});return Rr(c)?c({position:v,rtl:d,defaultClassName:S}):Ln(S,om(c))}function y(){n&&(i(!0),Lt.play())}return PB(()=>{if(n){var v;const S=s.current.querySelectorAll('[data-in="true"]'),b=12,w=(v=e.position)==null?void 0:v.includes("top");let T=0,N=0;Array.from(S).reverse().forEach((F,j)=>{const A=F;A.classList.add("Toastify__toast--stacked"),j>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=w?"top":"bot");const I=T*(r?.2:1)+(r?0:b*j);A.style.setProperty("--y",`${w?I:-1*I}px`),A.style.setProperty("--g",`${b}`),A.style.setProperty("--s",""+(1-(r?N:0))),T+=A.offsetHeight,N+=.025})}},[r,l,n]),lt.createElement("div",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),Lt.pause())},onMouseLeave:y},o((v,S)=>{const b=S.length?{...f}:{...f,pointerEvents:"none"};return lt.createElement("div",{className:g(v),style:b,key:`container-${v}`},S.map(w=>{let{content:T,props:N}=w;return lt.createElement(OB,{...N,stacked:n,collapseAll:y,isIn:a(N.toastId,N.containerId),style:N.style,key:`toast-${N.key}`},T)}))}))}function LB({referrerEmail:t}){const[e,n]=x.useState(""),r=async()=>{(await(await fetch("/api/sendEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,referrerEmail:t})})).json()).success?Lt.success("Email sent successfully!"):Lt.error("Failed to send email. Please try again.")};return q.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[q.jsx(MB,{}),q.jsx("h1",{className:"text-2xl font-bold mb-4 text-blue-600",children:"Refer a friend to earn more Deos and Sui!"}),q.jsx("input",{type:"email",placeholder:"Enter friend's email",value:e,onChange:i=>n(i.target.value),className:"text-black border border-gray-300 p-2 rounded mb-4 w-full max-w-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),q.jsx("button",{onClick:r,className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Refer now"})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$B=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),r.push(n[f],n[d],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$B(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new VB;const h=s<<2|a>>4;if(r.push(h),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FB=function(t){const e=JR(t);return ZR.encodeByteArray(e,!0)},hg=function(t){return FB(t).replace(/\./g,"")},eP=function(t){try{return ZR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=()=>UB().__FIREBASE_DEFAULTS__,BB=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eP(t[1]);return e&&JSON.parse(e)},h0=()=>{try{return jB()||BB()||zB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tP=t=>{var e,n;return(n=(e=h0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nP=t=>{const e=tP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rP=()=>{var t;return(t=h0())===null||t===void 0?void 0:t.config},iP=t=>{var e;return(e=h0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hg(JSON.stringify(n)),hg(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function qB(){var t;const e=(t=h0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QB(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YB(){return!qB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XB(){try{return typeof indexedDB=="object"}catch{return!1}}function JB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZB,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rh.prototype.create)}}class rh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ez(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rs(i,a,r)}}function ez(t,e){return t.replace(tz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tz=/\{\$([^}]+)}/g;function nz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(KT(s)&&KT(o)){if(!pg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rz(t,e){const n=new iz(t,e);return n.subscribe.bind(n)}class iz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dy),i.error===void 0&&(i.error=Dy),i.complete===void 0&&(i.complete=Dy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){return t&&t._delegate?t._delegate:t}class ea{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lz(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:az(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function az(t){return t===Pa?void 0:t}function lz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const cz={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},fz=gt.INFO,dz={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},hz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eE{constructor(e){this.name=e,this._logLevel=fz,this._logHandler=hz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const pz=(t,e)=>e.some(n=>t instanceof n);let QT,YT;function mz(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gz(){return YT||(YT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oP=new WeakMap,$w=new WeakMap,aP=new WeakMap,My=new WeakMap,tE=new WeakMap;function yz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oP.set(n,t)}).catch(()=>{}),tE.set(e,t),e}function vz(t){if($w.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$w.set(t,e)}let Vw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $w.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wz(t){Vw=t(Vw)}function _z(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ly(this),e,...n);return aP.set(r,e.sort?e.sort():[e]),Ho(r)}:gz().includes(t)?function(...e){return t.apply(Ly(this),e),Ho(oP.get(this))}:function(...e){return Ho(t.apply(Ly(this),e))}}function Ez(t){return typeof t=="function"?_z(t):(t instanceof IDBTransaction&&vz(t),pz(t,mz())?new Proxy(t,Vw):t)}function Ho(t){if(t instanceof IDBRequest)return yz(t);if(My.has(t))return My.get(t);const e=Ez(t);return e!==t&&(My.set(t,e),tE.set(e,t)),e}const Ly=t=>tE.get(t);function bz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ho(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ho(o.result),l.oldVersion,l.newVersion,Ho(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Sz=["get","getKey","getAll","getAllKeys","count"],Tz=["put","add","delete","clear"],$y=new Map;function XT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($y.get(e))return $y.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sz.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return $y.set(e,s),s}wz(t=>({...t,get:(e,n,r)=>XT(e,n)||t.get(e,n,r),has:(e,n)=>!!XT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fw="@firebase/app",JT="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new eE("@firebase/app"),Cz="@firebase/app-compat",Az="@firebase/analytics-compat",kz="@firebase/analytics",Rz="@firebase/app-check-compat",Pz="@firebase/app-check",Oz="@firebase/auth",Nz="@firebase/auth-compat",Dz="@firebase/database",Mz="@firebase/database-compat",Lz="@firebase/functions",$z="@firebase/functions-compat",Vz="@firebase/installations",Fz="@firebase/installations-compat",Uz="@firebase/messaging",jz="@firebase/messaging-compat",Bz="@firebase/performance",zz="@firebase/performance-compat",Wz="@firebase/remote-config",Hz="@firebase/remote-config-compat",qz="@firebase/storage",Gz="@firebase/storage-compat",Kz="@firebase/firestore",Qz="@firebase/vertexai-preview",Yz="@firebase/firestore-compat",Xz="firebase",Jz="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="[DEFAULT]",Zz={[Fw]:"fire-core",[Cz]:"fire-core-compat",[kz]:"fire-analytics",[Az]:"fire-analytics-compat",[Pz]:"fire-app-check",[Rz]:"fire-app-check-compat",[Oz]:"fire-auth",[Nz]:"fire-auth-compat",[Dz]:"fire-rtdb",[Mz]:"fire-rtdb-compat",[Lz]:"fire-fn",[$z]:"fire-fn-compat",[Vz]:"fire-iid",[Fz]:"fire-iid-compat",[Uz]:"fire-fcm",[jz]:"fire-fcm-compat",[Bz]:"fire-perf",[zz]:"fire-perf-compat",[Wz]:"fire-rc",[Hz]:"fire-rc-compat",[qz]:"fire-gcs",[Gz]:"fire-gcs-compat",[Kz]:"fire-fst",[Yz]:"fire-fst-compat",[Qz]:"fire-vertex","fire-js":"fire-js",[Xz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Map,eW=new Map,jw=new Map;function ZT(t,e){try{t.container.addComponent(e)}catch(n){al.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ll(t){const e=t.name;if(jw.has(e))return al.debug(`There were multiple attempts to register component ${e}.`),!1;jw.set(e,t);for(const n of mg.values())ZT(n,t);for(const n of eW.values())ZT(n,t);return!0}function p0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function No(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new rh("app","Firebase",tW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=Jz;function lP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qo.create("bad-app-name",{appName:String(i)});if(n||(n=rP()),!n)throw qo.create("no-options");const s=mg.get(i);if(s){if(pg(n,s.options)&&pg(r,s.config))return s;throw qo.create("duplicate-app",{appName:i})}const o=new uz(i);for(const l of jw.values())o.addComponent(l);const a=new nW(n,r,o);return mg.set(i,a),a}function nE(t=Uw){const e=mg.get(t);if(!e&&t===Uw&&rP())return lP();if(!e)throw qo.create("no-app",{appName:t});return e}function zi(t,e,n){var r;let i=(r=Zz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),al.warn(a.join(" "));return}ll(new ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW="firebase-heartbeat-database",iW=1,Sd="firebase-heartbeat-store";let Vy=null;function uP(){return Vy||(Vy=bz(rW,iW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw qo.create("idb-open",{originalErrorMessage:t.message})})),Vy}async function sW(t){try{const n=(await uP()).transaction(Sd),r=await n.objectStore(Sd).get(cP(t));return await n.done,r}catch(e){if(e instanceof rs)al.warn(e.message);else{const n=qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});al.warn(n.message)}}}async function eI(t,e){try{const r=(await uP()).transaction(Sd,"readwrite");await r.objectStore(Sd).put(e,cP(t)),await r.done}catch(n){if(n instanceof rs)al.warn(n.message);else{const r=qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});al.warn(r.message)}}}function cP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=1024,aW=30*24*60*60*1e3;class lW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tI(),{heartbeatsToSend:r,unsentEntries:i}=uW(this._heartbeatsCache.heartbeats),s=hg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function tI(){return new Date().toISOString().substring(0,10)}function uW(t,e=oW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XB()?JB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nI(t){return hg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t){ll(new ea("platform-logger",e=>new Iz(e),"PRIVATE")),ll(new ea("heartbeat",e=>new lW(e),"PRIVATE")),zi(Fw,JT,t),zi(Fw,JT,"esm2017"),zi("fire-js","")}fW("");var dW="firebase",hW="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(dW,hW,"app");function fP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pW=fP,dP=new rh("auth","Firebase",fP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new eE("@firebase/auth");function mW(t,...e){gg.logLevel<=gt.WARN&&gg.warn(`Auth (${El}): ${t}`,...e)}function am(t,...e){gg.logLevel<=gt.ERROR&&gg.error(`Auth (${El}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,...e){throw rE(t,...e)}function Wi(t,...e){return rE(t,...e)}function hP(t,e,n){const r=Object.assign(Object.assign({},pW()),{[e]:n});return new rh("auth","Firebase",r).create(e,{appName:t.name})}function Xa(t){return hP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dP.create(t,...e)}function He(t,e,...n){if(!t)throw rE(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw am(e),new Error(e)}function Us(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gW(){return rI()==="http:"||rI()==="https:"}function rI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gW()||GB()||"connection"in navigator)?navigator.onLine:!0}function vW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=HB()||KB()}get(){return yW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=new sh(3e4,6e4);function sE(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rc(t,e,n,r,i={}){return mP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ih(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),pP.fetch()(gP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function mP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wW),e);try{const i=new bW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw cp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw cp(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hP(t,f,c);Fs(t,f)}}catch(i){if(i instanceof rs)throw i;Fs(t,"network-request-failed",{message:String(i)})}}async function EW(t,e,n,r,i={}){const s=await Rc(t,e,n,r,i);return"mfaPendingCredential"in s&&Fs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function gP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?iE(t.config,i):`${t.config.apiScheme}://${i}`}class bW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),_W.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(t,e){return Rc(t,"POST","/v1/accounts:delete",e)}async function yP(t,e){return Rc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TW(t,e=!1){const n=Jn(t),r=await n.getIdToken(e),i=oE(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jf(Fy(i.auth_time)),issuedAtTime:jf(Fy(i.iat)),expirationTime:jf(Fy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fy(t){return Number(t)*1e3}function oE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return am("JWT malformed, contained fewer than 3 sections"),null;try{const i=eP(n);return i?JSON.parse(i):(am("Failed to decode base64 JWT payload"),null)}catch(i){return am("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iI(t){const e=oE(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&IW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jf(this.lastLoginAt),this.creationTime=jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Td(t,yP(n,{idToken:r}));He(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vP(s.providerUserInfo):[],a=AW(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zw(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function CW(t){const e=Jn(t);await yg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vP(t){return t.map(e=>{var{providerId:n}=e,r=Xd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(t,e){const n=await mP(t,{},async()=>{const r=ih({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RW(t,e){return Rc(t,"POST","/v2/accounts:revokeToken",sE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=iI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ou;return r&&(He(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Xd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Td(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TW(this,e)}reload(){return CW(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(No(this.auth.app))return Promise.reject(Xa(this.auth));const e=await this.getIdToken();return await Td(this,SW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,f;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:T,emailVerified:N,isAnonymous:F,providerData:j,stsTokenManager:A}=n;He(T&&A,e,"internal-error");const I=Ou.fromJSON(this.name,A);He(typeof T=="string",e,"internal-error"),lo(d,e.name),lo(h,e.name),He(typeof N=="boolean",e,"internal-error"),He(typeof F=="boolean",e,"internal-error"),lo(g,e.name),lo(y,e.name),lo(v,e.name),lo(S,e.name),lo(b,e.name),lo(w,e.name);const R=new ks({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:F,photoURL:y,phoneNumber:g,tenantId:v,stsTokenManager:I,createdAt:b,lastLoginAt:w});return j&&Array.isArray(j)&&(R.providerData=j.map(D=>Object.assign({},D))),S&&(R._redirectEventId=S),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ou;i.updateFromServerResponse(n);const s=new ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ou;a.updateFromIdToken(r);const l=new ks({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;function Rs(t){Us(t instanceof Function,"Expected a class definition");let e=sI.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wP.type="NONE";const oI=wP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t,e,n){return`firebase:${t}:${e}:${n}`}class Nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lm(this.userKey,i.apiKey,s),this.fullPersistenceKey=lm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nu(Rs(oI),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Rs(oI);const o=lm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const d=ks._fromJSON(e,f);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Nu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_P(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TP(e))return"Blackberry";if(IP(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||EP(e))&&!e.includes("edge/"))return"Chrome";if(SP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _P(t=Un()){return/firefox\//i.test(t)}function aE(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EP(t=Un()){return/crios\//i.test(t)}function bP(t=Un()){return/iemobile/i.test(t)}function SP(t=Un()){return/android/i.test(t)}function TP(t=Un()){return/blackberry/i.test(t)}function IP(t=Un()){return/webos/i.test(t)}function m0(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PW(t=Un()){var e;return m0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OW(){return QB()&&document.documentMode===10}function xP(t=Un()){return m0(t)||SP(t)||IP(t)||TP(t)||/windows phone/i.test(t)||bP(t)}function NW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e=[]){let n;switch(t){case"Browser":n=aI(Un());break;case"Worker":n=`${aI(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(t,e={}){return Rc(t,"GET","/v2/passwordPolicy",sE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=6;class $W{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lI(this),this.idTokenSubscription=new lI(this),this.beforeStateQueue=new DW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yP(this,{idToken:e}),r=await ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(No(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(No(this.app))return Promise.reject(Xa(this));const n=e?Jn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return No(this.app)?Promise.reject(Xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return No(this.app)?Promise.reject(Xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MW(this),n=new $W(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Nu.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lE(t){return Jn(t)}class lI{constructor(e){this.auth=e,this.observer=null,this.addObserver=rz(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FW(t){uE=t}function UW(t){return uE.loadJS(t)}function jW(){return uE.gapiScript}function BW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t,e){const n=p0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(pg(s,e??{}))return i;Fs(i,"already-initialized")}return n.initialize({options:e})}function WW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HW(t,e,n){const r=lE(t);He(r._canInitEmulator,r,"emulator-config-failed"),He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=AP(e),{host:o,port:a}=qW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||GW()}function AP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qW(t){const e=AP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uI(o)}}}function uI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t,e){return EW(t,"POST","/v1/accounts:signInWithIdp",sE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW="http://localhost";class ul extends kP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Xd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ul(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Du(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Du(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Du(e,n)}buildRequest(){const e={requestUri:KW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ih(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends RP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends oh{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends oh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends oh{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends oh{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Eo.credential(n,r)}catch{return null}}}Eo.TWITTER_SIGN_IN_METHOD="twitter.com";Eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ks._fromIdTokenResponse(e,r,i),o=cI(r);return new cc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cI(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends rs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vg(e,n,r,i)}}function PP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vg._fromErrorAndOperation(t,s,e,r):s})}async function QW(t,e,n=!1){const r=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e,n=!1){const{auth:r}=t;if(No(r.app))return Promise.reject(Xa(r));const i="reauthenticate";try{const s=await Td(t,PP(r,i,e,t),n);He(s.idToken,r,"internal-error");const o=oE(s.idToken);He(o,r,"internal-error");const{sub:a}=o;return He(t.uid===a,r,"user-mismatch"),cc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(t,e,n=!1){if(No(t.app))return Promise.reject(Xa(t));const r="signIn",i=await PP(t,r,e),s=await cc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function JW(t,e,n,r){return Jn(t).onIdTokenChanged(e,n,r)}function ZW(t,e,n){return Jn(t).beforeAuthStateChanged(e,n)}const wg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wg,"1"),this.storage.removeItem(wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(){const t=Un();return aE(t)||m0(t)}const tH=1e3,nH=10;class NP extends OP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eH()&&NW(),this.fallbackToPolling=xP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NP.type="LOCAL";const rH=NP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP extends OP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DP.type="SESSION";const MP=DP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new g0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await iH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=cE("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function oH(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function aH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uH(){return LP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebaseLocalStorageDb",cH=1,_g="firebaseLocalStorage",VP="fbase_key";class ah{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function y0(t,e){return t.transaction([_g],e?"readwrite":"readonly").objectStore(_g)}function fH(){const t=indexedDB.deleteDatabase($P);return new ah(t).toPromise()}function Ww(){const t=indexedDB.open($P,cH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_g,{keyPath:VP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_g)?e(r):(r.close(),await fH(),e(await Ww()))})})}async function fI(t,e,n){const r=y0(t,!0).put({[VP]:e,value:n});return new ah(r).toPromise()}async function dH(t,e){const n=y0(t,!1).get(e),r=await new ah(n).toPromise();return r===void 0?null:r.value}function dI(t,e){const n=y0(t,!0).delete(e);return new ah(n).toPromise()}const hH=800,pH=3;class FP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ww(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g0._getInstance(uH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aH(),!this.activeServiceWorker)return;this.sender=new sH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ww();return await fI(e,wg,"1"),await dI(e,wg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=y0(i,!1).getAll();return new ah(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FP.type="LOCAL";const mH=FP;new sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(t,e){return e?Rs(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends kP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Du(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Du(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Du(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yH(t){return XW(t.auth,new fE(t),t.bypassAuthState)}function vH(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),YW(n,new fE(t),t.bypassAuthState)}async function wH(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),QW(n,new fE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yH;case"linkViaPopup":case"linkViaRedirect":return wH;case"reauthViaPopup":case"reauthViaRedirect":return vH;default:Fs(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new sh(2e3,1e4);class gu extends UP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gu.currentPopupAction&&gu.currentPopupAction.cancel(),gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=cE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_H.get())};e()}}gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="pendingRedirect",um=new Map;class bH extends UP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=um.get(this.auth._key());if(!e){try{const r=await SH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}um.set(this.auth._key(),e)}return this.bypassAuthState||um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SH(t,e){const n=xH(e),r=IH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function TH(t,e){um.set(t._key(),e)}function IH(t){return Rs(t._redirectPersistence)}function xH(t){return lm(EH,t.config.apiKey,t.name)}async function CH(t,e,n=!1){if(No(t.app))return Promise.reject(Xa(t));const r=lE(t),i=gH(r,e),o=await new bH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=10*60*1e3;class kH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AH&&this.cachedEventUids.clear(),this.cachedEventUids.has(hI(e))}saveEventToCache(e){this.cachedEventUids.add(hI(e)),this.lastProcessedEventTime=Date.now()}}function hI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PH(t,e={}){return Rc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NH=/^https?/;async function DH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PH(t);for(const n of e)try{if(MH(n))return}catch{}Fs(t,"unauthorized-domain")}function MH(t){const e=Bw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NH.test(n))return!1;if(OH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new sh(3e4,6e4);function pI(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $H(t){return new Promise((e,n)=>{var r,i,s;function o(){pI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pI(),n(Wi(t,"network-request-failed"))},timeout:LH.get()})}if(!((i=(r=Hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hi().gapi)===null||s===void 0)&&s.load)o();else{const a=BW("iframefcb");return Hi()[a]=()=>{gapi.load?o():n(Wi(t,"network-request-failed"))},UW(`${jW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cm=null,e})}let cm=null;function VH(t){return cm=cm||$H(t),cm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new sh(5e3,15e3),UH="__/auth/iframe",jH="emulator/auth/iframe",BH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WH(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iE(e,jH):`https://${t.config.authDomain}/${UH}`,r={apiKey:e.apiKey,appName:t.name,v:El},i=zH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ih(r).slice(1)}`}async function HH(t){const e=await VH(t),n=Hi().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:WH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wi(t,"network-request-failed"),a=Hi().setTimeout(()=>{s(o)},FH.get());function l(){Hi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GH=500,KH=600,QH="_blank",YH="http://localhost";class mI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XH(t,e,n,r=GH,i=KH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qH),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Un().toLowerCase();n&&(a=EP(c)?QH:n),_P(c)&&(e=e||YH,l.scrollbars="yes");const f=Object.entries(l).reduce((h,[g,y])=>`${h}${g}=${y},`,"");if(PW(c)&&a!=="_self")return JH(e||"",a),new mI(null);const d=window.open(e||"",a,f);He(d,t,"popup-blocked");try{d.focus()}catch{}return new mI(d)}function JH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="__/auth/handler",eq="emulator/auth/handler",tq=encodeURIComponent("fac");async function gI(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:El,eventId:i};if(e instanceof RP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries(s||{}))o[f]=d}if(e instanceof oh){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${tq}=${encodeURIComponent(l)}`:"";return`${nq(t)}?${ih(a).slice(1)}${c}`}function nq({config:t}){return t.emulator?iE(t,eq):`https://${t.authDomain}/${ZH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class rq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MP,this._completeRedirectFn=CH,this._overrideRedirectResult=TH}async _openPopup(e,n,r,i){var s;Us((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gI(e,n,r,Bw(),i);return XH(e,o,cE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gI(e,n,r,Bw(),i);return oH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HH(e),r=new kH(e);return n.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Uy];o!==void 0&&n(!!o),Fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xP()||aE()||m0()}}const iq=rq;var yI="@firebase/auth",vI="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aq(t){ll(new ea("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;He(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CP(t)},c=new VW(r,i,s,l);return WW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ll(new ea("auth-internal",e=>{const n=lE(e.getProvider("auth").getImmediate());return(r=>new sq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(yI,vI,oq(t)),zi(yI,vI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=5*60,uq=iP("authIdTokenMaxAge")||lq;let wI=null;const cq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uq)return;const i=n==null?void 0:n.token;wI!==i&&(wI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fq(t=nE()){const e=p0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zW(t,{popupRedirectResolver:iq,persistence:[mH,rH,MP]}),r=iP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=cq(s.toString());ZW(n,o,()=>o(n.currentUser)),JW(n,a=>o(a))}}const i=tP("auth");return i&&HW(n,`http://${i}`),n}function dq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aq("Browser");var _I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ja,BP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function R(){}R.prototype=I.prototype,A.D=I.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(D,V,U){for(var M=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)M[xe-2]=arguments[xe];return I.prototype[V].apply(D,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,R){R||(R=0);var D=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)D[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)D[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=A.g[0],R=A.g[1],V=A.g[2];var U=A.g[3],M=I+(U^R&(V^U))+D[0]+3614090360&4294967295;I=R+(M<<7&4294967295|M>>>25),M=U+(V^I&(R^V))+D[1]+3905402710&4294967295,U=I+(M<<12&4294967295|M>>>20),M=V+(R^U&(I^R))+D[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(I^V&(U^I))+D[3]+3250441966&4294967295,R=V+(M<<22&4294967295|M>>>10),M=I+(U^R&(V^U))+D[4]+4118548399&4294967295,I=R+(M<<7&4294967295|M>>>25),M=U+(V^I&(R^V))+D[5]+1200080426&4294967295,U=I+(M<<12&4294967295|M>>>20),M=V+(R^U&(I^R))+D[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(I^V&(U^I))+D[7]+4249261313&4294967295,R=V+(M<<22&4294967295|M>>>10),M=I+(U^R&(V^U))+D[8]+1770035416&4294967295,I=R+(M<<7&4294967295|M>>>25),M=U+(V^I&(R^V))+D[9]+2336552879&4294967295,U=I+(M<<12&4294967295|M>>>20),M=V+(R^U&(I^R))+D[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(I^V&(U^I))+D[11]+2304563134&4294967295,R=V+(M<<22&4294967295|M>>>10),M=I+(U^R&(V^U))+D[12]+1804603682&4294967295,I=R+(M<<7&4294967295|M>>>25),M=U+(V^I&(R^V))+D[13]+4254626195&4294967295,U=I+(M<<12&4294967295|M>>>20),M=V+(R^U&(I^R))+D[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=R+(I^V&(U^I))+D[15]+1236535329&4294967295,R=V+(M<<22&4294967295|M>>>10),M=I+(V^U&(R^V))+D[1]+4129170786&4294967295,I=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(I^R))+D[6]+3225465664&4294967295,U=I+(M<<9&4294967295|M>>>23),M=V+(I^R&(U^I))+D[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^I&(V^U))+D[0]+3921069994&4294967295,R=V+(M<<20&4294967295|M>>>12),M=I+(V^U&(R^V))+D[5]+3593408605&4294967295,I=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(I^R))+D[10]+38016083&4294967295,U=I+(M<<9&4294967295|M>>>23),M=V+(I^R&(U^I))+D[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^I&(V^U))+D[4]+3889429448&4294967295,R=V+(M<<20&4294967295|M>>>12),M=I+(V^U&(R^V))+D[9]+568446438&4294967295,I=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(I^R))+D[14]+3275163606&4294967295,U=I+(M<<9&4294967295|M>>>23),M=V+(I^R&(U^I))+D[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^I&(V^U))+D[8]+1163531501&4294967295,R=V+(M<<20&4294967295|M>>>12),M=I+(V^U&(R^V))+D[13]+2850285829&4294967295,I=R+(M<<5&4294967295|M>>>27),M=U+(R^V&(I^R))+D[2]+4243563512&4294967295,U=I+(M<<9&4294967295|M>>>23),M=V+(I^R&(U^I))+D[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=R+(U^I&(V^U))+D[12]+2368359562&4294967295,R=V+(M<<20&4294967295|M>>>12),M=I+(R^V^U)+D[5]+4294588738&4294967295,I=R+(M<<4&4294967295|M>>>28),M=U+(I^R^V)+D[8]+2272392833&4294967295,U=I+(M<<11&4294967295|M>>>21),M=V+(U^I^R)+D[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^I)+D[14]+4259657740&4294967295,R=V+(M<<23&4294967295|M>>>9),M=I+(R^V^U)+D[1]+2763975236&4294967295,I=R+(M<<4&4294967295|M>>>28),M=U+(I^R^V)+D[4]+1272893353&4294967295,U=I+(M<<11&4294967295|M>>>21),M=V+(U^I^R)+D[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^I)+D[10]+3200236656&4294967295,R=V+(M<<23&4294967295|M>>>9),M=I+(R^V^U)+D[13]+681279174&4294967295,I=R+(M<<4&4294967295|M>>>28),M=U+(I^R^V)+D[0]+3936430074&4294967295,U=I+(M<<11&4294967295|M>>>21),M=V+(U^I^R)+D[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^I)+D[6]+76029189&4294967295,R=V+(M<<23&4294967295|M>>>9),M=I+(R^V^U)+D[9]+3654602809&4294967295,I=R+(M<<4&4294967295|M>>>28),M=U+(I^R^V)+D[12]+3873151461&4294967295,U=I+(M<<11&4294967295|M>>>21),M=V+(U^I^R)+D[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=R+(V^U^I)+D[2]+3299628645&4294967295,R=V+(M<<23&4294967295|M>>>9),M=I+(V^(R|~U))+D[0]+4096336452&4294967295,I=R+(M<<6&4294967295|M>>>26),M=U+(R^(I|~V))+D[7]+1126891415&4294967295,U=I+(M<<10&4294967295|M>>>22),M=V+(I^(U|~R))+D[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~I))+D[5]+4237533241&4294967295,R=V+(M<<21&4294967295|M>>>11),M=I+(V^(R|~U))+D[12]+1700485571&4294967295,I=R+(M<<6&4294967295|M>>>26),M=U+(R^(I|~V))+D[3]+2399980690&4294967295,U=I+(M<<10&4294967295|M>>>22),M=V+(I^(U|~R))+D[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~I))+D[1]+2240044497&4294967295,R=V+(M<<21&4294967295|M>>>11),M=I+(V^(R|~U))+D[8]+1873313359&4294967295,I=R+(M<<6&4294967295|M>>>26),M=U+(R^(I|~V))+D[15]+4264355552&4294967295,U=I+(M<<10&4294967295|M>>>22),M=V+(I^(U|~R))+D[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~I))+D[13]+1309151649&4294967295,R=V+(M<<21&4294967295|M>>>11),M=I+(V^(R|~U))+D[4]+4149444226&4294967295,I=R+(M<<6&4294967295|M>>>26),M=U+(R^(I|~V))+D[11]+3174756917&4294967295,U=I+(M<<10&4294967295|M>>>22),M=V+(I^(U|~R))+D[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=R+(U^(V|~I))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+U&4294967295}r.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var R=I-this.blockSize,D=this.B,V=this.h,U=0;U<I;){if(V==0)for(;U<=R;)i(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<I;)if(D[V++]=A.charCodeAt(U++),V==this.blockSize){i(this,D),V=0;break}}else for(;U<I;)if(D[V++]=A[U++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var R=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=R&255,R/=256;for(this.u(A),A=Array(16),I=R=0;4>I;++I)for(var D=0;32>D;D+=8)A[R++]=this.g[I]>>>D&255;return A};function s(A,I){var R=a;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=I(A)}function o(A,I){this.h=I;for(var R=[],D=!0,V=A.length-1;0<=V;V--){var U=A[V]|0;D&&U==I||(R[V]=U,D=!1)}this.g=R}var a={};function l(A){return-128<=A&&128>A?s(A,function(I){return new o([I|0],0>I?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return S(c(-A));for(var I=[],R=1,D=0;A>=R;D++)I[D]=A/R|0,R*=4294967296;return new o(I,0)}function f(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return S(f(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(I,8)),D=d,V=0;V<A.length;V+=8){var U=Math.min(8,A.length-V),M=parseInt(A.substring(V,V+U),I);8>U?(U=c(Math.pow(I,U)),D=D.j(U).add(c(M))):(D=D.j(R),D=D.add(c(M)))}return D}var d=l(0),h=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-S(this).m();for(var A=0,I=1,R=0;R<this.g.length;R++){var D=this.i(R);A+=(0<=D?D:4294967296+D)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(v(this))return"-"+S(this).toString(A);for(var I=c(Math.pow(A,6)),R=this,D="";;){var V=N(R,I).g;R=b(R,V.j(I));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=V,y(R))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=b(this,A),v(A)?-1:y(A)?0:1};function S(A){for(var I=A.g.length,R=[],D=0;D<I;D++)R[D]=~A.g[D];return new o(R,~A.h).add(h)}t.abs=function(){return v(this)?S(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],D=0,V=0;V<=I;V++){var U=D+(this.i(V)&65535)+(A.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);D=M>>>16,U&=65535,M&=65535,R[V]=M<<16|U}return new o(R,R[R.length-1]&-2147483648?-1:0)};function b(A,I){return A.add(S(I))}t.j=function(A){if(y(this)||y(A))return d;if(v(this))return v(A)?S(this).j(S(A)):S(S(this).j(A));if(v(A))return S(this.j(S(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var I=this.g.length+A.g.length,R=[],D=0;D<2*I;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<A.g.length;V++){var U=this.i(D)>>>16,M=this.i(D)&65535,xe=A.i(V)>>>16,Ne=A.i(V)&65535;R[2*D+2*V]+=M*Ne,w(R,2*D+2*V),R[2*D+2*V+1]+=U*Ne,w(R,2*D+2*V+1),R[2*D+2*V+1]+=M*xe,w(R,2*D+2*V+1),R[2*D+2*V+2]+=U*xe,w(R,2*D+2*V+2)}for(D=0;D<I;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=I;D<2*I;D++)R[D]=0;return new o(R,0)};function w(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function T(A,I){this.g=A,this.h=I}function N(A,I){if(y(I))throw Error("division by zero");if(y(A))return new T(d,d);if(v(A))return I=N(S(A),I),new T(S(I.g),S(I.h));if(v(I))return I=N(A,S(I)),new T(S(I.g),I.h);if(30<A.g.length){if(v(A)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var R=h,D=I;0>=D.l(A);)R=F(R),D=F(D);var V=j(R,1),U=j(D,1);for(D=j(D,2),R=j(R,2);!y(D);){var M=U.add(D);0>=M.l(A)&&(V=V.add(R),U=M),D=j(D,1),R=j(R,1)}return I=b(A,V.j(I)),new T(V,I)}for(V=d;0<=A.l(I);){for(R=Math.max(1,Math.floor(A.m()/I.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=c(R),M=U.j(I);v(M)||0<M.l(A);)R-=D,U=c(R),M=U.j(I);y(U)&&(U=h),V=V.add(U),A=b(A,M)}return new T(V,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)&A.i(D);return new o(R,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)|A.i(D);return new o(R,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)^A.i(D);return new o(R,this.h^A.h)};function F(A){for(var I=A.g.length+1,R=[],D=0;D<I;D++)R[D]=A.i(D)<<1|A.i(D-1)>>>31;return new o(R,A.h)}function j(A,I){var R=I>>5;I%=32;for(var D=A.g.length-R,V=[],U=0;U<D;U++)V[U]=0<I?A.i(U+R)>>>I|A.i(U+R+1)<<32-I:A.i(U+R);return new o(V,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Ja=o}).apply(typeof _I<"u"?_I:typeof self<"u"?self:typeof window<"u"?window:{});var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zP,WP,_f,HP,fm,Hw,qP,GP,KP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fp=="object"&&fp];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var _=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var W=u[P];if(!(W in _))break e;_=_[W]}u=u[u.length-1],P=_[u],m=m(P),m!=P&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var _=0,P=!1,W={next:function(){if(!P&&_<u.length){var Q=_++;return{value:m(Q,u[Q]),done:!1}}return P=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function f(u,m,_){return u.call.apply(u.bind,arguments)}function d(u,m,_){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,P),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function h(u,m,_){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,h.apply(null,arguments)}function g(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function y(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(P,W,Q){for(var ae=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ae[Mt-2]=arguments[Mt];return m.prototype[W].apply(P,ae)}}function v(u){const m=u.length;if(0<m){const _=Array(m);for(let P=0;P<m;P++)_[P]=u[P];return _}return[]}function S(u,m){for(let _=1;_<arguments.length;_++){const P=arguments[_];if(l(P)){const W=u.length||0,Q=P.length||0;u.length=W+Q;for(let ae=0;ae<Q;ae++)u[W+ae]=P[ae]}else u.push(P)}}class b{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var F=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function j(u,m,_){for(const P in u)m.call(_,u[P],P,u)}function A(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(_ in P)u[_]=P[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(P,_)&&(u[_]=P[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){a.setTimeout(()=>{throw u},0)}function M(){var u=Z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,_){const P=Ne.get();P.set(m,_),this.h?this.h.next=P:this.g=P,this.h=P}}var Ne=new b(()=>new ut,u=>u.reset());class ut{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,ne=!1,Z=new xe,de=()=>{const u=a.Promise.resolve(void 0);Oe=()=>{u.then(Me)}};var Me=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(_){U(_)}var m=Ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ne=!1};function De(){this.s=this.s,this.C=this.C}De.prototype.s=!1,De.prototype.ma=function(){this.s||(this.s=!0,this.N())},De.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return u}();function _e(u,m){if(Ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(F){e:{try{N(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}y(_e,Ce);var tt={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),ti=0;function on(u,m,_,P,W){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!P,this.ha=W,this.key=++ti,this.da=this.fa=!1}function dr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ss(u){this.src=u,this.g={},this.h=0}ss.prototype.add=function(u,m,_,P,W){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ae=qs(u,m,P,W);return-1<ae?(m=u[ae],_||(m.fa=!1)):(m=new on(m,this.src,Q,!!P,W),m.fa=_,u.push(m)),m};function Ii(u,m){var _=m.type;if(_ in u.g){var P=u.g[_],W=Array.prototype.indexOf.call(P,m,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(P,W,1),Q&&(dr(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qs(u,m,_,P){for(var W=0;W<u.length;++W){var Q=u[W];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==P)return W}return-1}var ua="closure_lm_"+(1e6*Math.random()|0),ni={};function ca(u,m,_,P,W){if(P&&P.once)return Ur(u,m,_,P,W);if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)ca(u,m[Q],_,P,W);return null}return _=Ks(_),u&&u[Ot]?u.K(m,_,c(P)?!!P.capture:!!P,W):fa(u,m,_,!1,P,W)}function fa(u,m,_,P,W,Q){if(!m)throw Error("Invalid event type");var ae=c(W)?!!W.capture:!!W,Mt=Gs(u);if(Mt||(u[ua]=Mt=new ss(u)),_=Mt.add(m,_,P,ae,Q),_.proxy)return _;if(P=Tl(),_.proxy=P,P.src=u,P.listener=_,u.addEventListener)ct||(W=ae),W===void 0&&(W=!1),u.addEventListener(m.toString(),P,W);else if(u.attachEvent)u.attachEvent(Il(m.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Tl(){function u(_){return m.call(u.src,u.listener,_)}const m=Mc;return u}function Ur(u,m,_,P,W){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Ur(u,m[Q],_,P,W);return null}return _=Ks(_),u&&u[Ot]?u.L(m,_,c(P)?!!P.capture:!!P,W):fa(u,m,_,!0,P,W)}function os(u,m,_,P,W){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)os(u,m[Q],_,P,W);else P=c(P)?!!P.capture:!!P,_=Ks(_),u&&u[Ot]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],_=qs(Q,_,P,W),-1<_&&(dr(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Gs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=qs(m,_,P,W)),(_=-1<u?m[u]:null)&&ri(_))}function ri(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ot])Ii(m.i,u);else{var _=u.type,P=u.proxy;m.removeEventListener?m.removeEventListener(_,P,u.capture):m.detachEvent?m.detachEvent(Il(_),P):m.addListener&&m.removeListener&&m.removeListener(P),(_=Gs(m))?(Ii(_,u),_.h==0&&(_.src=null,m[ua]=null)):dr(u)}}}function Il(u){return u in ni?ni[u]:ni[u]="on"+u}function Mc(u,m){if(u.da)u=!0;else{m=new _e(m,this);var _=u.listener,P=u.ha||u.src;u.fa&&ri(u),u=_.call(P,m)}return u}function Gs(u){return u=u[ua],u instanceof ss?u:null}var da="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(u){return typeof u=="function"?u:(u[da]||(u[da]=function(m){return u.handleEvent(m)}),u[da])}function cn(){De.call(this),this.i=new ss(this),this.M=this,this.F=null}y(cn,De),cn.prototype[Ot]=!0,cn.prototype.removeEventListener=function(u,m,_,P){os(this,u,m,_,P)};function gn(u,m){var _,P=u.F;if(P)for(_=[];P;P=P.F)_.push(P);if(u=u.M,P=m.type||m,typeof m=="string")m=new Ce(m,u);else if(m instanceof Ce)m.target=m.target||u;else{var W=m;m=new Ce(P,u),D(m,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ae=m.g=_[Q];W=ha(ae,P,!0,m)&&W}if(ae=m.g=u,W=ha(ae,P,!0,m)&&W,W=ha(ae,P,!1,m)&&W,_)for(Q=0;Q<_.length;Q++)ae=m.g=_[Q],W=ha(ae,P,!1,m)&&W}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],P=0;P<_.length;P++)dr(_[P]);delete u.g[m],u.h--}}this.F=null},cn.prototype.K=function(u,m,_,P){return this.i.add(String(u),m,!1,_,P)},cn.prototype.L=function(u,m,_,P){return this.i.add(String(u),m,!0,_,P)};function ha(u,m,_,P){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,Q=0;Q<m.length;++Q){var ae=m[Q];if(ae&&!ae.da&&ae.capture==_){var Mt=ae.listener,Pn=ae.ha||ae.src;ae.fa&&Ii(u.i,ae),W=Mt.call(Pn,P)!==!1&&W}}return W&&!P.defaultPrevented}function gh(u,m,_){if(typeof u=="function")_&&(u=h(u,_));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function xl(u){u.g=gh(()=>{u.g=null,u.i&&(u.i=!1,xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lc extends De{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(u){De.call(this),this.h=u,this.g={}}y(xi,De);var Qs=[];function as(u){j(u.g,function(m,_){this.g.hasOwnProperty(_)&&ri(m)},u),u.g={}}xi.prototype.N=function(){xi.aa.N.call(this),as(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=a.JSON.stringify,Cl=a.JSON.parse,pa=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function us(){}us.prototype.h=null;function Al(u){return u.h||(u.h=u.i())}function $c(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vc(){Ce.call(this,"d")}y(Vc,Ce);function Sr(){Ce.call(this,"c")}y(Sr,Ce);var er={},cs=null;function Ys(){return cs=cs||new cn}er.La="serverreachability";function kl(u){Ce.call(this,er.La,u)}y(kl,Ce);function Xs(u){const m=Ys();gn(m,new kl(m))}er.STAT_EVENT="statevent";function yh(u,m){Ce.call(this,er.STAT_EVENT,u),this.stat=m}y(yh,Ce);function kt(u){const m=Ys();gn(m,new yh(m,u))}er.Ma="timingevent";function Fc(u,m){Ce.call(this,er.Ma,u),this.size=m}y(Fc,Ce);function E(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function k(){this.g=!0}k.prototype.xa=function(){this.g=!1};function C(u,m,_,P,W,Q){u.info(function(){if(u.g)if(Q)for(var ae="",Mt=Q.split("&"),Pn=0;Pn<Mt.length;Pn++){var bt=Mt[Pn].split("=");if(1<bt.length){var jn=bt[0];bt=bt[1];var Bn=jn.split("_");ae=2<=Bn.length&&Bn[1]=="type"?ae+(jn+"="+bt+"&"):ae+(jn+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+m+`
`+_+`
`+ae})}function p(u,m,_,P,W,Q,ae){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+m+`
`+_+`
`+Q+" "+ae})}function O(u,m,_,P){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+H(u,_)+(P?" "+P:"")})}function z(u,m){u.info(function(){return"TIMEOUT: "+m})}k.prototype.info=function(){};function H(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var P=_[u];if(!(2>P.length)){var W=P[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return ls(_)}catch{return m}}var Y={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function le(){}y(le,us),le.prototype.g=function(){return new XMLHttpRequest},le.prototype.i=function(){return{}},we=new le;function nt(u,m,_,P){this.j=u,this.i=m,this.l=_,this.R=P||1,this.U=new xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var $e={},Ve={};function ze(u,m,_){u.L=1,u.v=yt(Je(m)),u.m=_,u.P=!0,We(u,null)}function We(u,m){u.F=Date.now(),Le(u),u.A=Je(u.v);var _=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),HE(_.i,"t",P),u.C=0,_=u.j.J,u.h=new pe,u.g=ub(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Lc(h(u.Y,u,u.g),u.O)),m=u.U,_=u.g,P=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(Qs[0]=W.toString()),W=Qs);for(var Q=0;Q<W.length;Q++){var ae=ca(_,W[Q],P||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Xs(),C(u.i,u.u,u.A,u.l,u.R,u.m)}nt.prototype.ca=function(u){u=u.target;const m=this.M;m&&fs(u)==3?m.j():this.Y(u)},nt.prototype.Y=function(u){try{if(u==this.g)e:{const Bn=fs(this.g);var m=this.g.Ba();const Ol=this.g.Z();if(!(3>Bn)&&(Bn!=3||this.g&&(this.h.h||this.g.oa()||JE(this.g)))){this.J||Bn!=4||m==7||(m==8||0>=Ol?Xs(3):Xs(2)),Te(this);var _=this.g.Z();this.X=_;t:if(Fe(this)){var P=JE(this.g);u="";var W=P.length,Q=fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){he(this),ue(this);var ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(P[m],{stream:!(Q&&m==W-1)});P.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,p(this.i,this.u,this.A,this.l,this.R,Bn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,Pn=this.g;if((Mt=Pn.g?Pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Mt)){var bt=Mt;break t}}bt=null}if(_=bt)O(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ye(this,_);else{this.o=!1,this.s=3,kt(12),he(this),ue(this);break e}}if(this.P){_=!0;let ii;for(;!this.J&&this.C<ae.length;)if(ii=je(this,ae),ii==Ve){Bn==4&&(this.s=4,kt(14),_=!1),O(this.i,this.l,null,"[Incomplete Response]");break}else if(ii==$e){this.s=4,kt(15),O(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else O(this.i,this.l,ii,null),ye(this,ii);if(Fe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bn!=4||ae.length!=0||this.h.h||(this.s=1,kt(16),_=!1),this.o=this.o&&_,!_)O(this.i,this.l,ae,"[Invalid Chunked Response]"),he(this),ue(this);else if(0<ae.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),L0(jn),jn.M=!0,kt(11))}}else O(this.i,this.l,ae,null),ye(this,ae);Bn==4&&he(this),this.o&&!this.J&&(Bn==4?sb(this.j,this):(this.o=!1,Le(this)))}else _3(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),he(this),ue(this)}}}catch{}finally{}};function Fe(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function je(u,m){var _=u.C,P=m.indexOf(`
`,_);return P==-1?Ve:(_=Number(m.substring(_,P)),isNaN(_)?$e:(P+=1,P+_>m.length?Ve:(m=m.slice(P,P+_),u.C=P+_,m)))}nt.prototype.cancel=function(){this.J=!0,he(this)};function Le(u){u.S=Date.now()+u.I,me(u,u.I)}function me(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=E(h(u.ba,u),m)}function Te(u){u.B&&(a.clearTimeout(u.B),u.B=null)}nt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(z(this.i,this.A),this.L!=2&&(Xs(),kt(17)),he(this),this.s=2,ue(this)):me(this,this.S-u)};function ue(u){u.j.G==0||u.J||sb(u.j,u)}function he(u){Te(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,as(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ye(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||X(_.h,u))){if(!u.K&&X(_.h,u)&&_.G==3){try{var P=_.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)bh(_),_h(_);else break e;M0(_),kt(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=E(h(_.Za,_),6e3));if(1>=te(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ga(_,11)}else if((u.K||_.g==u)&&bh(_),!w(m))for(W=_.Da.g.parse(m),m=0;m<W.length;m++){let bt=W[m];if(_.T=bt[0],bt=bt[1],_.G==2)if(bt[0]=="c"){_.K=bt[1],_.ia=bt[2];const jn=bt[3];jn!=null&&(_.la=jn,_.j.info("VER="+_.la));const Bn=bt[4];Bn!=null&&(_.Aa=Bn,_.j.info("SVER="+_.Aa));const Ol=bt[5];Ol!=null&&typeof Ol=="number"&&0<Ol&&(P=1.5*Ol,_.L=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const ii=u.g;if(ii){const Th=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Th){var Q=P.h;Q.g||Th.indexOf("spdy")==-1&&Th.indexOf("quic")==-1&&Th.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(J(Q,Q.h),Q.h=null))}if(P.D){const $0=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;$0&&(P.ya=$0,Be(P.I,P.D,$0))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),P=_;var ae=u;if(P.qa=lb(P,P.J?P.ia:null,P.W),ae.K){re(P.h,ae);var Mt=ae,Pn=P.L;Pn&&(Mt.I=Pn),Mt.B&&(Te(Mt),Le(Mt)),P.g=ae}else rb(P);0<_.i.length&&Eh(_)}else bt[0]!="stop"&&bt[0]!="close"||ga(_,7);else _.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?ga(_,7):D0(_):bt[0]!="noop"&&_.l&&_.l.ta(bt),_.v=0)}}Xs(4)}catch{}}var ce=class{constructor(u,m){this.g=u,this.map=m}};function G(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function K(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function te(u){return u.h?1:u.g?u.g.size:0}function X(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function J(u,m){u.g?u.g.add(m):u.h=m}function re(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}G.prototype.cancel=function(){if(this.i=Ae(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ae(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return v(u.i)}function Qe(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],_=u.length,P=0;P<_;P++)m.push(u[P]);return m}m=[],_=0;for(P in u)m[_++]=u[P];return m}function Xe(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const P in u)m[_++]=P;return m}}}function Ge(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Xe(u),P=Qe(u),W=P.length,Q=0;Q<W;Q++)m.call(void 0,P[Q],_&&_[Q],u)}var $=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var P=u[_].indexOf("="),W=null;if(0<=P){var Q=u[_].substring(0,P);W=u[_].substring(P+1)}else Q=u[_];m(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function st(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof st){this.h=u.h,Ke(this,u.j),this.o=u.o,this.g=u.g,ft(this,u.s),this.l=u.l;var m=u.i,_=new Uc;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),dt(this,_),this.m=u.m}else u&&(m=String(u).match($))?(this.h=!1,Ke(this,m[1]||"",!0),this.o=Nt(m[2]||""),this.g=Nt(m[3]||"",!0),ft(this,m[4]),this.l=Nt(m[5]||"",!0),dt(this,m[6]||"",!0),this.m=Nt(m[7]||"")):(this.h=!1,this.i=new Uc(null,this.h))}st.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Dt(m,Zt,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dt(m,Zt,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Dt(_,_.charAt(0)=="/"?Tn:Sn,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Dt(_,d3)),u.join("")};function Je(u){return new st(u)}function Ke(u,m,_){u.j=_?Nt(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ft(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function dt(u,m,_){m instanceof Uc?(u.i=m,h3(u.i,u.h)):(_||(m=Dt(m,In)),u.i=new Uc(m,u.h))}function Be(u,m,_){u.i.set(m,_)}function yt(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Nt(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dt(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Wt),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wt(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zt=/[#\/\?@]/g,Sn=/[#\?:]/g,Tn=/[#\?]/g,In=/[#\?@]/g,d3=/#/g;function Uc(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Js(u){u.g||(u.g=new Map,u.h=0,u.i&&it(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Uc.prototype,t.add=function(u,m){Js(this),this.i=null,u=Rl(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function zE(u,m){Js(u),m=Rl(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function WE(u,m){return Js(u),m=Rl(u,m),u.g.has(m)}t.forEach=function(u,m){Js(this),this.g.forEach(function(_,P){_.forEach(function(W){u.call(m,W,P,this)},this)},this)},t.na=function(){Js(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let P=0;P<m.length;P++){const W=u[P];for(let Q=0;Q<W.length;Q++)_.push(m[P])}return _},t.V=function(u){Js(this);let m=[];if(typeof u=="string")WE(this,u)&&(m=m.concat(this.g.get(Rl(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},t.set=function(u,m){return Js(this),this.i=null,u=Rl(this,u),WE(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function HE(u,m,_){zE(u,m),0<_.length&&(u.i=null,u.g.set(Rl(u,m),v(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var P=m[_];const Q=encodeURIComponent(String(P)),ae=this.V(P);for(P=0;P<ae.length;P++){var W=Q;ae[P]!==""&&(W+="="+encodeURIComponent(String(ae[P]))),u.push(W)}}return this.i=u.join("&")};function Rl(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function h3(u,m){m&&!u.j&&(Js(u),u.i=null,u.g.forEach(function(_,P){var W=P.toLowerCase();P!=W&&(zE(this,P),HE(this,W,_))},u)),u.j=m}function p3(u,m){const _=new k;if(a.Image){const P=new Image;P.onload=g(Zs,_,"TestLoadImage: loaded",!0,m,P),P.onerror=g(Zs,_,"TestLoadImage: error",!1,m,P),P.onabort=g(Zs,_,"TestLoadImage: abort",!1,m,P),P.ontimeout=g(Zs,_,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else m(!1)}function m3(u,m){const _=new k,P=new AbortController,W=setTimeout(()=>{P.abort(),Zs(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:P.signal}).then(Q=>{clearTimeout(W),Q.ok?Zs(_,"TestPingServer: ok",!0,m):Zs(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Zs(_,"TestPingServer: error",!1,m)})}function Zs(u,m,_,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(_)}catch{}}function g3(){this.g=new pa}function y3(u,m,_){const P=_||"";try{Ge(u,function(W,Q){let ae=W;c(W)&&(ae=ls(W)),m.push(P+Q+"="+encodeURIComponent(ae))})}catch(W){throw m.push(P+"type="+encodeURIComponent("_badmap")),W}}function jc(u){this.l=u.Ub||null,this.j=u.eb||!1}y(jc,us),jc.prototype.g=function(){return new vh(this.l,this.j)},jc.prototype.i=function(u){return function(){return u}}({});function vh(u,m){cn.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(vh,cn),t=vh.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,zc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zc(this)),this.g&&(this.readyState=3,zc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function qE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bc(this):zc(this),this.readyState==3&&qE(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Bc(this))},t.Qa=function(u){this.g&&(this.response=u,Bc(this))},t.ga=function(){this.g&&Bc(this)};function Bc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,zc(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function zc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function GE(u){let m="";return j(u,function(_,P){m+=P,m+=":",m+=_,m+=`\r
`}),m}function N0(u,m,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=GE(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Be(u,m,_))}function en(u){cn.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(en,cn);var v3=/^https?$/i,w3=["POST","PUT"];t=en.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?Al(this.o):Al(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){KE(this,Q);return}if(u=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)_.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Q of P.keys())_.set(Q,P.get(Q));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(w3,m,void 0))||P||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XE(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){KE(this,Q)}};function KE(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,QE(u),wh(u)}function QE(u){u.A||(u.A=!0,gn(u,"complete"),gn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,gn(this,"complete"),gn(this,"abort"),wh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wh(this,!0)),en.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?YE(this):this.bb())},t.bb=function(){YE(this)};function YE(u){if(u.h&&typeof o<"u"&&(!u.v[1]||fs(u)!=4||u.Z()!=2)){if(u.u&&fs(u)==4)gh(u.Ea,0,u);else if(gn(u,"readystatechange"),fs(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var P;if(P=ae===0){var W=String(u.D).match($)[1]||null;!W&&a.self&&a.self.location&&(W=a.self.location.protocol.slice(0,-1)),P=!v3.test(W?W.toLowerCase():"")}_=P}if(_)gn(u,"complete"),gn(u,"success");else{u.m=6;try{var Q=2<fs(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",QE(u)}}finally{wh(u)}}}}function wh(u,m){if(u.g){XE(u);const _=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||gn(u,"ready");try{_.onreadystatechange=P}catch{}}}function XE(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function fs(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cl(m)}};function JE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _3(u){const m={};u=(u.g&&2<=fs(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(w(u[P]))continue;var _=V(u[P]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[W]||[];m[W]=Q,Q.push(_)}A(m,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wc(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ZE(u){this.Aa=0,this.i=[],this.j=new k,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wc("baseRetryDelayMs",5e3,u),this.cb=Wc("retryDelaySeedMs",1e4,u),this.Wa=Wc("forwardChannelMaxRetries",2,u),this.wa=Wc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new G(u&&u.concurrentRequestLimit),this.Da=new g3,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ZE.prototype,t.la=8,t.G=1,t.connect=function(u,m,_,P){kt(0),this.W=u,this.H=m||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.I=lb(this,null,this.W),Eh(this)};function D0(u){if(eb(u),u.G==3){var m=u.U++,_=Je(u.I);if(Be(_,"SID",u.K),Be(_,"RID",m),Be(_,"TYPE","terminate"),Hc(u,_),m=new nt(u,u.j,m),m.L=2,m.v=yt(Je(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=ub(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Le(m)}ab(u)}function _h(u){u.g&&(L0(u),u.g.cancel(),u.g=null)}function eb(u){_h(u),u.u&&(a.clearTimeout(u.u),u.u=null),bh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Eh(u){if(!K(u.h)&&!u.s){u.s=!0;var m=u.Ga;Oe||de(),ne||(Oe(),ne=!0),Z.add(m,u),u.B=0}}function E3(u,m){return te(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=E(h(u.Ga,u,m),ob(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new nt(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=nb(this,W,m),_=Je(this.I),Be(_,"RID",u),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Hc(this,_),Q&&(this.O?m="headers="+encodeURIComponent(String(GE(Q)))+"&"+m:this.m&&N0(_,this.m,Q)),J(this.h,W),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",m),Be(_,"SID","null"),W.T=!0,ze(W,_,null)):ze(W,_,m),this.G=2}}else this.G==3&&(u?tb(this,u):this.i.length==0||K(this.h)||tb(this))};function tb(u,m){var _;m?_=m.l:_=u.U++;const P=Je(u.I);Be(P,"SID",u.K),Be(P,"RID",_),Be(P,"AID",u.T),Hc(u,P),u.m&&u.o&&N0(P,u.m,u.o),_=new nt(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=nb(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),J(u.h,_),ze(_,P,m)}function Hc(u,m){u.H&&j(u.H,function(_,P){Be(m,P,_)}),u.l&&Ge({},function(_,P){Be(m,P,_)})}function nb(u,m,_){_=Math.min(u.i.length,_);var P=u.l?h(u.l.Na,u.l,u):null;e:{var W=u.i;let Q=-1;for(;;){const ae=["count="+_];Q==-1?0<_?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Mt=!0;for(let Pn=0;Pn<_;Pn++){let bt=W[Pn].g;const jn=W[Pn].map;if(bt-=Q,0>bt)Q=Math.max(0,W[Pn].g-100),Mt=!1;else try{y3(jn,ae,"req"+bt+"_")}catch{P&&P(jn)}}if(Mt){P=ae.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,P}function rb(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Oe||de(),ne||(Oe(),ne=!0),Z.add(m,u),u.v=0}}function M0(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=E(h(u.Fa,u),ob(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ib(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=E(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),_h(this),ib(this))};function L0(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ib(u){u.g=new nt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Je(u.qa);Be(m,"RID","rpc"),Be(m,"SID",u.K),Be(m,"AID",u.T),Be(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(m,"TO",u.ja),Be(m,"TYPE","xmlhttp"),Hc(u,m),u.m&&u.o&&N0(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=yt(Je(m)),_.m=null,_.P=!0,We(_,u)}t.Za=function(){this.C!=null&&(this.C=null,_h(this),M0(this),kt(19))};function bh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function sb(u,m){var _=null;if(u.g==m){bh(u),L0(u),u.g=null;var P=2}else if(X(u.h,m))_=m.D,re(u.h,m),P=1;else return;if(u.G!=0){if(m.o)if(P==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;P=Ys(),gn(P,new Fc(P,_)),Eh(u)}else rb(u);else if(W=m.s,W==3||W==0&&0<m.X||!(P==1&&E3(u,m)||P==2&&M0(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),W){case 1:ga(u,5);break;case 4:ga(u,10);break;case 3:ga(u,6);break;default:ga(u,2)}}}function ob(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function ga(u,m){if(u.j.info("Error code "+m),m==2){var _=h(u.fb,u),P=u.Xa;const W=!P;P=new st(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ke(P,"https"),yt(P),W?p3(P.toString(),_):m3(P.toString(),_)}else kt(2);u.G=0,u.l&&u.l.sa(m),ab(u),eb(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function ab(u){if(u.G=0,u.ka=[],u.l){const m=Ae(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function lb(u,m,_){var P=_ instanceof st?Je(_):new st(_);if(P.g!="")m&&(P.g=m+"."+P.g),ft(P,P.s);else{var W=a.location;P=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var Q=new st(null);P&&Ke(Q,P),m&&(Q.g=m),W&&ft(Q,W),_&&(Q.l=_),P=Q}return _=u.D,m=u.ya,_&&m&&Be(P,_,m),Be(P,"VER",u.la),Hc(u,P),P}function ub(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new en(new jc({eb:_})):new en(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cb(){}t=cb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sh(){}Sh.prototype.g=function(u,m){return new Tr(u,m)};function Tr(u,m){cn.call(this),this.g=new ZE(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pl(this)}y(Tr,cn),Tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){D0(this.g)},Tr.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ls(u),u=_);m.i.push(new ce(m.Ya++,u)),m.G==3&&Eh(m)},Tr.prototype.N=function(){this.g.l=null,delete this.j,D0(this.g),delete this.g,Tr.aa.N.call(this)};function fb(u){Vc.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}y(fb,Vc);function db(){Sr.call(this),this.status=1}y(db,Sr);function Pl(u){this.g=u}y(Pl,cb),Pl.prototype.ua=function(){gn(this.g,"a")},Pl.prototype.ta=function(u){gn(this.g,new fb(u))},Pl.prototype.sa=function(u){gn(this.g,new db)},Pl.prototype.ra=function(){gn(this.g,"b")},Sh.prototype.createWebChannel=Sh.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,KP=function(){return new Sh},GP=function(){return Ys()},qP=er,Hw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,fm=Y,se.COMPLETE="complete",HP=se,$c.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",cn.prototype.listen=cn.prototype.K,_f=$c,WP=jc,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,zP=en}).apply(typeof fp<"u"?fp:typeof self<"u"?self:typeof window<"u"?window:{});const EI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new eE("@firebase/firestore");function af(){return cl.logLevel}function Se(t,...e){if(cl.logLevel<=gt.DEBUG){const n=e.map(dE);cl.debug(`Firestore (${Pc}): ${t}`,...n)}}function js(t,...e){if(cl.logLevel<=gt.ERROR){const n=e.map(dE);cl.error(`Firestore (${Pc}): ${t}`,...n)}}function fc(t,...e){if(cl.logLevel<=gt.WARN){const n=e.map(dE);cl.warn(`Firestore (${Pc}): ${t}`,...n)}}function dE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+t;throw js(e),new Error(e)}function Ut(t,e){t||qe()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gn.UNAUTHENTICATED))}shutdown(){}}class pq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mq{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Go;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Go,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Go)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string"),new QP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string"),new Gn(e)}}class gq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new vq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_q(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function dc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new bn(0,0))}static max(){return new Ye(new bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Id.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Id?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends Id{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const Eq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Id{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return Eq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new be(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new be(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Bt.fromString(e))}static fromName(e){return new Pe(Bt.fromString(e).popFirst(5))}static empty(){return new Pe(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Bt(e.slice()))}}function bq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new bn(n+1,0):new bn(n,r));return new ta(i,Pe.empty(),e)}function Sq(t){return new ta(t.readTime,t.key,-1)}class ta{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ta(Ye.min(),Pe.empty(),-1)}static max(){return new ta(Ye.max(),Pe.empty(),-1)}}function Tq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==Iq)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new ie((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Cq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hE.oe=-1;function v0(t){return t==null}function Eg(t){return t===0&&1/t==-1/0}function Aq(t){return typeof t=="number"&&Number.isInteger(t)&&!Eg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dp(this.root,e,this.comparator,!0)}}class dp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=s??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SI(this.data.getIterator())}getIteratorFrom(e){return new SI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class SI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Vn(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JP("Invalid base64 string: "+s):s}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const kq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(Ut(!!t),typeof t=="string"){let e=0;const n=kq.exec(t);if(Ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fl(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mE(t){const e=t.mapValue.fields.__previous_value__;return pE(e)?mE(e):e}function xd(t){const e=na(t.mapValue.fields.__local_write_time__.timestampValue);return new bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Cd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pE(t)?4:Pq(t)?9007199254740991:10:qe()}function Zi(t,e){if(t===e)return!0;const n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=na(i.timestampValue),a=na(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fl(i.bytesValue).isEqual(fl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dn(i.geoPointValue.latitude)===dn(s.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dn(i.integerValue)===dn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dn(i.doubleValue),a=dn(s.doubleValue);return o===a?Eg(o)===Eg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(bI(o)!==bI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zi(o[l],a[l])))return!1;return!0}(t,e);default:return qe()}}function Ad(t,e){return(t.values||[]).find(n=>Zi(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=dl(t),r=dl(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dn(s.integerValue||s.doubleValue),l=dn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return TI(t.timestampValue,e.timestampValue);case 4:return TI(xd(t),xd(e));case 5:return Tt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fl(s),l=fl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Tt(a[c],l[c]);if(f!==0)return f}return Tt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Tt(dn(s.latitude),dn(o.latitude));return a!==0?a:Tt(dn(s.longitude),dn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const f=hc(a[c],l[c]);if(f)return f}return Tt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===hp.mapValue&&o===hp.mapValue)return 0;if(s===hp.mapValue)return 1;if(o===hp.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const h=Tt(l[d],f[d]);if(h!==0)return h;const g=hc(a[l[d]],c[f[d]]);if(g!==0)return g}return Tt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw qe()}}function TI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=na(t),r=na(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function pc(t){return qw(t)}function qw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=na(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qw(n.fields[o])}`;return i+"}"}(t.mapValue):qe()}function II(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gw(t){return!!t&&"integerValue"in t}function gE(t){return!!t&&"arrayValue"in t}function xI(t){return!!t&&"nullValue"in t}function CI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dm(t){return!!t&&"mapValue"in t}function Bf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Pq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bf(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yr(Bf(this.value))}}function ZP(t){const e=[];return bl(t.fields,(n,r)=>{const i=new Mn([n]);if(dm(r)){const s=ZP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qn(e,0,Ye.min(),Ye.min(),Ye.min(),yr.empty(),0)}static newFoundDocument(e,n,r,i){return new Qn(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new Qn(e,2,n,Ye.min(),Ye.min(),yr.empty(),0)}static newUnknownDocument(e,n){return new Qn(e,3,n,Ye.min(),Ye.min(),yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.position=e,this.inclusive=n}}function AI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(o.referenceValue),n.key):r=hc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n="asc"){this.field=e,this.dir=n}}function Oq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{}class pn extends eO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dq(e,n,r):n==="array-contains"?new $q(e,r):n==="in"?new Vq(e,r):n==="not-in"?new Fq(e,r):n==="array-contains-any"?new Uq(e,r):new pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mq(e,r):new Lq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hc(n,this.value)):n!==null&&dl(this.value)===dl(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends eO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Si(e,n)}matches(e){return tO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tO(t){return t.op==="and"}function nO(t){return Nq(t)&&tO(t)}function Nq(t){for(const e of t.filters)if(e instanceof Si)return!1;return!0}function Kw(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(nO(t))return t.filters.map(e=>Kw(e)).join(",");{const e=t.filters.map(n=>Kw(n)).join(",");return`${t.op}(${e})`}}function rO(t,e){return t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.field.isEqual(i.field)&&Zi(r.value,i.value)}(t,e):t instanceof Si?function(r,i){return i instanceof Si&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rO(o,i.filters[a]),!0):!1}(t,e):void qe()}function iO(t){return t instanceof pn?function(n){return`${n.field.canonicalString()} ${n.op} ${pc(n.value)}`}(t):t instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(iO).join(" ,")+"}"}(t):"Filter"}class Dq extends pn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mq extends pn{constructor(e,n){super(e,"in",n),this.keys=sO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lq extends pn{constructor(e,n){super(e,"not-in",n),this.keys=sO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class $q extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gE(n)&&Ad(n.arrayValue,this.value)}}class Vq extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ad(this.value.arrayValue,n)}}class Fq extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ad(this.value.arrayValue,n)}}class Uq extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ad(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function RI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jq(t,e,n,r,i,s,o)}function yE(t){const e=et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),v0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pc(r)).join(",")),e.ue=n}return e.ue}function vE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Oq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kI(t.startAt,e.startAt)&&kI(t.endAt,e.endAt)}function Qw(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Bq(t,e,n,r,i,s,o,a){return new ch(t,e,n,r,i,s,o,a)}function oO(t){return new ch(t)}function PI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aO(t){return t.collectionGroup!==null}function zf(t){const e=et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Vn(Mn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Sg(s,r))}),n.has(Mn.keyField().canonicalString())||e.ce.push(new Sg(Mn.keyField(),r))}return e.ce}function qi(t){const e=et(t);return e.le||(e.le=zq(e,zf(t))),e.le}function zq(t,e){if(t.limitType==="F")return RI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sg(i.field,s)});const n=t.endAt?new bg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bg(t.startAt.position,t.startAt.inclusive):null;return RI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yw(t,e){const n=t.filters.concat([e]);return new ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xw(t,e,n){return new ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function w0(t,e){return vE(qi(t),qi(e))&&t.limitType===e.limitType}function lO(t){return`${yE(qi(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iO(i)).join(", ")}]`),v0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pc(i)).join(",")),`Target(${r})`}(qi(t))}; limitType=${t.limitType})`}function _0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=AI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,zf(r),i)||r.endAt&&!function(o,a,l){const c=AI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,zf(r),i))}(t,e)}function Wq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uO(t){return(e,n)=>{let r=!1;for(const i of zf(t)){const s=Hq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Hq(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?hc(l,c):qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return XP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=new Jt(Pe.comparator);function Bs(){return qq}const cO=new Jt(Pe.comparator);function Ef(...t){let e=cO;for(const n of t)e=e.insert(n.key,n);return e}function fO(t){let e=cO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $a(){return Wf()}function dO(){return Wf()}function Wf(){return new Oc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gq=new Jt(Pe.comparator),Kq=new Vn(Pe.comparator);function mt(...t){let e=Kq;for(const n of t)e=e.add(n);return e}const Qq=new Vn(Tt);function Yq(){return Qq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eg(e)?"-0":e}}function pO(t){return{integerValue:""+t}}function Xq(t,e){return Aq(e)?pO(e):hO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this._=void 0}}function Jq(t,e,n){return t instanceof Tg?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pE(s)&&(s=mE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof kd?gO(t,e):t instanceof Rd?yO(t,e):function(i,s){const o=mO(i,s),a=OI(o)+OI(i.Pe);return Gw(o)&&Gw(i.Pe)?pO(a):hO(i.serializer,a)}(t,e)}function Zq(t,e,n){return t instanceof kd?gO(t,e):t instanceof Rd?yO(t,e):n}function mO(t,e){return t instanceof Ig?function(r){return Gw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tg extends E0{}class kd extends E0{constructor(e){super(),this.elements=e}}function gO(t,e){const n=vO(e);for(const r of t.elements)n.some(i=>Zi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Rd extends E0{constructor(e){super(),this.elements=e}}function yO(t,e){let n=vO(e);for(const r of t.elements)n=n.filter(i=>!Zi(i,r));return{arrayValue:{values:n}}}class Ig extends E0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function OI(t){return dn(t.integerValue||t.doubleValue)}function vO(t){return gE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof kd&&i instanceof kd||r instanceof Rd&&i instanceof Rd?dc(r.elements,i.elements,Zi):r instanceof Ig&&i instanceof Ig?Zi(r.Pe,i.Pe):r instanceof Tg&&i instanceof Tg}(t.transform,e.transform)}class tG{constructor(e,n){this.version=e,this.transformResults=n}}class Gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class b0{}function wO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EO(t.key,Gi.none()):new fh(t.key,t.data,Gi.none());{const n=t.data,r=yr.empty();let i=new Vn(Mn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new la(t.key,r,new Pr(i.toArray()),Gi.none())}}function nG(t,e,n){t instanceof fh?function(i,s,o){const a=i.value.clone(),l=DI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof la?function(i,s,o){if(!hm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=DI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(_O(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hf(t,e,n,r){return t instanceof fh?function(s,o,a,l){if(!hm(s.precondition,o))return a;const c=s.value.clone(),f=MI(s.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof la?function(s,o,a,l){if(!hm(s.precondition,o))return a;const c=MI(s.fieldTransforms,l,o),f=o.data;return f.setAll(_O(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return hm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mO(r.transform,i||null);s!=null&&(n===null&&(n=yr.empty()),n.set(r.field,s))}return n||null}function NI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dc(r,i,(s,o)=>eG(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fh extends b0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class la extends b0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _O(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DI(t,e,n){const r=new Map;Ut(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zq(o,a,n[i]))}return r}function MI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Jq(s,o,e))}return r}class EO extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iG extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=wO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(n,r)=>NI(n,r))&&dc(this.baseMutations,e.baseMutations,(n,r)=>NI(n,r))}}class wE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length);let i=function(){return Gq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,vt;function lG(t){switch(t){default:return qe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function bO(t){if(t===void 0)return js("GRPC error has no .code"),ee.UNKNOWN;switch(t){case fn.OK:return ee.OK;case fn.CANCELLED:return ee.CANCELLED;case fn.UNKNOWN:return ee.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ee.INTERNAL;case fn.UNAVAILABLE:return ee.UNAVAILABLE;case fn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case fn.NOT_FOUND:return ee.NOT_FOUND;case fn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case fn.ABORTED:return ee.ABORTED;case fn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case fn.DATA_LOSS:return ee.DATA_LOSS;default:return qe()}}(vt=fn||(fn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=new Ja([4294967295,4294967295],0);function LI(t){const e=uG().encode(t),n=new BP;return n.update(e),new Uint8Array(n.digest())}function $I(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ja([n,r],0),new Ja([i,s],0)]}class _E{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bf(`Invalid padding: ${n}`);if(r<0)throw new bf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ja.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ja.fromNumber(r)));return i.compare(cG)===1&&(i=new Ja([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=LI(e),[r,i]=$I(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _E(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=LI(e),[r,i]=$I(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new S0(Ye.min(),i,new Jt(Tt),Bs(),mt())}}class dh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dh(r,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class SO{constructor(e,n){this.targetId=e,this.me=n}}class TO{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VI{constructor(){this.fe=0,this.ge=UI(),this.pe=Zn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=mt(),n=mt(),r=mt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new dh(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=UI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fG{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bs(),this.qe=FI(),this.Qe=new Jt(Tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Qw(s))if(r===0){const o=new Pe(s.path);this.Ue(n,o,Qn.newNoDocument(o,Ye.min()))}else Ut(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=fl(r).toUint8Array()}catch(l){if(l instanceof JP)return fc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _E(o,i,s)}catch(l){return fc(l instanceof bf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Qw(a.target)){const l=new Pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Qn.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=mt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new S0(e,n,this.Qe,this.ke,r);return this.ke=Bs(),this.qe=FI(),this.Qe=new Jt(Tt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new VI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vn(Tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new VI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FI(){return new Jt(Pe.comparator)}function UI(){return new Jt(Pe.comparator)}const dG=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pG=(()=>({and:"AND",or:"OR"}))();class mG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jw(t,e){return t.useProto3Json||v0(e)?e:{value:e}}function xg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gG(t,e){return xg(t,e.toTimestamp())}function Ki(t){return Ut(!!t),Ye.fromTimestamp(function(n){const r=na(n);return new bn(r.seconds,r.nanos)}(t))}function EE(t,e){return Zw(t,e).canonicalString()}function Zw(t,e){const n=function(i){return new Bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xO(t){const e=Bt.fromString(t);return Ut(PO(e)),e}function e1(t,e){return EE(t.databaseId,e.path)}function jy(t,e){const n=xO(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(AO(n))}function CO(t,e){return EE(t.databaseId,e)}function yG(t){const e=xO(t);return e.length===4?Bt.emptyPath():AO(e)}function t1(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AO(t){return Ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jI(t,e,n){return{name:e1(t,e),fields:n.value.mapValue.fields}}function vG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Ut(f===void 0||typeof f=="string"),Zn.fromBase64String(f||"")):(Ut(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Zn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?ee.UNKNOWN:bO(c.code);return new be(f,c.message||"")}(o);n=new TO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jy(t,r.document.name),s=Ki(r.document.updateTime),o=r.document.createTime?Ki(r.document.createTime):Ye.min(),a=new yr({mapValue:{fields:r.document.fields}}),l=Qn.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new pm(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jy(t,r.document),s=r.readTime?Ki(r.readTime):Ye.min(),o=Qn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jy(t,r.document),s=r.removedTargetIds||[];n=new pm([],s,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aG(i,s),a=r.targetId;n=new SO(a,o)}}return n}function wG(t,e){let n;if(e instanceof fh)n={update:jI(t,e.key,e.value)};else if(e instanceof EO)n={delete:e1(t,e.key)};else if(e instanceof la)n={update:jI(t,e.key,e.data),updateMask:AG(e.fieldMask)};else{if(!(e instanceof iG))return qe();n={verify:e1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ig)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:qe()}(t,e.precondition)),n}function _G(t,e){return t&&t.length>0?(Ut(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ki(i.updateTime):Ki(s);return o.isEqual(Ye.min())&&(o=Ki(s)),new tG(o,i.transformResults||[])}(n,e))):[]}function EG(t,e){return{documents:[CO(t,e.path)]}}function bG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CO(t,i);const s=function(c){if(c.length!==0)return RO(Si.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(h){return{field:Xl(h.field),direction:IG(h.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Jw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function SG(t){let e=yG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(d){const h=kO(d);return h instanceof Si&&nO(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Sg(Jl(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,v0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,g=d.values||[];return new bg(g,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,g=d.values||[];return new bg(g,h)}(n.endAt)),Bq(e,i,o,s,a,"F",l,c)}function TG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jl(n.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jl(n.unaryFilter.field);return pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jl(n.unaryFilter.field);return pn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(n){return pn.create(Jl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Si.create(n.compositeFilter.filters.map(r=>kO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(n.compositeFilter.op))}(t):qe()}function IG(t){return dG[t]}function xG(t){return hG[t]}function CG(t){return pG[t]}function Xl(t){return{fieldPath:t.canonicalString()}}function Jl(t){return Mn.fromServerFormat(t.fieldPath)}function RO(t){return t instanceof pn?function(n){if(n.op==="=="){if(CI(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NAN"}};if(xI(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CI(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NAN"}};if(xI(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(n.field),op:xG(n.op),value:n.value}}}(t):t instanceof Si?function(n){const r=n.getFilters().map(i=>RO(i));return r.length===1?r[0]:{compositeFilter:{op:CG(n.op),filters:r}}}(t):qe()}function AG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r,i,s=Ye.min(),o=Ye.min(),a=Zn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Do(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.ct=e}}function RG(t){const e=SG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(){this._n=new OG}addToCollectionParentIndex(e,n){return this._n.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ta.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class OG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vn(Bt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new mc(0)}static Ln(){return new mc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(){this.changes=new Oc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hf(r.mutation,i,Pr.empty(),bn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=mt()){const i=$a();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ef();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$a();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,mt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Bs();const o=Wf(),a=function(){return Wf()}();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof la)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Hf(f.mutation,c,f.mutation.getFieldMask(),bn.now())):o.set(c.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var d;return a.set(c,new DG(f,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wf();let i=new Jt((o,a)=>o-a),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||Pr.empty();f=a.applyToLocalView(c,f),r.set(l,f);const d=(i.get(a.batchId)||mt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,d=dO();f.forEach(h=>{if(!s.has(h)){const g=wO(n.get(h),r.get(h));g!==null&&d.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ie.resolve($a());let a=-1,l=s;return o.next(c=>ie.forEach(c,(f,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(f)?ie.resolve():this.remoteDocumentCache.getEntry(e,f).next(h=>{l=l.insert(f,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,mt())).next(f=>({batchId:a,changes:fO(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Ef();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ef();return this.indexManager.getCollectionParents(e,s).next(a=>ie.forEach(a,l=>{const c=function(d,h){return new ch(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Qn.newInvalidDocument(f)))});let a=Ef();return o.forEach((l,c)=>{const f=s.get(l);f!==void 0&&Hf(f.mutation,c,Pr.empty(),bn.now()),_0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ki(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:RG(i.bundledQuery),readTime:Ki(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(){this.overlays=new Jt(Pe.comparator),this.hr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$a();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=$a(),s=n.length+1,o=new Pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Jt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=$a(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=$a(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return ie.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oG(n,r));let s=this.hr.get(n);s===void 0&&(s=mt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.Pr=new Vn(Cn.Ir),this.Tr=new Vn(Cn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Cn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Pe(new Bt([])),r=new Cn(n,e),i=new Cn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Pe(new Bt([])),r=new Cn(n,e),i=new Cn(n,e+1);let s=mt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Cn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Pe.comparator(e.key,n.key)||Tt(e.pr,n.pr)}static Er(e,n){return Tt(e.pr,n.pr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Vn(Cn.Ir)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sG(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Cn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,n){return ie.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),i=new Cn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(Tt);return n.forEach(i=>{const s=new Cn(i,0),o=new Cn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),ie.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const o=new Cn(new Pe(s),0);let a=new Vn(Tt);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),ie.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ut(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ie.forEach(n.mutations,i=>{const s=new Cn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Cn(n,0),i=this.wr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.vr=e,this.docs=function(){return new Jt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bs();const o=n.path,a=new Pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Tq(Sq(f),r)<=0||(i.has(f.key)||_0(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){qe()}Fr(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UG(this)}getSize(e){return ie.resolve(this.size)}}class UG extends NG{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.persistence=e,this.Mr=new Oc(n=>yE(n),vE),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Or=0,this.Nr=new bE,this.targetCount=0,this.Lr=mc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ie.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.qn(n),ie.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,n){this.Br={},this.overlays={},this.kr=new hE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jG(this),this.indexManager=new PG,this.remoteDocumentCache=function(i){return new FG(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new kG(n),this.$r=new LG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $G,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new VG(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new zG(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ie.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class zG extends xq{constructor(e){super(),this.currentSequenceNumber=e}}class SE{constructor(e){this.persistence=e,this.zr=new bE,this.jr=null}static Hr(e){return new SE(e)}get Jr(){if(this.jr)return this.jr;throw qe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Jr,r=>{const i=Pe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ye.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ie.or([()=>ie.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=mt(),i=mt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new TE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return YB()?8:Cq(Un())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new WG;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(af()<=gt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ie.resolve()):(af()<=gt.DEBUG&&Se("QueryEngine","Query:",Yl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(af()<=gt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):ie.resolve())}ji(e,n){if(PI(n))return ie.resolve(null);let r=qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xw(n,null,"F"),r=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=mt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Xw(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return PI(n)||i.isEqual(Ye.min())?ie.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?ie.resolve(null):(af()<=gt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yl(n)),this.es(e,o,n,bq(i,-1)).next(a=>a))})}Zi(e,n){let r=new Vn(uO(e));return n.forEach((i,s)=>{_0(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return af()<=gt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.zi.getDocumentsMatchingQuery(e,n,ta.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Jt(Tt),this.rs=new Oc(s=>yE(s),vE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MG(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function GG(t,e,n,r){return new qG(t,e,n,r)}async function OO(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=mt();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function KG(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const d=c.batch,h=d.keys();let g=ie.resolve();return h.forEach(y=>{g=g.next(()=>f.getEntry(l,y)).next(v=>{const S=c.docVersions.get(y);Ut(S!==null),v.version.compareTo(S)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),f.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=mt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NO(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function QG(t,e){const n=et(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((f,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,d)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Zn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(d,g),function(v,S,b){return v.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,g,f)&&a.push(n.Qr.updateTargetData(s,g))});let l=Bs(),c=mt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(YG(s,o,e.documentUpdates).next(f=>{l=f.cs,c=f.ls})),!r.isEqual(Ye.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return ie.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function YG(t,e,n){let r=mt(),i=mt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bs();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function XG(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JG(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Do(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function n1(t,e,n){const r=et(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!uh(o))throw o;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function BI(t,e,n){const r=et(t);let i=Ye.min(),s=mt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,f){const d=et(l),h=d.rs.get(f);return h!==void 0?ie.resolve(d.ns.get(h)):d.Qr.getTargetData(c,f)}(r,o,qi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ye.min(),n?s:mt())).next(a=>(ZG(r,Wq(e),a),{documents:a,hs:s})))}function ZG(t,e,n){let r=t.ss.get(e)||Ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class zI{constructor(){this.activeTargetIds=Yq()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eK{constructor(){this.no=new zI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new zI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=null;function By(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class iK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=By(),l=this.vo(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(f=>(Se("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw fc("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=nK[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=By();return new Promise((o,a)=>{const l=new zP;l.setWithCredentials(!0),l.listenOnce(HP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fm.NO_ERROR:const f=l.getResponseJson();Se(Hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case fm.TIMEOUT:Se(Hn,`RPC '${e}' ${s} timed out`),a(new be(ee.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const d=l.getStatus();if(Se(Hn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const y=function(S){const b=S.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(b)>=0?b:ee.UNKNOWN}(g.status);a(new be(y,g.message))}else a(new be(ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new be(ee.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Se(Hn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Se(Hn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=By(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KP(),a=GP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new WP({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");Se(Hn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const d=o.createWebChannel(f,l);let h=!1,g=!1;const y=new rK({lo:S=>{g?Se(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(Se(Hn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Se(Hn,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},ho:()=>d.close()}),v=(S,b,w)=>{S.listen(b,T=>{try{w(T)}catch(N){setTimeout(()=>{throw N},0)}})};return v(d,_f.EventType.OPEN,()=>{g||(Se(Hn,`RPC '${e}' stream ${i} transport opened.`),y.mo())}),v(d,_f.EventType.CLOSE,()=>{g||(g=!0,Se(Hn,`RPC '${e}' stream ${i} transport closed`),y.po())}),v(d,_f.EventType.ERROR,S=>{g||(g=!0,fc(Hn,`RPC '${e}' stream ${i} transport errored:`,S),y.po(new be(ee.UNAVAILABLE,"The operation could not be completed")))}),v(d,_f.EventType.MESSAGE,S=>{var b;if(!g){const w=S.data[0];Ut(!!w);const T=w,N=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(N){Se(Hn,`RPC '${e}' stream ${i} received error:`,N);const F=N.status;let j=function(R){const D=fn[R];if(D!==void 0)return bO(D)}(F),A=N.message;j===void 0&&(j=ee.INTERNAL,A="Unknown error status: "+F+" with message "+N.message),g=!0,y.po(new be(j,A)),d.close()}else Se(Hn,`RPC '${e}' stream ${i} received:`,w),y.yo(w)}}),v(a,qP.STAT_EVENT,S=>{S.stat===Hw.PROXY?Se(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Hw.NOPROXY&&Se(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function zy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){return new mG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new DO(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new be(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sK extends MO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=vG(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ye.min():o.readTime?Ki(o.readTime):Ye.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=t1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Qw(l)?{documents:EG(s,l)}:{query:bG(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IO(s,o.resumeToken);const c=Jw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ye.min())>0){a.readTime=xg(s,o.snapshotVersion.toTimestamp());const c=Jw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=TG(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=t1(this.serializer),n.removeTarget=e,this.i_(n)}}class oK extends MO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=_G(e.writeResults,e.commitTime),r=Ki(e.commitTime);return this.listener.A_(r,n)}return Ut(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=t1(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wG(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new be(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Zw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ee.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Zw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ee.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class lK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(js(n),this.y_=!1):Se("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Sl(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=et(l);c.M_.add(4),await hh(c),c.N_.set("Unknown"),c.M_.delete(4),await I0(c)}(this))})}),this.N_=new lK(r,i)}}async function I0(t){if(Sl(t))for(const e of t.x_)await e(!0)}async function hh(t){for(const e of t.x_)await e(!1)}function LO(t,e){const n=et(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),AE(n)?CE(n):Nc(n).Xo()&&xE(n,e))}function IE(t,e){const n=et(t),r=Nc(n);n.F_.delete(e),r.Xo()&&$O(n,e),n.F_.size===0&&(r.Xo()?r.n_():Sl(n)&&n.N_.set("Unknown"))}function xE(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nc(t).P_(e)}function $O(t,e){t.L_.xe(e),Nc(t).I_(e)}function CE(t){t.L_=new fG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Nc(t).start(),t.N_.w_()}function AE(t){return Sl(t)&&!Nc(t).Zo()&&t.F_.size>0}function Sl(t){return et(t).M_.size===0}function VO(t){t.L_=void 0}async function cK(t){t.N_.set("Online")}async function fK(t){t.F_.forEach((e,n)=>{xE(t,e)})}async function dK(t,e){VO(t),AE(t)?(t.N_.D_(e),CE(t)):t.N_.set("Unknown")}async function hK(t,e,n){if(t.N_.set("Online"),e instanceof TO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cg(t,r)}else if(e instanceof pm?t.L_.Ke(e):e instanceof SO?t.L_.He(e):t.L_.We(e),!n.isEqual(Ye.min()))try{const r=await NO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.F_.get(c);f&&s.F_.set(c,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const f=s.F_.get(l);if(!f)return;s.F_.set(l,f.withResumeToken(Zn.EMPTY_BYTE_STRING,f.snapshotVersion)),$O(s,l);const d=new Do(f.target,l,c,f.sequenceNumber);xE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await Cg(t,r)}}async function Cg(t,e,n){if(!uh(e))throw e;t.M_.add(1),await hh(t),t.N_.set("Offline"),n||(n=()=>NO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await I0(t)})}function FO(t,e){return e().catch(n=>Cg(t,n,e))}async function x0(t){const e=et(t),n=ra(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;pK(e);)try{const i=await XG(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,mK(e,i)}catch(i){await Cg(e,i)}UO(e)&&jO(e)}function pK(t){return Sl(t)&&t.v_.length<10}function mK(t,e){t.v_.push(e);const n=ra(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function UO(t){return Sl(t)&&!ra(t).Zo()&&t.v_.length>0}function jO(t){ra(t).start()}async function gK(t){ra(t).V_()}async function yK(t){const e=ra(t);for(const n of t.v_)e.d_(n.mutations)}async function vK(t,e,n){const r=t.v_.shift(),i=wE.from(r,e,n);await FO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await x0(t)}async function wK(t,e){e&&ra(t).E_&&await async function(r,i){if(function(o){return lG(o)&&o!==ee.ABORTED}(i.code)){const s=r.v_.shift();ra(r).t_(),await FO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await x0(r)}}(t,e),UO(t)&&jO(t)}async function HI(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=Sl(n);n.M_.add(3),await hh(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await I0(n)}async function _K(t,e){const n=et(t);e?(n.M_.delete(2),await I0(n)):e||(n.M_.add(2),await hh(n),n.N_.set("Unknown"))}function Nc(t){return t.B_||(t.B_=function(n,r,i){const s=et(n);return s.f_(),new sK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:cK.bind(null,t),To:fK.bind(null,t),Ao:dK.bind(null,t),h_:hK.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),AE(t)?CE(t):t.N_.set("Unknown")):(await t.B_.stop(),VO(t))})),t.B_}function ra(t){return t.k_||(t.k_=function(n,r,i){const s=et(n);return s.f_(),new oK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:gK.bind(null,t),Ao:wK.bind(null,t),R_:yK.bind(null,t),A_:vK.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await x0(t)):(await t.k_.stop(),t.v_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RE(t,e){if(js("AsyncQueue",`${e}: ${t}`),uh(t))return new be(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Ef(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new Mu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.q_=new Jt(Pe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):qe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gc{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new gc(e,n,Mu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class bK{constructor(){this.queries=new Oc(e=>lO(e),w0),this.onlineState="Unknown",this.z_=new Set}}async function SK(t,e){const n=et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new EK,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=RE(o,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&PE(n)}async function TK(t,e){const n=et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IK(t,e){const n=et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&PE(n)}function xK(t,e,n){const r=et(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function PE(t){t.z_.forEach(e=>{e.next()})}var r1,GI;(GI=r1||(r1={})).J_="default",GI.Cache="cache";class CK{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==r1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.key=e}}class zO{constructor(e){this.key=e}}class AK{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=mt(),this.mutatedKeys=mt(),this.Ia=uO(e),this.Ta=new Mu(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new qI,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,d)=>{const h=i.get(f),g=_0(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;h&&g?h.data.isEqual(g.data)?y!==v&&(r.track({type:3,doc:g}),S=!0):this.Ra(h,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Ia(g,l)>0||c&&this.Ia(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),S=!0):h&&!g&&(r.track({type:1,doc:h}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),s=v?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,d)=>function(g,y){const v=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return v(g)-v(y)}(f.type,d.type)||this.Ia(f.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new gc(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new qI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=mt(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new zO(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new BO(r))}),n}pa(e){this.la=e.hs,this.Pa=mt();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return gc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class kK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RK{constructor(e){this.key=e,this.wa=!1}}class PK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Oc(a=>lO(a),w0),this.Da=new Map,this.Ca=new Set,this.va=new Jt(Pe.comparator),this.Fa=new Map,this.Ma=new bE,this.xa={},this.Oa=new Map,this.Na=mc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function OK(t,e,n=!0){const r=QO(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await WO(r,e,n,!0),i}async function NK(t,e){const n=QO(t);await WO(n,e,!0,!1)}async function WO(t,e,n,r){const i=await JG(t.localStore,qi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await DK(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LO(t.remoteStore,i),a}async function DK(t,e,n,r,i){t.Ba=(d,h,g)=>async function(v,S,b,w){let T=S.view.da(b);T.Xi&&(T=await BI(v.localStore,S.query,!1).then(({documents:A})=>S.view.da(A,T)));const N=w&&w.targetChanges.get(S.targetId),F=w&&w.targetMismatches.get(S.targetId)!=null,j=S.view.applyChanges(T,v.isPrimaryClient,N,F);return QI(v,S.targetId,j.fa),j.snapshot}(t,d,h,g);const s=await BI(t.localStore,e,!0),o=new AK(e,s.hs),a=o.da(s.documents),l=dh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);QI(t,n,c.fa);const f=new kK(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function MK(t,e,n){const r=et(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!w0(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&IE(r.remoteStore,i.targetId),i1(r,i.targetId)}).catch(lh)):(i1(r,i.targetId),await n1(r.localStore,i.targetId,!0))}async function LK(t,e){const n=et(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),IE(n.remoteStore,r.targetId))}async function $K(t,e,n){const r=WK(t);try{const i=await function(o,a){const l=et(o),c=bn.now(),f=a.reduce((g,y)=>g.add(y.key),mt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Bs(),v=mt();return l.os.getEntries(g,f).next(S=>{y=S,y.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(S=>{d=S;const b=[];for(const w of a){const T=rG(w,d.get(w.key).overlayedDocument);T!=null&&b.push(new la(w.key,T,ZP(T.value.mapValue),Gi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,b,a)}).next(S=>{h=S;const b=S.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,S.batchId,b)})}).then(()=>({batchId:h.batchId,changes:fO(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Jt(Tt)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await ph(r,i.changes),await x0(r.remoteStore)}catch(i){const s=RE(i,"Failed to persist write");n.reject(s)}}async function HO(t,e){const n=et(t);try{const r=await QG(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Ut(o.wa):i.removedDocuments.size>0&&(Ut(o.wa),o.wa=!1))}),await ph(n,r,e)}catch(r){await lh(r)}}function KI(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=et(o);l.onlineState=a;let c=!1;l.queries.forEach((f,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&PE(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VK(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Jt(Pe.comparator);o=o.insert(s,Qn.newNoDocument(s,Ye.min()));const a=mt().add(s),l=new S0(Ye.min(),new Map,new Jt(Tt),o,a);await HO(r,l),r.va=r.va.remove(s),r.Fa.delete(e),OE(r)}else await n1(r.localStore,e,!1).then(()=>i1(r,e,n)).catch(lh)}async function FK(t,e){const n=et(t),r=e.batch.batchId;try{const i=await KG(n.localStore,e);GO(n,r,null),qO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ph(n,i)}catch(i){await lh(i)}}async function UK(t,e,n){const r=et(t);try{const i=await function(o,a){const l=et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ut(d!==null),f=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);GO(r,e,n),qO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ph(r,i)}catch(i){await lh(i)}}function qO(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function GO(t,e,n){const r=et(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function i1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||KO(t,r)})}function KO(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(IE(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),OE(t))}function QI(t,e,n){for(const r of n)r instanceof BO?(t.Ma.addReference(r.key,e),jK(t,r)):r instanceof zO?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||KO(t,r.key)):qe()}function jK(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.Ca.add(r),OE(t))}function OE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Pe(Bt.fromString(e)),r=t.Na.next();t.Fa.set(r,new RK(n)),t.va=t.va.insert(n,r),LO(t.remoteStore,new Do(qi(oO(n.path)),r,"TargetPurposeLimboResolution",hE.oe))}}async function ph(t,e,n){const r=et(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const f=c&&!c.fromCache;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=TE.Ki(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const f=et(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ie.forEach(c,h=>ie.forEach(h.qi,g=>f.persistence.referenceDelegate.addReference(d,h.targetId,g)).next(()=>ie.forEach(h.Qi,g=>f.persistence.referenceDelegate.removeReference(d,h.targetId,g)))))}catch(d){if(!uh(d))throw d;Se("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const g=f.ns.get(h),y=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(y);f.ns=f.ns.insert(h,v)}}}(r.localStore,s))}async function BK(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await OO(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new be(ee.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ph(n,r.us)}}function zK(t,e){const n=et(t),r=n.Fa.get(e);if(r&&r.wa)return mt().add(r.key);{let i=mt();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function QO(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VK.bind(null,e),e.Sa.h_=IK.bind(null,e.eventManager),e.Sa.ka=xK.bind(null,e.eventManager),e}function WK(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UK.bind(null,e),e}class YI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=T0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GG(this.persistence,new HG,e.initialUser,this.serializer)}createPersistence(e){return new BG(SE.Hr,this.serializer)}createSharedClientState(e){return new eK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HK{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BK.bind(null,this.syncEngine),await _K(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bK}()}createDatastore(e){const n=T0(e.databaseInfo.databaseId),r=function(s){return new iK(s)}(e.databaseInfo);return function(s,o,a,l){return new aK(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new uK(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>KI(this.syncEngine,n,0),function(){return WI.D()?new WI:new tK}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,f){const d=new PK(i,s,o,a,l,c);return f&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=et(r);Se("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await hh(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gn.UNAUTHENTICATED,this.clientId=YP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new be(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=RE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wy(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await OO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QK(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HI(e.remoteStore,i)),t._onlineComponents=e}function KK(t){return t.name==="FirebaseError"?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function QK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!KK(n))throw n;fc("Error using user provided cache. Falling back to memory cache: "+n),await Wy(t,new YI)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await Wy(t,new YI);return t._offlineComponents}async function YO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await XI(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await XI(t,new HK))),t._onlineComponents}function YK(t){return YO(t).then(e=>e.syncEngine)}async function XK(t){const e=await YO(t),n=e.eventManager;return n.onListen=OK.bind(null,e.syncEngine),n.onUnlisten=MK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LK.bind(null,e.syncEngine),n}function JK(t,e,n={}){const r=new Go;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const f=new qK({next:h=>{o.enqueueAndForget(()=>TK(s,d)),h.fromCache&&l.source==="server"?c.reject(new be(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new CK(a,f,{includeMetadataChanges:!0,ra:!0});return SK(s,d)}(await XK(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e,n){if(!n)throw new be(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZK(t,e,n,r){if(e===!0&&r===!0)throw new be(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZI(t){if(!Pe.isDocumentKey(t))throw new be(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ex(t){if(Pe.isDocumentKey(t))throw new be(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function yc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C0(t);throw new be(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new be(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new be(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hq;switch(r.type){case"firstParty":return new yq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JI.get(n);r&&(Se("ComponentProvider","Removing Datastore"),JI.delete(n),r.terminate())}(this),Promise.resolve()}}function eQ(t,e,n,r={}){var i;const s=(t=yc(t,A0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Gn.MOCK_USER;else{a=sP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new be(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gn(c)}t._authCredentials=new pq(new QP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dc(this.firestore,e,this._query)}}class Mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class Ko extends Dc{constructor(e,n,r){super(e,n,oO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new Pe(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function Hy(t,e,...n){if(t=Jn(t),JO("collection","path",e),t instanceof A0){const r=Bt.fromString(e,...n);return ex(r),new Ko(t,null,r)}{if(!(t instanceof Mr||t instanceof Ko))throw new be(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return ex(r),new Ko(t.firestore,null,r)}}function s1(t,e,...n){if(t=Jn(t),arguments.length===1&&(e=YP.newId()),JO("doc","path",e),t instanceof A0){const r=Bt.fromString(e,...n);return ZI(r),new Mr(t,null,new Pe(r))}{if(!(t instanceof Mr||t instanceof Ko))throw new be(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return ZI(r),new Mr(t.firestore,t instanceof Ko?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new DO(this,"async_queue_retry"),this.hu=()=>{const n=zy();n&&Se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=zy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=zy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Go;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!uh(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw js("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=kE.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&qe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class k0 extends A0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tQ}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||e3(this),this._firestoreClient.terminate()}}function nQ(t,e){const n=typeof t=="object"?t:nE(),r=typeof t=="string"?t:e||"(default)",i=p0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nP("firestore");s&&eQ(i,...s)}return i}function ZO(t){return t._firestoreClient||e3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function e3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,f){return new Rq(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,XO(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new GK(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vc(Zn.fromBase64String(e))}catch(n){throw new be(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vc(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=/^__.*__$/;class iQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new fh(e,this.data,n,this.fieldTransforms)}}class t3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class ME{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ME(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ag(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(n3(this.fu)&&rQ.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class sQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||T0(e)}Fu(e,n,r,i=!1){return new ME({fu:e,methodName:n,vu:r,path:Mn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LE(t){const e=t._freezeSettings(),n=T0(t._databaseId);return new sQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oQ(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);$E("Data must be an object, but it was:",o,r);const a=r3(r,o);let l,c;if(s.merge)l=new Pr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const d of s.mergeFields){const h=o1(e,d,n);if(!o.contains(h))throw new be(ee.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);s3(f,h)||f.push(h)}l=new Pr(f),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new iQ(new yr(a),l,c)}class P0 extends NE{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof P0}}function aQ(t,e,n,r){const i=t.Fu(1,e,n);$E("Data must be an object, but it was:",i,r);const s=[],o=yr.empty();bl(r,(l,c)=>{const f=VE(e,l,n);c=Jn(c);const d=i.Su(f);if(c instanceof P0)s.push(f);else{const h=mh(c,d);h!=null&&(s.push(f),o.set(f,h))}});const a=new Pr(s);return new t3(o,a,i.fieldTransforms)}function lQ(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[o1(e,r,n)],l=[i];if(s.length%2!=0)throw new be(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(o1(e,s[h])),l.push(s[h+1]);const c=[],f=yr.empty();for(let h=a.length-1;h>=0;--h)if(!s3(c,a[h])){const g=a[h];let y=l[h];y=Jn(y);const v=o.Su(g);if(y instanceof P0)c.push(g);else{const S=mh(y,v);S!=null&&(c.push(g),f.set(g,S))}}const d=new Pr(c);return new t3(f,d,o.fieldTransforms)}function uQ(t,e,n,r=!1){return mh(n,t.Fu(r?4:3,e))}function mh(t,e){if(i3(t=Jn(t)))return $E("Unsupported field value:",e,t),r3(t,e);if(t instanceof NE)return function(r,i){if(!n3(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mh(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=bn.fromDate(r);return{timestampValue:xg(i.serializer,s)}}if(r instanceof bn){const s=new bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xg(i.serializer,s)}}if(r instanceof DE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vc)return{bytesValue:IO(i.serializer,r._byteString)};if(r instanceof Mr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:EE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${C0(r)}`)}(t,e)}function r3(t,e){const n={};return XP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(r,i)=>{const s=mh(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function i3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bn||t instanceof DE||t instanceof vc||t instanceof Mr||t instanceof NE)}function $E(t,e,n){if(!i3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=C0(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function o1(t,e,n){if((e=Jn(e))instanceof R0)return e._internalPath;if(typeof e=="string")return VE(t,e);throw Ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const cQ=new RegExp("[~\\*/\\[\\]]");function VE(t,e,n){if(e.search(cQ)>=0)throw Ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new R0(...e.split("."))._internalPath}catch{throw Ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ag(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new be(ee.INVALID_ARGUMENT,a+t+l)}function s3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fQ extends o3{data(){return super.data()}}function FE(t,e){return typeof e=="string"?VE(t,e):e instanceof R0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UE{}class hQ extends UE{}function mp(t,e,...n){let r=[];e instanceof UE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof jE).length,a=s.filter(l=>l instanceof O0).length;if(o>1||o>0&&a>0)throw new be(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class O0 extends hQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new O0(e,n,r)}_apply(e){const n=this._parse(e);return a3(e._query,n),new Dc(e.firestore,e.converter,Yw(e._query,n))}_parse(e){const n=LE(e.firestore);return function(s,o,a,l,c,f,d){let h;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new be(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){rx(d,f);const g=[];for(const y of d)g.push(nx(l,s,y));h={arrayValue:{values:g}}}else h=nx(l,s,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||rx(d,f),h=uQ(a,o,d,f==="in"||f==="not-in");return pn.create(c,f,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gp(t,e,n){const r=e,i=FE("where",t);return O0._create(i,r,n)}class jE extends UE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)a3(o,l),o=Yw(o,l)}(e._query,n),new Dc(e.firestore,e.converter,Yw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nx(t,e,n){if(typeof(n=Jn(n))=="string"){if(n==="")throw new be(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aO(e)&&n.indexOf("/")!==-1)throw new be(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!Pe.isDocumentKey(r))throw new be(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return II(t,new Pe(r))}if(n instanceof Mr)return II(t,n._key);throw new be(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${C0(n)}.`)}function rx(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a3(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pQ{convertValue(e,n="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new DE(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=na(e);return new bn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);Ut(PO(r));const i=new Cd(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||js(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gQ extends o3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mm extends gQ{data(e={}){return super.data(e)}}class yQ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mm(this._firestore,this._userDataWriter,r.key,r,new yp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new mm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:vQ(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class wQ extends pQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,n)}}function lf(t){t=yc(t,Dc);const e=yc(t.firestore,k0),n=ZO(e),r=new wQ(e);return dQ(t._query),JK(n,t._query).then(i=>new yQ(e,r,t,i))}function ix(t,e,n,...r){t=yc(t,Mr);const i=yc(t.firestore,k0),s=LE(i);let o;return o=typeof(e=Jn(e))=="string"||e instanceof R0?lQ(s,"updateDoc",t._key,e,n,r):aQ(s,"updateDoc",t._key,e),l3(i,[o.toMutation(t._key,Gi.exists(!0))])}function _Q(t,e){const n=yc(t.firestore,k0),r=s1(t),i=mQ(t.converter,e);return l3(n,[oQ(LE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gi.exists(!1))]).then(()=>r)}function l3(t,e){return function(r,i){const s=new Go;return r.asyncQueue.enqueueAndForget(async()=>$K(await YK(r),i,s)),s.promise}(ZO(t),e)}(function(e,n=!0){(function(i){Pc=i})(El),ll(new ea("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new k0(new mq(r.getProvider("auth-internal")),new wq(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),zi(EI,"4.6.3",e),zi(EI,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firebasestorage.googleapis.com",EQ="storageBucket",bQ=2*60*1e3,SQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends rs{constructor(e,n,r=0){super(qy(e),`Firebase Storage: ${n} (${qy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,is.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var es;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(es||(es={}));function qy(t){return"storage/"+t}function TQ(){const t="An unknown error occurred, please check the error payload for server response.";return new is(es.UNKNOWN,t)}function IQ(){return new is(es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xQ(){return new is(es.CANCELED,"User canceled the upload/download.")}function CQ(t){return new is(es.INVALID_URL,"Invalid URL '"+t+"'.")}function AQ(t){return new is(es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sx(t){return new is(es.INVALID_ARGUMENT,t)}function c3(){return new is(es.APP_DELETED,"The Firebase app was deleted.")}function kQ(t){return new is(es.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yi.makeFromUrl(e,n)}catch{return new yi(e,"")}if(r.path==="")return r;throw AQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const f="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${f}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},v=n===u3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp(`^https?://${v}/${i}/${S}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:g,indices:y,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<T.length;N++){const F=T[N],j=F.regex.exec(e);if(j){const A=j[F.indices.bucket];let I=j[F.indices.path];I||(I=""),r=new yi(A,I),F.postModify(r);break}}if(r==null)throw CQ(e);return r}}class RQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function f(...S){c||(c=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function h(){s&&clearTimeout(s)}function g(S,...b){if(c){h();return}if(S){h(),f.call(null,S,...b);return}if(l()||o){h(),f.call(null,S,...b);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,d(T)}let y=!1;function v(S){y||(y=!0,h(),!c&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function OQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NQ(t){return t!==void 0}function ox(t,e,n,r){if(r<e)throw sx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sx(`Invalid value for '${t}'. Expected ${n} or less.`)}function DQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(kg||(kg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,n,r,i,s,o,a,l,c,f,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new vp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===kg.NO_ERROR,l=s.getStatus();if(!a||MQ(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===kg.ABORT;r(!1,new vp(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new vp(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());NQ(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=TQ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?c3():xQ();o(l)}else{const l=IQ();o(l)}};this.canceled_?n(!1,new vp(!1,null,!0)):this.backoffId_=PQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $Q(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function UQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jQ(t,e,n,r,i,s,o=!0){const a=DQ(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return FQ(c,e),$Q(c,n),VQ(c,s),UQ(c,r),new LQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this._service=e,n instanceof yi?this._location=n:this._location=yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rg(e,n)}get root(){const e=new yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zQ(this._location.path)}get storage(){return this._service}get parent(){const e=BQ(this._location.path);if(e===null)return null;const n=new yi(this._location.bucket,e);return new Rg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kQ(e)}}function ax(t,e){const n=e==null?void 0:e[EQ];return n==null?null:yi.makeFromBucketSpec(n,t)}function WQ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:sP(i,t.app.options.projectId))}class HQ{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=u3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bQ,this._maxUploadRetryTime=SQ,this._requests=new Set,i!=null?this._bucket=yi.makeFromBucketSpec(i,this._host):this._bucket=ax(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,e):this._bucket=ax(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rg(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new RQ(c3());{const o=jQ(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lx="@firebase/storage",ux="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="storage";function qQ(t=nE(),e){t=Jn(t);const r=p0(t,f3).getImmediate({identifier:e}),i=nP("storage");return i&&GQ(r,...i),r}function GQ(t,e,n,r={}){WQ(t,e,n,r)}function KQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HQ(n,r,i,e,El)}function QQ(){ll(new ea(f3,KQ,"PUBLIC").setMultipleInstances(!0)),zi(lx,ux,""),zi(lx,ux,"esm2017")}QQ();const YQ={apiKey:"AIzaSyAfmXn0V6KRiXlbZD0E7jYSlmrWbeh2C4c",authDomain:"syndeo-62c78.firebaseapp.com",projectId:"syndeo-62c78",storageBucket:"syndeo-62c78.appspot.com",messagingSenderId:"395661814276",appId:"1:395661814276:web:05b157813a9ea48c186351",measurementId:"G-PG8JKHR9XZ"},BE=lP(YQ);fq(BE);const Gy=nQ(BE);qQ(BE);function XQ(){const t=l0(),e=t==null?void 0:t.address,[n,r]=x.useState([]),[i,s]=x.useState([]),o=async()=>{const c=t==null?void 0:t.label;if(!c)return;const f=Hy(Gy,"profiles"),d=mp(f,gp("email","==",c)),h=await lf(d);if(!h.empty){const g=h.docs[0].data();Array.isArray(g.following)&&s(g.following)}},a=async c=>{const f=t==null?void 0:t.label,d=Hy(Gy,"profiles"),h=mp(d,gp("email","==",c.email)),g=await lf(h),y=mp(d,gp("email","==",f)),v=await lf(y);if(!g.empty&&!v.empty){const S=g.docs[0],b=v.docs[0],w=S.data(),T=b.data();let N=w.followers||[],F=T.following||[];N.includes(f)?(N=N.filter(I=>I!==f),F=F.filter(I=>I!==c.email)):(N.push(f),F.push(c.email));const j=s1(d,S.id),A=s1(d,b.id);await ix(j,{followers:N}),await ix(A,{following:F}),s(F)}else g.empty&&console.log(`Profile with email ${c.email} not found`),v.empty&&console.log(`Current user's profile with email ${f} not found`)},l=async()=>{const c=t==null?void 0:t.label,f=Hy(Gy,"profiles"),h=(await lf(f)).docs.map(v=>v.data());r(h);const g=mp(f,gp("email","==",c));(await lf(g)).empty?(await _Q(f,{email:c,address:e}),console.log("Document added with email:",c)):console.log("Document already exists with email:",c)};return x.useEffect(()=>{t&&(l(),o())},[t]),q.jsxs(q.Fragment,{children:[q.jsxs(Oo,{position:"sticky",px:"4",py:"2",justify:"between",style:{borderBottom:"1px solid var(--gray-a2)"},children:[q.jsx(sm,{children:q.jsx(_d,{children:"$yndeo"})}),q.jsx(sm,{children:q.jsx(l7,{})})]}),q.jsx(fg,{children:q.jsxs(fg,{mt:"5",pt:"2",px:"4",style:{background:"var(--gray-a2)",minHeight:500},children:[q.jsx(SB,{}),t&&q.jsxs("div",{children:[q.jsx(LB,{referrerEmail:t==null?void 0:t.label}),q.jsx(_d,{children:"Find others on $yndeo!"}),q.jsx(sm,{mt:"4",children:n.map((c,f)=>q.jsx(GR,{mb:"4",style:{background:"var(--gray-a5)"},children:q.jsxs(Oo,{children:[q.jsx("div",{className:"pe-5",children:q.jsx(Qa,{children:c.email})}),q.jsx(qR,{onClick:()=>a(c),children:i.includes(c.email)?"Unfollow":"Follow"})]})},f))})]})]})})]})}const JQ=new _L,{networkConfig:ZQ}=C7({localnet:{url:pf("localnet")},devnet:{url:pf("devnet")},testnet:{url:pf("testnet")},mainnet:{url:pf("mainnet")}});Ky.createRoot(document.getElementById("root")).render(q.jsx(lt.StrictMode,{children:q.jsx(UR,{appearance:"light",children:q.jsx(IL,{client:JQ,children:q.jsx(Gj,{networks:ZQ,defaultNetwork:"devnet",children:q.jsx(I7,{autoConnect:!0,children:q.jsx(XQ,{})})})})})}));
